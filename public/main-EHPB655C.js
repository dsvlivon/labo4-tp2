import{$ as Uv,$a as Ie,$b as ly,A as hc,Aa as zv,Ab as He,B as jd,Ba as fn,Bb as vo,C as fc,Ca as Ki,Cb as N,D as ln,Da as mo,Db as yo,E as Nv,Ea as Vr,Eb as Me,F as pi,Fa as Lr,Fb as Zv,G as Hi,Ga as $v,Gb as ey,H as Bd,Ha as qv,Hb as ty,I as zd,Ia as Gv,Ib as ny,J as un,Ja as Hv,Jb as Se,K as Fv,Ka as Wv,Kb as he,L as pc,La as Kv,Lb as iy,M as mi,Ma as Qv,Mb as jr,N as gi,Na as Gt,Nb as ry,O as $d,Oa as Jt,Ob as bc,P as Vv,Pa as go,Pb as wc,Q as qd,Qa as M,Qb as Xd,R as Lv,Ra as x,Rb as Ic,S as mc,Sa as Kd,Sb as Jd,T as Nr,Ta as wn,Tb as sy,U as qt,Ua as Yv,Ub as Lt,V as dn,Va as _c,Vb as Yi,W as je,Wa as Ur,Wb as oy,X as Pe,Xa as Qd,Xb as Ae,Y as xt,Ya as fe,Yb as ay,Z as K,Za as vc,Zb as Br,_ as ve,_a as zn,_b as cy,a as j,aa as te,ab as lt,ac as Te,b as xe,ba as Gd,bb as Xv,bc as Ec,ca as z,cb as Jv,cc as Tc,d as hi,da as $,db as yc,dc as uy,e as v,ea as it,eb as H,ec as Tn,f as Mr,fa as po,fb as dt,fc as Ht,g as Fd,ga as de,gb as V,gc as dy,h as cn,ha as ye,hb as qe,hc as hy,i as Vd,ia as Y,ib as Qi,ic as Cc,j as ho,ja as Pt,jb as In,jc as Sc,k as nt,ka as jv,kb as A,l as wt,la as Fr,lb as S,m as Pv,ma as hn,mb as q,n as Mv,na as ct,nb as Je,o as fi,oa as pe,ob as Ze,p as dc,pa as me,pb as Mt,q as Ld,qa as Hd,qb as Ce,r as Ud,ra as Wd,rb as Yd,s as It,sa as $e,sb as re,t as ee,ta as Bn,tb as J,u as Gi,ua as Vt,ub as Et,v as Or,va as Wi,vb as et,w as Ov,wa as we,wb as _o,x as se,xa as Fe,xb as Ot,y as fo,ya as Bv,yb as En,z as Xt,za as gc,zb as Ge}from"./chunk-MCHFY2OR.js";var wo=class{},Rc=class{},$n=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),s=r.toLowerCase(),o=i.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new t;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let s=e.value;if(!s)this.headers.delete(i),this.normalizedNames.delete(i);else{let o=this.headers.get(i);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,o)}break}}setHeaderEntries(e,i){let n=(Array.isArray(i)?i:[i]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var eh=class{encodeKey(e){return fy(e)}encodeValue(e){return fy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function KC(t,e){let i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,c]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=i.get(o)||[];l.push(c),i.set(o,l)}),i}var QC=/%(\d[a-f0-9])/gi,YC={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fy(t){return encodeURIComponent(t).replace(QC,(e,i)=>YC[i]??e)}function Ac(t){return`${t}`}var vi=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new eh,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=KC(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let n=e.fromObject[i],r=Array.isArray(n)?n.map(Ac):[Ac(n)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(n=>{let r=e[n];Array.isArray(r)?r.forEach(s=>{i.push({param:n,value:s,op:"a"})}):i.push({param:n,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(n=>i+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new t({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(Ac(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],r=n.indexOf(Ac(e.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var th=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function XC(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function py(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function my(t){return typeof Blob<"u"&&t instanceof Blob}function gy(t){return typeof FormData<"u"&&t instanceof FormData}function JC(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var bo=class t{constructor(e,i,n,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(XC(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new $n,this.context??=new th,!this.params)this.params=new vi,this.urlWithParams=i;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=i;else{let c=i.indexOf("?"),l=c===-1?"?":c<i.length-1?"&":"";this.urlWithParams=i+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||py(this.body)||my(this.body)||gy(this.body)||JC(this.body)?this.body:this.body instanceof vi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||gy(this.body)?null:my(this.body)?this.body.type||null:py(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof vi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,n=e.url||this.url,r=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,f=e.params||this.params,m=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((_,C)=>_.set(C,e.setHeaders[C]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((_,C)=>_.set(C,e.setParams[C]),f)),new t(i,n,o,{params:f,headers:u,context:m,reportProgress:l,responseType:r,withCredentials:c,transferCache:s})}},yi=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(yi||{}),Io=class{constructor(e,i=200,n="OK"){this.headers=e.headers||new $n,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},kc=class t extends Io{constructor(e={}){super(e),this.type=yi.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Eo=class t extends Io{constructor(e={}){super(e),this.type=yi.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_i=class extends Io{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},by=200,ZC=204;function Zd(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var rh=(()=>{let e=class e{constructor(n){this.handler=n}request(n,r,s={}){let o;if(n instanceof bo)o=n;else{let u;s.headers instanceof $n?u=s.headers:u=new $n(s.headers);let f;s.params&&(s.params instanceof vi?f=s.params:f=new vi({fromObject:s.params})),o=new bo(n,r,s.body!==void 0?s.body:null,{headers:u,context:s.context,params:f,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let c=ee(o).pipe(Hi(u=>this.handler.handle(u)));if(n instanceof bo||s.observe==="events")return c;let l=c.pipe(ln(u=>u instanceof Eo));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(se(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(se(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(se(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return l.pipe(se(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new vi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,s={}){return this.request("PATCH",n,Zd(s,r))}post(n,r,s={}){return this.request("POST",n,Zd(s,r))}put(n,r,s={}){return this.request("PUT",n,Zd(s,r))}};e.\u0275fac=function(r){return new(r||e)(z(wo))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),eS=/^\)\]\}',?\n/,tS="X-Request-URL";function _y(t){if(t.url)return t.url;let e=tS.toLocaleLowerCase();return t.headers.get(e)}var nS=(()=>{let e=class e{constructor(){this.fetchImpl=$(nh,{optional:!0})?.fetch??fetch.bind(globalThis),this.ngZone=$(fe)}handle(n){return new cn(r=>{let s=new AbortController;return this.doRequest(n,s.signal,r).then(ih,o=>r.error(new _i({error:o}))),()=>s.abort()})}doRequest(n,r,s){return v(this,null,function*(){let o=this.createRequestInit(n),c;try{let P=this.fetchImpl(n.urlWithParams,j({signal:r},o));iS(P),s.next({type:yi.Sent}),c=yield P}catch(P){s.error(new _i({error:P,status:P.status??0,statusText:P.statusText,url:n.urlWithParams,headers:P.headers}));return}let l=new $n(c.headers),u=c.statusText,f=_y(c)??n.urlWithParams,m=c.status,_=null;if(n.reportProgress&&s.next(new kc({headers:l,status:m,statusText:u,url:f})),c.body){let P=c.headers.get("content-length"),F=[],k=c.body.getReader(),U=0,Q,Z,X=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>v(this,null,function*(){for(;;){let{done:le,value:I}=yield k.read();if(le)break;if(F.push(I),U+=I.length,n.reportProgress){Z=n.responseType==="text"?(Z??"")+(Q??=new TextDecoder).decode(I,{stream:!0}):void 0;let g=()=>s.next({type:yi.DownloadProgress,total:P?+P:void 0,loaded:U,partialText:Z});X?X.run(g):g()}}}));let Ne=this.concatChunks(F,U);try{let le=c.headers.get("Content-Type")??"";_=this.parseBody(n,Ne,le)}catch(le){s.error(new _i({error:le,headers:new $n(c.headers),status:c.status,statusText:c.statusText,url:_y(c)??n.urlWithParams}));return}}m===0&&(m=_?by:0),m>=200&&m<300?(s.next(new Eo({body:_,headers:l,status:m,statusText:u,url:f})),s.complete()):s.error(new _i({error:_,headers:l,status:m,statusText:u,url:f}))})}parseBody(n,r,s){switch(n.responseType){case"json":let o=new TextDecoder().decode(r).replace(eS,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:s});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},s=n.withCredentials?"include":void 0;if(n.headers.forEach((o,c)=>r[o]=c.join(",")),r.Accept??="application/json, text/plain, */*",!r["Content-Type"]){let o=n.detectContentTypeHeader();o!==null&&(r["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:s}}concatChunks(n,r){let s=new Uint8Array(r),o=0;for(let c of n)s.set(c,o),o+=c.length;return s}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),nh=class{};function ih(){}function iS(t){t.then(ih,ih)}function rS(t,e){return e(t)}function sS(t,e,i){return(n,r)=>hn(i,()=>e(n,s=>t(s,r)))}var wy=new te(""),oS=new te(""),aS=new te("",{providedIn:"root",factory:()=>!0});var vy=(()=>{let e=class e extends wo{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=$(yc),this.contributeToStability=$(aS)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(wy),...this.injector.get(oS,[])]));this.chain=r.reduceRight((s,o)=>sS(s,o,this.injector),rS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,s=>this.backend.handle(s)).pipe(mi(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}};e.\u0275fac=function(r){return new(r||e)(z(Rc),z(Fr))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})();var cS=/^\)\]\}',?\n/;function lS(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var yy=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Pe(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?It(r.\u0275loadImpl()):ee(null)).pipe(qt(()=>new cn(o=>{let c=r.build();if(c.open(n.method,n.urlWithParams),n.withCredentials&&(c.withCredentials=!0),n.headers.forEach((k,U)=>c.setRequestHeader(k,U.join(","))),n.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let k=n.detectContentTypeHeader();k!==null&&c.setRequestHeader("Content-Type",k)}if(n.responseType){let k=n.responseType.toLowerCase();c.responseType=k!=="json"?k:"text"}let l=n.serializeBody(),u=null,f=()=>{if(u!==null)return u;let k=c.statusText||"OK",U=new $n(c.getAllResponseHeaders()),Q=lS(c)||n.url;return u=new kc({headers:U,status:c.status,statusText:k,url:Q}),u},m=()=>{let{headers:k,status:U,statusText:Q,url:Z}=f(),X=null;U!==ZC&&(X=typeof c.response>"u"?c.responseText:c.response),U===0&&(U=X?by:0);let Ne=U>=200&&U<300;if(n.responseType==="json"&&typeof X=="string"){let le=X;X=X.replace(cS,"");try{X=X!==""?JSON.parse(X):null}catch(I){X=le,Ne&&(Ne=!1,X={error:I,text:X})}}Ne?(o.next(new Eo({body:X,headers:k,status:U,statusText:Q,url:Z||void 0})),o.complete()):o.error(new _i({error:X,headers:k,status:U,statusText:Q,url:Z||void 0}))},_=k=>{let{url:U}=f(),Q=new _i({error:k,status:c.status||0,statusText:c.statusText||"Unknown Error",url:U||void 0});o.error(Q)},C=!1,P=k=>{C||(o.next(f()),C=!0);let U={type:yi.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(U.total=k.total),n.responseType==="text"&&c.responseText&&(U.partialText=c.responseText),o.next(U)},F=k=>{let U={type:yi.UploadProgress,loaded:k.loaded};k.lengthComputable&&(U.total=k.total),o.next(U)};return c.addEventListener("load",m),c.addEventListener("error",_),c.addEventListener("timeout",_),c.addEventListener("abort",_),n.reportProgress&&(c.addEventListener("progress",P),l!==null&&c.upload&&c.upload.addEventListener("progress",F)),c.send(l),o.next({type:yi.Sent}),()=>{c.removeEventListener("error",_),c.removeEventListener("abort",_),c.removeEventListener("load",m),c.removeEventListener("timeout",_),n.reportProgress&&(c.removeEventListener("progress",P),l!==null&&c.upload&&c.upload.removeEventListener("progress",F)),c.readyState!==c.DONE&&c.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(z(Sc))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),Iy=new te(""),uS="XSRF-TOKEN",dS=new te("",{providedIn:"root",factory:()=>uS}),hS="X-XSRF-TOKEN",fS=new te("",{providedIn:"root",factory:()=>hS}),Dc=class{},pS=(()=>{let e=class e{constructor(n,r,s){this.doc=n,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Tc(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(z(Te),z(fn),z(dS))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})();function mS(t,e){let i=t.url.toLowerCase();if(!$(Iy)||t.method==="GET"||t.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return e(t);let n=$(Dc).getToken(),r=$(fS);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),e(t)}function Ey(...t){let e=[rh,yy,vy,{provide:wo,useExisting:vy},{provide:Rc,useFactory:()=>$(nS,{optional:!0})??$(yy)},{provide:wy,useValue:mS,multi:!0},{provide:Iy,useValue:!0},{provide:Dc,useClass:pS}];for(let i of t)e.push(...i.\u0275providers);return Pt(e)}var ah=class extends ly{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ch=class t extends ah{static makeCurrent(){cy(new t)}onAndCancel(e,i,n){return e.addEventListener(i,n),()=>{e.removeEventListener(i,n)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=vS();return i==null?null:yS(i)}resetBaseElement(){Co=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Tc(document.cookie,e)}},Co=null;function vS(){return Co=Co||document.querySelector("base"),Co?Co.getAttribute("href"):null}function yS(t){return new URL(t,document.baseURI).pathname}var bS=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),lh=new te(""),Sy=(()=>{let e=class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(s=>{s.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,s){return this._findPluginFor(r).addEventListener(n,r,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Pe(5101,!1);return this._eventNameToPlugin.set(n,r),r}};e.\u0275fac=function(r){return new(r||e)(z(lh),z(fe))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),xc=class{constructor(e){this._doc=e}},sh="ng-app-id",Ay=(()=>{let e=class e{constructor(n,r,s,o={}){this.doc=n,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cc(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(s=>s.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${sh}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(n,r){let s=this.styleRef;if(s.has(n)){let o=s.get(n);return o.usage+=r,o.usage}return s.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===n)return s.delete(r),o.removeAttribute(sh),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(sh,this.appId),n.appendChild(c),c}}addStyleToHost(n,r){let s=this.getStyleElement(n,r),o=this.styleRef,c=o.get(r)?.elements;c?c.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(z(Te),z(gc),z(mo,8),z(fn))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),oh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dh=/%COMP%/g,Ry="%COMP%",wS=`_nghost-${Ry}`,IS=`_ngcontent-${Ry}`,ES=!0,TS=new te("",{providedIn:"root",factory:()=>ES});function CS(t){return IS.replace(dh,t)}function SS(t){return wS.replace(dh,t)}function ky(t,e){return e.map(i=>i.replace(dh,t))}var Pc=(()=>{let e=class e{constructor(n,r,s,o,c,l,u,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=l,this.ngZone=u,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Cc(l),this.defaultRenderer=new So(n,c,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===po.ShadowDom&&(r=xe(j({},r),{encapsulation:po.Emulated}));let s=this.getOrCreateRenderer(n,r);return s instanceof Mc?s.applyToHost(n):s instanceof Ao&&s.applyStyles(),s}getOrCreateRenderer(n,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let c=this.doc,l=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,m=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(r.encapsulation){case po.Emulated:o=new Mc(u,f,r,this.appId,m,c,l,_);break;case po.ShadowDom:return new uh(u,f,n,r,c,l,this.nonce,_);default:o=new Ao(u,f,r,m,c,l,_);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(z(Sy),z(Ay),z(gc),z(TS),z(Te),z(fn),z(fe),z(mo))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),So=class{constructor(e,i,n,r){this.eventManager=e,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(oh[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(Ty(e)?e.content:e).appendChild(i)}insertBefore(e,i,n){e&&(Ty(e)?e.content:e).insertBefore(i,n)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new Pe(-5104,!1);return i||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,n,r){if(r){i=r+":"+i;let s=oh[r];s?e.setAttributeNS(s,i,n):e.setAttribute(i,n)}else e.setAttribute(i,n)}removeAttribute(e,i,n){if(n){let r=oh[n];r?e.removeAttributeNS(r,i):e.removeAttribute(`${n}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,n,r){r&(go.DashCase|go.Important)?e.style.setProperty(i,n,r&go.Important?"important":""):e.style[i]=n}removeStyle(e,i,n){n&go.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,n){e!=null&&(e[i]=n)}setValue(e,i){e.nodeValue=i}listen(e,i,n){if(typeof e=="string"&&(e=Br().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(n))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function Ty(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var uh=class extends So{constructor(e,i,n,r,s,o,c,l){super(e,s,o,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=ky(r.id,r.styles);for(let f of u){let m=document.createElement("style");c&&m.setAttribute("nonce",c),m.textContent=f,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,n){return super.insertBefore(this.nodeOrShadowRoot(e),i,n)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ao=class extends So{constructor(e,i,n,r,s,o,c,l){super(e,s,o,c),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?ky(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Mc=class extends Ao{constructor(e,i,n,r,s,o,c,l){let u=r+"-"+n.id;super(e,i,n,s,o,c,l,u),this.contentAttr=CS(u),this.hostAttr=SS(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let n=super.createElement(e,i);return super.setAttribute(n,this.contentAttr,""),n}},AS=(()=>{let e=class e extends xc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,s){return n.addEventListener(r,s,!1),()=>this.removeEventListener(n,r,s)}removeEventListener(n,r,s){return n.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(z(Te))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),Cy=["alt","control","meta","shift"],RS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kS={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},DS=(()=>{let e=class e extends xc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,s){let o=e.parseEventName(r),c=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(n,o.domEventName,c))}static parseEventName(n){let r=n.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),c="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),c="code."),Cy.forEach(f=>{let m=r.indexOf(f);m>-1&&(r.splice(m,1),c+=f+".")}),c+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=c,u}static matchEventFullKeyCode(n,r){let s=RS[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(s=n.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Cy.forEach(c=>{if(c!==s){let l=kS[c];l(n)&&(o+=c+".")}}),o+=s,o===r)}static eventCallback(n,r,s){return o=>{e.matchEventFullKeyCode(o,n)&&s.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(r){return new(r||e)(z(Te))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})();function Dy(t,e){return oy(j({rootComponent:t},xS(e)))}function xS(t){return{appProviders:[...FS,...t?.providers??[]],platformProviders:NS}}function PS(){ch.makeCurrent()}function MS(){return new Wi}function OS(){return Bv(document),document}var NS=[{provide:fn,useValue:dy},{provide:zv,useValue:PS,multi:!0},{provide:Te,useFactory:OS,deps:[]}];var FS=[{provide:jv,useValue:"root"},{provide:Wi,useFactory:MS,deps:[]},{provide:lh,useClass:AS,multi:!0,deps:[Te,fe,fn]},{provide:lh,useClass:DS,multi:!0,deps:[Te]},Pc,Ay,Sy,{provide:_c,useExisting:Pc},{provide:Sc,useClass:bS,deps:[]},[]];var xy=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(r){return new(r||e)(z(Te))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var hh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:function(r){let s=null;return r?s=new(r||e):s=z(VS),s},providedIn:"root"});let t=e;return t})(),VS=(()=>{let e=class e extends hh{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case Gt.NONE:return r;case Gt.HTML:return Lr(r,"HTML")?Vr(r):Qv(this._doc,String(r)).toString();case Gt.STYLE:return Lr(r,"Style")?Vr(r):r;case Gt.SCRIPT:if(Lr(r,"Script"))return Vr(r);throw new Pe(5200,!1);case Gt.URL:return Lr(r,"URL")?Vr(r):Kv(String(r));case Gt.RESOURCE_URL:if(Lr(r,"ResourceURL"))return Vr(r);throw new Pe(5201,!1);default:throw new Pe(5202,!1)}}bypassSecurityTrustHtml(n){return $v(n)}bypassSecurityTrustStyle(n){return qv(n)}bypassSecurityTrustScript(n){return Gv(n)}bypassSecurityTrustUrl(n){return Hv(n)}bypassSecurityTrustResourceUrl(n){return Wv(n)}};e.\u0275fac=function(r){return new(r||e)(z(Te))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ue="primary",qo=Symbol("RouteTitle"),_h=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Wr(t){return new _h(t)}function US(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],c=t[s];if(o[0]===":")r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function jS(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!Cn(t[i],e[i]))return!1;return!0}function Cn(t,e){let i=t?vh(t):void 0,n=e?vh(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!jy(t[r],e[r]))return!1;return!0}function vh(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function jy(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,s)=>n[s]===r)}else return t===e}function By(t){return t.length>0?t[t.length-1]:null}function wi(t){return Or(t)?t:wc(t)?It(Promise.resolve(t)):ee(t)}var BS={exact:$y,subset:qy},zy={exact:zS,subset:$S,ignored:()=>!0};function My(t,e,i){return BS[i.paths](t.root,e.root,i.matrixParams)&&zy[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function zS(t,e){return Cn(t,e)}function $y(t,e,i){if(!Ji(t.segments,e.segments)||!Fc(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!$y(t.children[n],e.children[n],i))return!1;return!0}function $S(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>jy(t[i],e[i]))}function qy(t,e,i){return Gy(t,e,e.segments,i)}function Gy(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!Ji(r,i)||e.hasChildren()||!Fc(r,i,n))}else if(t.segments.length===i.length){if(!Ji(t.segments,i)||!Fc(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!qy(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),s=i.slice(t.segments.length);return!Ji(t.segments,r)||!Fc(t.segments,r,n)||!t.children[ue]?!1:Gy(t.children[ue],e,s,n)}}function Fc(t,e,i){return e.every((n,r)=>zy[i](t[r].parameters,n.parameters))}var bi=class{constructor(e=new De([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Wr(this.queryParams),this._queryParamMap}toString(){return HS.serialize(this)}},De=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vc(this)}},Xi=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=Wr(this.parameters),this._parameterMap}toString(){return Wy(this)}};function qS(t,e){return Ji(t,e)&&t.every((i,n)=>Cn(i.parameters,e[n].parameters))}function Ji(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function GS(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===ue&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==ue&&(i=i.concat(e(r,n)))}),i}var qh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:()=>new Oo,providedIn:"root"});let t=e;return t})(),Oo=class{parse(e){let i=new bh(e);return new bi(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${Ro(e.root,!0)}`,n=QS(e.queryParams),r=typeof e.fragment=="string"?`#${WS(e.fragment)}`:"";return`${i}${n}${r}`}},HS=new Oo;function Vc(t){return t.segments.map(e=>Wy(e)).join("/")}function Ro(t,e){if(!t.hasChildren())return Vc(t);if(e){let i=t.children[ue]?Ro(t.children[ue],!1):"",n=[];return Object.entries(t.children).forEach(([r,s])=>{r!==ue&&n.push(`${r}:${Ro(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=GS(t,(n,r)=>r===ue?[Ro(t.children[ue],!1)]:[`${r}:${Ro(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ue]!=null?`${Vc(t)}/${i[0]}`:`${Vc(t)}/(${i.join("//")})`}}function Hy(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oc(t){return Hy(t).replace(/%3B/gi,";")}function WS(t){return encodeURI(t)}function yh(t){return Hy(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lc(t){return decodeURIComponent(t)}function Oy(t){return Lc(t.replace(/\+/g,"%20"))}function Wy(t){return`${yh(t.path)}${KS(t.parameters)}`}function KS(t){return Object.entries(t).map(([e,i])=>`;${yh(e)}=${yh(i)}`).join("")}function QS(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Oc(i)}=${Oc(r)}`).join("&"):`${Oc(i)}=${Oc(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var YS=/^[^\/()?;#]+/;function fh(t){let e=t.match(YS);return e?e[0]:""}var XS=/^[^\/()?;=#]+/;function JS(t){let e=t.match(XS);return e?e[0]:""}var ZS=/^[^=?&#]+/;function eA(t){let e=t.match(ZS);return e?e[0]:""}var tA=/^[^&#]+/;function nA(t){let e=t.match(tA);return e?e[0]:""}var bh=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[ue]=new De(e,i)),n}parseSegment(){let e=fh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Pe(4009,!1);return this.capture(e),new Xi(Lc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=JS(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=fh(this.remaining);r&&(n=r,this.capture(n))}e[Lc(i)]=Lc(n)}parseQueryParam(e){let i=eA(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=nA(this.remaining);o&&(n=o,this.capture(n))}let r=Oy(i),s=Oy(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=fh(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new Pe(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[ue]:new De([],o),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Pe(4011,!1)}};function Ky(t){return t.segments.length>0?new De([],{[ue]:t}):t}function Qy(t){let e={};for(let[n,r]of Object.entries(t.children)){let s=Qy(r);if(n===ue&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let i=new De(t.segments,e);return iA(i)}function iA(t){if(t.numberOfChildren===1&&t.children[ue]){let e=t.children[ue];return new De(t.segments.concat(e.segments),e.children)}return t}function No(t){return t instanceof bi}function rA(t,e,i=null,n=null){let r=Yy(t);return Xy(r,e,i,n)}function Yy(t){let e;function i(s){let o={};for(let l of s.children){let u=i(l);o[l.outlet]=u}let c=new De(s.url,o);return s===t&&(e=c),c}let n=i(t.root),r=Ky(n);return e??r}function Xy(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return ph(r,r,r,i,n);let s=sA(e);if(s.toRoot())return ph(r,r,new De([],{}),i,n);let o=oA(s,r,t),c=o.processChildren?xo(o.segmentGroup,o.index,s.commands):Zy(o.segmentGroup,o.index,s.commands);return ph(r,o.segmentGroup,c,i,n)}function Uc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Fo(t){return typeof t=="object"&&t!=null&&t.outlets}function ph(t,e,i,n,r){let s={};n&&Object.entries(n).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let o;t===e?o=i:o=Jy(t,e,i);let c=Ky(Qy(o));return new bi(c,s,r)}function Jy(t,e,i){let n={};return Object.entries(t.children).forEach(([r,s])=>{s===e?n[r]=i:n[r]=Jy(s,e,i)}),new De(t.segments,n)}var jc=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Uc(n[0]))throw new Pe(4003,!1);let r=n.find(Fo);if(r&&r!==By(n))throw new Pe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function sA(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new jc(!0,0,t);let e=0,i=!1,n=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,u])=>{c[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?i=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,s]},[]);return new jc(i,e,n)}var qr=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};function oA(t,e,i){if(t.isAbsolute)return new qr(e,!0,0);if(!i)return new qr(e,!1,NaN);if(i.parent===null)return new qr(i,!0,0);let n=Uc(t.commands[0])?0:1,r=i.segments.length-1+n;return aA(i,r,t.numberOfDoubleDots)}function aA(t,e,i){let n=t,r=e,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new Pe(4005,!1);r=n.segments.length}return new qr(n,!1,r-s)}function cA(t){return Fo(t[0])?t[0].outlets:{[ue]:t}}function Zy(t,e,i){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return xo(t,e,i);let n=lA(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new De(t.segments.slice(0,n.pathIndex),{});return s.children[ue]=new De(t.segments.slice(n.pathIndex),t.children),xo(s,0,r)}else return n.match&&r.length===0?new De(t.segments,{}):n.match&&!t.hasChildren()?wh(t,e,i):n.match?xo(t,0,r):wh(t,e,i)}function xo(t,e,i){if(i.length===0)return new De(t.segments,{});{let n=cA(i),r={};if(Object.keys(n).some(s=>s!==ue)&&t.children[ue]&&t.numberOfChildren===1&&t.children[ue].segments.length===0){let s=xo(t.children[ue],e,i);return new De(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Zy(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new De(t.segments,r)}}function lA(t,e,i){let n=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return s;let o=t.segments[r],c=i[n];if(Fo(c))break;let l=`${c}`,u=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!Fy(l,u,o))return s;n+=2}else{if(!Fy(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function wh(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let s=i[r];if(Fo(s)){let l=uA(s.outlets);return new De(n,l)}if(r===0&&Uc(i[0])){let l=t.segments[e];n.push(new Xi(l.path,Ny(i[0]))),r++;continue}let o=Fo(s)?s.outlets[ue]:`${s}`,c=r<i.length-1?i[r+1]:null;o&&c&&Uc(c)?(n.push(new Xi(o,Ny(c))),r+=2):(n.push(new Xi(o,{})),r++)}return new De(n,{})}function uA(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=wh(new De([],{}),0,n))}),e}function Ny(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function Fy(t,e,i){return t==i.path&&Cn(e,i.parameters)}var Po="imperative",pt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(pt||{}),Zt=class{constructor(e,i){this.id=e,this.url=i}},Vo=class extends Zt{constructor(e,i,n="imperative",r=null){super(e,i),this.type=pt.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Zi=class extends Zt{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=pt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Kt||{}),Ih=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ih||{}),qn=class extends Zt{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=pt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},er=class extends Zt{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=pt.NavigationSkipped}},Lo=class extends Zt{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=pt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bc=class extends Zt{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=pt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Eh=class extends Zt{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=pt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Th=class extends Zt{constructor(e,i,n,r,s){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=pt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ch=class extends Zt{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=pt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sh=class extends Zt{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=pt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ah=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Rh=class{constructor(e){this.route=e,this.type=pt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kh=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dh=class{constructor(e){this.snapshot=e,this.type=pt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xh=class{constructor(e){this.snapshot=e,this.type=pt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ph=class{constructor(e){this.snapshot=e,this.type=pt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Uo=class{},Kr=class{constructor(e,i){this.url=e,this.navigationBehaviorOptions=i}};var Mh=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Kc(this.injector),this.attachRef=null}},Kc=(()=>{let e=class e{constructor(n){this.parentInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Mh(this.parentInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)(z(Fr))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=Oh(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=Oh(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=Nh(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Nh(e,this._root).map(i=>i.value)}};function Oh(t,e){if(t===e.value)return e;for(let i of e.children){let n=Oh(t,i);if(n)return n}return null}function Nh(t,e){if(t===e.value)return[e];for(let i of e.children){let n=Nh(t,i);if(n.length)return n.unshift(e),n}return[]}var Wt=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function $r(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}var $c=class extends zc{constructor(e,i){super(e),this.snapshot=i,Gh(this,e)}toString(){return this.snapshot.toString()}};function e0(t){let e=dA(t),i=new wt([new Xi("",{})]),n=new wt({}),r=new wt({}),s=new wt({}),o=new wt(""),c=new Qr(i,n,s,o,r,ue,t,e.root);return c.snapshot=e.root,new $c(new Wt(c,[]),e)}function dA(t){let e={},i={},n={},r="",s=new Gr([],e,n,r,i,ue,t,null,{});return new Gc("",new Wt(s,[]))}var Qr=class{constructor(e,i,n,r,s,o,c,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(se(u=>u[qo]))??ee(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Wr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Wr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qc(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),r?.data),t._resolvedData)}:n={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},r&&n0(r)&&(n.resolve[qo]=r.title),n}var Gr=class{get title(){return this.data?.[qo]}constructor(e,i,n,r,s,o,c,l,u){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},Gc=class extends zc{constructor(e,i){super(i),this.url=e,Gh(this,i)}toString(){return t0(this._root)}};function Gh(t,e){e.value._routerState=t,e.children.forEach(i=>Gh(t,i))}function t0(t){let e=t.children.length>0?` { ${t.children.map(t0).join(", ")} } `:"";return`${t.value}${e}`}function mh(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,Cn(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),Cn(e.params,i.params)||t.paramsSubject.next(i.params),jS(e.url,i.url)||t.urlSubject.next(i.url),Cn(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fh(t,e){let i=Cn(t.params,e.params)&&qS(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||Fh(t.parent,e.parent))}function n0(t){return typeof t.title=="string"||t.title===null}var Hh=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=$(Kc),this.location=$(zn),this.changeDetector=$(Lt),this.inputBinder=$(Wh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Pe(4013,!1);this._activatedRoute=n;let s=this.location,c=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new Vh(n,l,s.injector);this.activated=s.createComponent(c,{index:s.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Y({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ct]});let t=e;return t})(),Vh=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===Qr?this.route:e===Kc?this.childContexts:this.parent.get(e,i)}},Wh=new te("");function hA(t,e,i){let n=jo(t,e._root,i?i._root:void 0);return new $c(n,e)}function jo(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=fA(t,e,i);return new Wt(n,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>jo(t,c)),o}}let n=pA(e.value),r=e.children.map(s=>jo(t,s));return new Wt(n,r)}}function fA(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return jo(t,n,r);return jo(t,n)})}function pA(t){return new Qr(new wt(t.url),new wt(t.params),new wt(t.queryParams),new wt(t.fragment),new wt(t.data),t.outlet,t.component,t)}var Bo=class{constructor(e,i){this.redirectTo=e,this.navigationBehaviorOptions=i}},i0="ngNavigationCancelingError";function Hc(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=No(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=r0(!1,Kt.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function r0(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[i0]=!0,i.cancellationCode=e,i}function mA(t){return s0(t)&&No(t.url)}function s0(t){return!!t&&t[i0]}var gA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["ng-component"]],standalone:!0,features:[he],decls:1,vars:0,template:function(r,s){r&1&&q(0,"router-outlet")},dependencies:[Hh],encapsulation:2});let t=e;return t})();function _A(t,e){return t.providers&&!t._injector&&(t._injector=Jv(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Kh(t){let e=t.children&&t.children.map(Kh),i=e?xe(j({},t),{children:e}):j({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==ue&&(i.component=gA),i}function pn(t){return t.outlet||ue}function vA(t,e){let i=t.filter(n=>pn(n)===e);return i.push(...t.filter(n=>pn(n)!==e)),i}function Go(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var yA=(t,e,i,n)=>se(r=>(new Lh(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),Lh=class{constructor(e,i,n,r,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),mh(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=$r(i);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,i,o.children)}else this.deactivateChildRoutes(e,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=$r(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=$r(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=$r(i);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new Ph(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Dh(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(mh(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,o.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),mh(c.route.value),this.activateChildRoutes(e,null,o.children)}else{let c=Go(r.snapshot);o.attachRef=null,o.route=r,o.injector=c??o.injector,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}},Wc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Hr=class{constructor(e,i){this.component=e,this.route=i}};function bA(t,e,i){let n=t._root,r=e?e._root:null;return ko(n,r,i,[n.value])}function wA(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Xr(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!Uv(t)?t:e.get(t):n}function ko(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=$r(e);return t.children.forEach(o=>{IA(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Mo(c,i.getContext(o),r)),r}function IA(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,c=i?i.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=EA(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Wc(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ko(t,e,c?c.children:null,n,r):ko(t,e,i,n,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Hr(c.outlet.component,o))}else o&&Mo(e,c,r),r.canActivateChecks.push(new Wc(n)),s.component?ko(t,null,c?c.children:null,n,r):ko(t,null,i,n,r);return r}function EA(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!Ji(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ji(t.url,e.url)||!Cn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fh(t,e)||!Cn(t.queryParams,e.queryParams);case"paramsChange":default:return!Fh(t,e)}}function Mo(t,e,i){let n=$r(t),r=t.value;Object.entries(n).forEach(([s,o])=>{r.component?e?Mo(o,e.children.getContext(s),i):Mo(o,null,i):Mo(o,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new Hr(e.outlet.component,r)):i.canDeactivateChecks.push(new Hr(null,r)):i.canDeactivateChecks.push(new Hr(null,r))}function Ho(t){return typeof t=="function"}function TA(t){return typeof t=="boolean"}function CA(t){return t&&Ho(t.canLoad)}function SA(t){return t&&Ho(t.canActivate)}function AA(t){return t&&Ho(t.canActivateChild)}function RA(t){return t&&Ho(t.canDeactivate)}function kA(t){return t&&Ho(t.canMatch)}function o0(t){return t instanceof Ov||t?.name==="EmptyError"}var Nc=Symbol("INITIAL_VALUE");function Yr(){return qt(t=>fo(t.map(e=>e.pipe(un(1),Nr(Nc)))).pipe(se(e=>{for(let i of e)if(i!==!0){if(i===Nc)return Nc;if(i===!1||DA(i))return i}return!0}),ln(e=>e!==Nc),un(1)))}function DA(t){return No(t)||t instanceof Bo}function xA(t,e){return Xt(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?ee(xe(j({},i),{guardsResult:!0})):PA(o,n,r,t).pipe(Xt(c=>c&&TA(c)?MA(n,s,t,e):ee(c)),se(c=>xe(j({},i),{guardsResult:c})))})}function PA(t,e,i,n){return It(t).pipe(Xt(r=>LA(r.component,r.route,i,e,n)),gi(r=>r!==!0,!0))}function MA(t,e,i,n){return It(e).pipe(Hi(r=>hc(NA(r.route.parent,n),OA(r.route,n),VA(t,r.path,i),FA(t,r.route,i))),gi(r=>r!==!0,!0))}function OA(t,e){return t!==null&&e&&e(new xh(t)),ee(!0)}function NA(t,e){return t!==null&&e&&e(new kh(t)),ee(!0)}function FA(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return ee(!0);let r=n.map(s=>jd(()=>{let o=Go(e)??i,c=Xr(s,o),l=SA(c)?c.canActivate(e,t):hn(o,()=>c(e,t));return wi(l).pipe(gi())}));return ee(r).pipe(Yr())}function VA(t,e,i){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>wA(o)).filter(o=>o!==null).map(o=>jd(()=>{let c=o.guards.map(l=>{let u=Go(o.node)??i,f=Xr(l,u),m=AA(f)?f.canActivateChild(n,t):hn(u,()=>f(n,t));return wi(m).pipe(gi())});return ee(c).pipe(Yr())}));return ee(s).pipe(Yr())}function LA(t,e,i,n,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ee(!0);let o=s.map(c=>{let l=Go(e)??r,u=Xr(c,l),f=RA(u)?u.canDeactivate(t,e,i,n):hn(l,()=>u(t,e,i,n));return wi(f).pipe(gi())});return ee(o).pipe(Yr())}function UA(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return ee(!0);let s=r.map(o=>{let c=Xr(o,t),l=CA(c)?c.canLoad(e,i):hn(t,()=>c(e,i));return wi(l)});return ee(s).pipe(Yr(),a0(n))}function a0(t){return Fd(je(e=>{if(typeof e!="boolean")throw Hc(t,e)}),se(e=>e===!0))}function jA(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return ee(!0);let s=r.map(o=>{let c=Xr(o,t),l=kA(c)?c.canMatch(e,i):hn(t,()=>c(e,i));return wi(l)});return ee(s).pipe(Yr(),a0(n))}var zo=class{constructor(e){this.segmentGroup=e||null}},$o=class extends Error{constructor(e){super(),this.urlTree=e}};function zr(t){return Gi(new zo(t))}function BA(t){return Gi(new Pe(4e3,!1))}function zA(t){return Gi(r0(!1,Kt.GuardRejected))}var Uh=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return ee(n);if(r.numberOfChildren>1||!r.children[ue])return BA(`${e.redirectTo}`);r=r.children[ue]}}applyRedirectCommands(e,i,n,r,s){if(typeof i!="string"){let c=i,{queryParams:l,fragment:u,routeConfig:f,url:m,outlet:_,params:C,data:P,title:F}=r,k=hn(s,()=>c({params:C,data:P,queryParams:l,fragment:u,routeConfig:f,url:m,outlet:_,title:F}));if(k instanceof bi)throw new $o(k);i=k}let o=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i[0]==="/")throw new $o(o);return o}applyRedirectCreateUrlTree(e,i,n,r){let s=this.createSegmentGroup(e,i.root,n,r);return new bi(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);n[r]=i[c]}else n[r]=s}),n}createSegmentGroup(e,i,n,r){let s=this.createSegments(e,i.segments,n,r),o={};return Object.entries(i.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,n,r)}),new De(s,o)}createSegments(e,i,n,r){return i.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new Pe(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},jh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $A(t,e,i,n,r){let s=Qh(t,e,i);return s.matched?(n=_A(e,n),jA(n,e,i,r).pipe(se(o=>o===!0?s:j({},jh)))):ee(s)}function Qh(t,e,i){if(e.path==="**")return qA(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?j({},jh):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||US)(i,t,e);if(!r)return j({},jh);let s={};Object.entries(r.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=r.consumed.length>0?j(j({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function qA(t){return{matched:!0,parameters:t.length>0?By(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Vy(t,e,i,n){return i.length>0&&WA(t,i,n)?{segmentGroup:new De(e,HA(n,new De(i,t.children))),slicedSegments:[]}:i.length===0&&KA(t,i,n)?{segmentGroup:new De(t.segments,GA(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new De(t.segments,t.children),slicedSegments:i}}function GA(t,e,i,n){let r={};for(let s of i)if(Qc(t,e,s)&&!n[pn(s)]){let o=new De([],{});r[pn(s)]=o}return j(j({},n),r)}function HA(t,e){let i={};i[ue]=e;for(let n of t)if(n.path===""&&pn(n)!==ue){let r=new De([],{});i[pn(n)]=r}return i}function WA(t,e,i){return i.some(n=>Qc(t,e,n)&&pn(n)!==ue)}function KA(t,e,i){return i.some(n=>Qc(t,e,n))}function Qc(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function QA(t,e,i,n){return pn(t)!==n&&(n===ue||!Qc(e,i,t))?!1:Qh(e,t,i).matched}function YA(t,e,i){return e.length===0&&!t.children[i]}var Bh=class{};function XA(t,e,i,n,r,s,o="emptyOnly"){return new zh(t,e,i,n,r,o,s).recognize()}var JA=31,zh=class{constructor(e,i,n,r,s,o,c){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new Uh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Pe(4002,`'${e.segmentGroup}'`)}recognize(){let e=Vy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:i,rootSnapshot:n})=>{let r=new Wt(n,i),s=new Gc("",r),o=rA(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let i=new Gr([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,i).pipe(se(n=>({children:n,rootSnapshot:i})),pi(n=>{if(n instanceof $o)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof zo?this.noMatchError(n):n}))}processSegmentGroup(e,i,n,r,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n,s):this.processSegment(e,i,n,n.segments,r,!0,s).pipe(se(o=>o instanceof Wt?[o]:[]))}processChildren(e,i,n,r){let s=[];for(let o of Object.keys(n.children))o==="primary"?s.unshift(o):s.push(o);return It(s).pipe(Hi(o=>{let c=n.children[o],l=vA(i,o);return this.processSegmentGroup(e,l,c,o,r)}),qd((o,c)=>(o.push(...c),o)),zd(null),Vv(),Xt(o=>{if(o===null)return zr(n);let c=c0(o);return ZA(c),ee(c)}))}processSegment(e,i,n,r,s,o,c){return It(i).pipe(Hi(l=>this.processSegmentAgainstRoute(l._injector??e,i,l,n,r,s,o,c).pipe(pi(u=>{if(u instanceof zo)return ee(null);throw u}))),gi(l=>!!l),pi(l=>{if(o0(l))return YA(n,r,s)?ee(new Bh):zr(n);throw l}))}processSegmentAgainstRoute(e,i,n,r,s,o,c,l){return QA(n,r,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,s,o,l):zr(r):zr(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,c){let{matched:l,parameters:u,consumedSegments:f,positionalParamSegments:m,remainingSegments:_}=Qh(i,r,s);if(!l)return zr(i);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JA&&(this.allowRedirects=!1));let C=new Gr(s,u,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Ly(r),pn(r),r.component??r._loadedComponent??null,r,Uy(r)),P=qc(C,c,this.paramsInheritanceStrategy);C.params=Object.freeze(P.params),C.data=Object.freeze(P.data);let F=this.applyRedirects.applyRedirectCommands(f,r.redirectTo,m,C,e);return this.applyRedirects.lineralizeSegments(r,F).pipe(Xt(k=>this.processSegment(e,n,i,k.concat(_),o,!1,c)))}matchSegmentAgainstRoute(e,i,n,r,s,o){let c=$A(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),c.pipe(qt(l=>l.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(qt(({routes:u})=>{let f=n._loadedInjector??e,{parameters:m,consumedSegments:_,remainingSegments:C}=l,P=new Gr(_,m,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Ly(n),pn(n),n.component??n._loadedComponent??null,n,Uy(n)),F=qc(P,o,this.paramsInheritanceStrategy);P.params=Object.freeze(F.params),P.data=Object.freeze(F.data);let{segmentGroup:k,slicedSegments:U}=Vy(i,_,C,u);if(U.length===0&&k.hasChildren())return this.processChildren(f,u,k,P).pipe(se(Z=>new Wt(P,Z)));if(u.length===0&&U.length===0)return ee(new Wt(P,[]));let Q=pn(n)===s;return this.processSegment(f,u,k,U,Q?ue:s,!0,P).pipe(se(Z=>new Wt(P,Z instanceof Wt?[Z]:[])))}))):zr(i)))}getChildConfig(e,i,n){return i.children?ee({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?ee({routes:i._loadedRoutes,injector:i._loadedInjector}):UA(e,i,n,this.urlSerializer).pipe(Xt(r=>r?this.configLoader.loadChildren(e,i).pipe(je(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):zA(i))):ee({routes:[],injector:e})}};function ZA(t){t.sort((e,i)=>e.value.outlet===ue?-1:i.value.outlet===ue?1:e.value.outlet.localeCompare(i.value.outlet))}function eR(t){let e=t.value.routeConfig;return e&&e.path===""}function c0(t){let e=[],i=new Set;for(let n of t){if(!eR(n)){e.push(n);continue}let r=e.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=c0(n.children);e.push(new Wt(n.value,r))}return e.filter(n=>!i.has(n))}function Ly(t){return t.data||{}}function Uy(t){return t.resolve||{}}function tR(t,e,i,n,r,s){return Xt(o=>XA(t,e,i,n,o.extractedUrl,r,s).pipe(se(({state:c,tree:l})=>xe(j({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function nR(t,e){return Xt(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return ee(i);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of l0(l))o.add(u);let c=0;return It(o).pipe(Hi(l=>s.has(l)?iR(l,n,t,e):(l.data=qc(l,l.parent,t).resolve,ee(void 0))),je(()=>c++),$d(1),Xt(l=>c===o.size?ee(i):fi))})}function l0(t){let e=t.children.map(i=>l0(i)).flat();return[t,...e]}function iR(t,e,i,n){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!n0(r)&&(s[qo]=r.title),rR(s,t,e,n).pipe(se(o=>(t._resolvedData=o,t.data=qc(t,t.parent,i).resolve,null)))}function rR(t,e,i,n){let r=vh(t);if(r.length===0)return ee({});let s={};return It(r).pipe(Xt(o=>sR(t[o],e,i,n).pipe(gi(),je(c=>{if(c instanceof Bo)throw Hc(new Oo,c);s[o]=c}))),$d(1),Fv(s),pi(o=>o0(o)?fi:Gi(o)))}function sR(t,e,i,n){let r=Go(e)??n,s=Xr(t,r),o=s.resolve?s.resolve(e,i):hn(r,()=>s(e,i));return wi(o)}function gh(t){return qt(e=>{let i=t(e);return i?It(i).pipe(se(()=>e)):ee(e)})}var u0=(()=>{let e=class e{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===ue);return r}getResolvedTitleForRoute(n){return n.data[qo]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:()=>$(oR),providedIn:"root"});let t=e;return t})(),oR=(()=>{let e=class e extends u0{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(z(xy))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yh=new te("",{providedIn:"root",factory:()=>({})}),Xh=new te(""),aR=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=$(Jd)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ee(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=wi(n.loadComponent()).pipe(se(d0),je(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),mi(()=>{this.componentLoaders.delete(n)})),s=new ho(r,()=>new nt).pipe(Vd());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ee({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=cR(r,this.compiler,n,this.onLoadEndListener).pipe(mi(()=>{this.childrenLoaders.delete(r)})),c=new ho(o,()=>new nt).pipe(Vd());return this.childrenLoaders.set(r,c),c}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cR(t,e,i,n){return wi(t.loadChildren()).pipe(se(d0),Xt(r=>r instanceof Xv||Array.isArray(r)?ee(r):It(e.compileModuleAsync(r))),se(r=>{n&&n(t);let s,o,c=!1;return Array.isArray(r)?(o=r,c=!0):(s=r.create(i).injector,o=s.get(Xh,[],{optional:!0,self:!0}).flat()),{routes:o.map(Kh),injector:s}}))}function lR(t){return t&&typeof t=="object"&&"default"in t}function d0(t){return lR(t)?t.default:t}var Jh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:()=>$(uR),providedIn:"root"});let t=e;return t})(),uR=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dR=new te("");var hR=new te(""),fR=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.transitionAbortSubject=new nt,this.configLoader=$(aR),this.environmentInjector=$(Fr),this.urlSerializer=$(qh),this.rootContexts=$(Kc),this.location=$(Ec),this.inputBindingEnabled=$(Wh,{optional:!0})!==null,this.titleStrategy=$(u0),this.options=$(Yh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=$(Jh),this.createViewTransition=$(dR,{optional:!0}),this.navigationErrorHandler=$(hR,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ee(void 0),this.rootComponentType=null;let n=s=>this.events.next(new Ah(s)),r=s=>this.events.next(new Rh(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(xe(j(j({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new wt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Po,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ln(o=>o.id!==0),se(o=>xe(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),qt(o=>{let c=!1,l=!1;return ee(o).pipe(qt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Kt.SupersededByNewNavigation),fi;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?xe(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),m=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!f&&m!=="reload"){let _="";return this.events.next(new er(u.id,this.urlSerializer.serialize(u.rawUrl),_,Ih.IgnoredSameUrlNavigation)),u.resolve(!1),fi}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ee(u).pipe(qt(_=>{let C=this.transitions?.getValue();return this.events.next(new Vo(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),C!==this.transitions?.getValue()?fi:Promise.resolve(_)}),tR(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),je(_=>{o.targetSnapshot=_.targetSnapshot,o.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=xe(j({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let C=new Bc(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(C)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:_,extractedUrl:C,source:P,restoredState:F,extras:k}=u,U=new Vo(_,this.urlSerializer.serialize(C),P,F);this.events.next(U);let Q=e0(this.rootComponentType).snapshot;return this.currentTransition=o=xe(j({},u),{targetSnapshot:Q,urlAfterRedirects:C,extras:xe(j({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=C,ee(o)}else{let _="";return this.events.next(new er(u.id,this.urlSerializer.serialize(u.extractedUrl),_,Ih.IgnoredByUrlHandlingStrategy)),u.resolve(!1),fi}}),je(u=>{let f=new Eh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),se(u=>(this.currentTransition=o=xe(j({},u),{guards:bA(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),xA(this.environmentInjector,u=>this.events.next(u)),je(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Hc(this.urlSerializer,u.guardsResult);let f=new Th(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),ln(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Kt.GuardRejected),!1)),gh(u=>{if(u.guards.canActivateChecks.length)return ee(u).pipe(je(f=>{let m=new Ch(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}),qt(f=>{let m=!1;return ee(f).pipe(nR(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>m=!0,complete:()=>{m||this.cancelNavigationTransition(f,"",Kt.NoDataFromResolver)}}))}),je(f=>{let m=new Sh(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(m)}))}),gh(u=>{let f=m=>{let _=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(m.routeConfig).pipe(je(C=>{m.component=C}),se(()=>{})));for(let C of m.children)_.push(...f(C));return _};return fo(f(u.targetSnapshot.root)).pipe(zd(null),un(1))}),gh(()=>this.afterPreactivation()),qt(()=>{let{currentSnapshot:u,targetSnapshot:f}=o,m=this.createViewTransition?.(this.environmentInjector,u.root,f.root);return m?It(m).pipe(se(()=>o)):ee(o)}),se(u=>{let f=hA(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=xe(j({},u),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),je(()=>{this.events.next(new Uo)}),yA(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),un(1),je({next:u=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Zi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{c=!0}}),dn(this.transitionAbortSubject.pipe(je(u=>{throw u}))),mi(()=>{!c&&!l&&this.cancelNavigationTransition(o,"",Kt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),pi(u=>{if(l=!0,s0(u))this.events.next(new qn(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),mA(u)?this.events.next(new Kr(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let f=new Lo(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let m=hn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(m instanceof Bo){let{message:_,cancellationCode:C}=Hc(this.urlSerializer,m);this.events.next(new qn(o.id,this.urlSerializer.serialize(o.extractedUrl),_,C)),this.events.next(new Kr(m.redirectTo,m.navigationBehaviorOptions))}else{this.events.next(f);let _=n.errorHandler(u);o.resolve(!!_)}}catch(m){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(m)}}return fi}))}))}cancelNavigationTransition(n,r,s){let o=new qn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pR(t){return t!==Po}var mR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:()=>$(gR),providedIn:"root"});let t=e;return t})(),$h=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},gR=(()=>{let e=class e extends $h{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),h0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:()=>$(_R),providedIn:"root"});let t=e;return t})(),_R=(()=>{let e=class e extends h0{constructor(){super(...arguments),this.location=$(Ec),this.urlSerializer=$(qh),this.options=$(Yh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=$(Jh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new bi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=e0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Vo)this.stateMemento=this.createStateMemento();else if(n instanceof er)this.rawUrlTree=r.initialUrl;else if(n instanceof Bc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else n instanceof Uo?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof qn&&(n.code===Kt.GuardRejected||n.code===Kt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Lo?this.restoreHistory(r,!0):n instanceof Zi&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,c=j(j({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",c)}else{let o=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Do=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Do||{});function vR(t,e){t.events.pipe(ln(i=>i instanceof Zi||i instanceof qn||i instanceof Lo||i instanceof er),se(i=>i instanceof Zi||i instanceof er?Do.COMPLETE:(i instanceof qn?i.code===Kt.Redirect||i.code===Kt.SupersededByNewNavigation:!1)?Do.REDIRECTING:Do.FAILED),ln(i=>i!==Do.REDIRECTING),un(1)).subscribe(()=>{e()})}function yR(t){throw t}var bR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ut=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=$(bc),this.stateManager=$(h0),this.options=$(Yh,{optional:!0})||{},this.pendingTasks=$(yc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=$(fR),this.urlSerializer=$(qh),this.location=$(Ec),this.urlHandlingStrategy=$(Jh),this._events=new nt,this.errorHandler=this.options.errorHandler||yR,this.navigated=!1,this.routeReuseStrategy=$(mR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=$(Xh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!$(Wh,{optional:!0}),this.eventsSubscription=new Mr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qn&&r.code!==Kt.Redirect&&r.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Zi)this.navigated=!0;else if(r instanceof Kr){let c=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),u=j({info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||pR(s.source)},c);this.scheduleNavigation(l,Po,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}ER(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Po,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let o={replaceUrl:!0},c=s?.navigationId?s:null;if(s){let u=j({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Kh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:o,fragment:c,queryParamsHandling:l,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:c,m=null;switch(l){case"merge":m=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=o||null}m!==null&&(m=this.removeEmptyProps(m));let _;try{let C=s?s.snapshot:this.routerState.snapshot.root;_=Yy(C)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),_=this.currentUrlTree.root}return Xy(_,n,m,f??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=No(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Po,null,r)}navigate(n,r={skipLocationChange:!1}){return IR(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=j({},bR):r===!1?s=j({},wR):s=r,No(n))return My(this.currentUrlTree,n,s);let o=this.parseUrl(n);return My(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(n,r,s,o,c){if(this.disposed)return Promise.resolve(!1);let l,u,f;c?(l=c.resolve,u=c.reject,f=c.promise):f=new Promise((_,C)=>{l=_,u=C});let m=this.pendingTasks.add();return vR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function IR(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Pe(4008,!1)}function ER(t){return!(t instanceof Uo)&&!(t instanceof Kr)}var TR=new te("");function f0(t,...e){return Pt([{provide:Xh,multi:!0,useValue:t},[],{provide:Qr,useFactory:CR,deps:[Ut]},{provide:Xd,multi:!0,useFactory:SR},e.map(i=>i.\u0275providers)])}function CR(t){return t.routerState.root}function SR(){let t=$(Vt);return e=>{let i=t.get(Ic);if(e!==i.components[0])return;let n=t.get(Ut),r=t.get(AR);t.get(RR)===1&&n.initialNavigation(),t.get(kR,null,Gd.Optional)?.setUpPreloading(),t.get(TR,null,Gd.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var AR=new te("",{factory:()=>new nt}),RR=new te("",{providedIn:"root",factory:()=>1});var kR=new te("");var E0=(()=>{let e=class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(r){return new(r||e)(x(Ur),x(we))},e.\u0275dir=Y({type:e});let t=e;return t})(),sl=(()=>{let e=class e extends E0{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,features:[Ie]});let t=e;return t})(),Sn=new te("");var DR={provide:Sn,useExisting:xt(()=>ts),multi:!0};function xR(){let t=Br()?Br().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var PR=new te(""),ts=(()=>{let e=class e extends E0{constructor(n,r,s){super(n,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!xR())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(r){return new(r||e)(x(Ur),x(we),x(PR,8))},e.\u0275dir=Y({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&re("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[Se([DR]),Ie]});let t=e;return t})();function Ii(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function T0(t){return t!=null&&typeof t.length=="number"}var Ci=new te(""),of=new te(""),MR=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Tt=class{static min(e){return C0(e)}static max(e){return S0(e)}static required(e){return OR(e)}static requiredTrue(e){return NR(e)}static email(e){return FR(e)}static minLength(e){return VR(e)}static maxLength(e){return LR(e)}static pattern(e){return A0(e)}static nullValidator(e){return Jc(e)}static compose(e){return M0(e)}static composeAsync(e){return N0(e)}};function C0(t){return e=>{if(Ii(e.value)||Ii(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null}}function S0(t){return e=>{if(Ii(e.value)||Ii(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null}}function OR(t){return Ii(t.value)?{required:!0}:null}function NR(t){return t.value===!0?null:{required:!0}}function FR(t){return Ii(t.value)||MR.test(t.value)?null:{email:!0}}function VR(t){return e=>Ii(e.value)||!T0(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function LR(t){return e=>T0(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function A0(t){if(!t)return Jc;let e,i;return typeof t=="string"?(i="",t.charAt(0)!=="^"&&(i+="^"),i+=t,t.charAt(t.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=t.toString(),e=t),n=>{if(Ii(n.value))return null;let r=n.value;return e.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function Jc(t){return null}function R0(t){return t!=null}function k0(t){return wc(t)?It(t):t}function D0(t){let e={};return t.forEach(i=>{e=i!=null?j(j({},e),i):e}),Object.keys(e).length===0?null:e}function x0(t,e){return e.map(i=>i(t))}function UR(t){return!t.validate}function P0(t){return t.map(e=>UR(e)?e:i=>e.validate(i))}function M0(t){if(!t)return null;let e=t.filter(R0);return e.length==0?null:function(i){return D0(x0(i,e))}}function O0(t){return t!=null?M0(P0(t)):null}function N0(t){if(!t)return null;let e=t.filter(R0);return e.length==0?null:function(i){let n=x0(i,e).map(k0);return fc(n).pipe(se(D0))}}function F0(t){return t!=null?N0(P0(t)):null}function p0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function V0(t){return t._rawValidators}function L0(t){return t._rawAsyncValidators}function Zh(t){return t?Array.isArray(t)?t:[t]:[]}function Zc(t,e){return Array.isArray(t)?t.includes(e):t===e}function m0(t,e){let i=Zh(e);return Zh(t).forEach(r=>{Zc(i,r)||i.push(r)}),i}function g0(t,e){return Zh(e).filter(i=>!Zc(t,i))}var el=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=O0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=F0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},tr=class extends el{get formDirective(){return null}get path(){return null}},nr=class extends el{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},tl=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},jR={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},V2=xe(j({},jR),{"[class.ng-submitted]":"isSubmitted"}),ol=(()=>{let e=class e extends tl{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(x(nr,2))},e.\u0275dir=Y({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&qe("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ie]});let t=e;return t})(),al=(()=>{let e=class e extends tl{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(x(tr,10))},e.\u0275dir=Y({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&qe("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ie]});let t=e;return t})();var Wo="VALID",Xc="INVALID",Jr="PENDING",Ko="DISABLED",Ei=class{},nl=class extends Ei{constructor(e,i){super(),this.value=e,this.source=i}},Qo=class extends Ei{constructor(e,i){super(),this.pristine=e,this.source=i}},Yo=class extends Ei{constructor(e,i){super(),this.touched=e,this.source=i}},Zr=class extends Ei{constructor(e,i){super(),this.status=e,this.source=i}},ef=class extends Ei{constructor(e){super(),this.source=e}},tf=class extends Ei{constructor(e){super(),this.source=e}};function af(t){return(cl(t)?t.validators:t)||null}function BR(t){return Array.isArray(t)?O0(t):t||null}function cf(t,e){return(cl(e)?e.asyncValidators:t)||null}function zR(t){return Array.isArray(t)?F0(t):t||null}function cl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function U0(t,e,i){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new Pe(1e3,"");if(!n[i])throw new Pe(1001,"")}function j0(t,e,i){t._forEachChild((n,r)=>{if(i[r]===void 0)throw new Pe(1002,"")})}var es=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new nt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Wo}get invalid(){return this.status===Xc}get pending(){return this.status==Jr}get disabled(){return this.status===Ko}get enabled(){return this.status!==Ko}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(m0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(m0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(g0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(g0(e,this._rawAsyncValidators))}hasValidator(e){return Zc(this._rawValidators,e)}hasAsyncValidator(e){return Zc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let i=this.touched===!1;this.touched=!0;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(xe(j({},e),{sourceControl:n})),i&&e.emitEvent!==!1&&this._events.next(new Yo(!0,n))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(e))}markAsUntouched(e={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:n})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n),i&&e.emitEvent!==!1&&this._events.next(new Yo(!1,n))}markAsDirty(e={}){let i=this.pristine===!0;this.pristine=!1;let n=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(xe(j({},e),{sourceControl:n})),i&&e.emitEvent!==!1&&this._events.next(new Qo(!1,n))}markAsPristine(e={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&e.emitEvent!==!1&&this._events.next(new Qo(!0,n))}markAsPending(e={}){this.status=Jr;let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Zr(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(xe(j({},e),{sourceControl:i}))}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=Ko,this.errors=null,this._forEachChild(r=>{r.disable(xe(j({},e),{onlySelf:!0}))}),this._updateValue();let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nl(this.value,n)),this._events.next(new Zr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(xe(j({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=Wo,this._forEachChild(n=>{n.enable(xe(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(xe(j({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e,i){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wo||this.status===Jr)&&this._runAsyncValidator(n,e.emitEvent)}let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new nl(this.value,i)),this._events.next(new Zr(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(xe(j({},e),{sourceControl:i}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ko:Wo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,i){if(this.asyncValidator){this.status=Jr,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let n=k0(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:i,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(e,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,i,n){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||n)&&this._events.next(new Zr(this.status,i)),this._parent&&this._parent._updateControlsErrors(e,i,n)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Ko:this.errors?Xc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jr)?Jr:this._anyControlsHaveStatus(Xc)?Xc:Wo}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,i){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),r&&this._events.next(new Qo(this.pristine,i))}_updateTouched(e={},i){this.touched=this._anyControlsTouched(),this._events.next(new Yo(this.touched,i)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=BR(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=zR(this._rawAsyncValidators)}},Ti=class extends es{constructor(e,i,n){super(af(i),cf(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,n={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){j0(this,!0,e),Object.keys(e).forEach(n=>{U0(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,n)=>(e[n]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&e(n,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(e,i){let n=e;return this._forEachChild((r,s)=>{n=i(n,r,s)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var nf=class extends Ti{};var ll=new te("CallSetDisabledState",{providedIn:"root",factory:()=>ul}),ul="always";function B0(t,e){return[...e.path,t]}function rf(t,e,i=ul){lf(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),qR(t,e),HR(t,e),GR(t,e),$R(t,e)}function _0(t,e,i=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),rl(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function il(t,e){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function $R(t,e){if(e.valueAccessor.setDisabledState){let i=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(i),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}function lf(t,e){let i=V0(t);e.validator!==null?t.setValidators(p0(i,e.validator)):typeof i=="function"&&t.setValidators([i]);let n=L0(t);e.asyncValidator!==null?t.setAsyncValidators(p0(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();il(e._rawValidators,r),il(e._rawAsyncValidators,r)}function rl(t,e){let i=!1;if(t!==null){if(e.validator!==null){let r=V0(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(i=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=L0(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(i=!0,t.setAsyncValidators(s))}}}let n=()=>{};return il(e._rawValidators,n),il(e._rawAsyncValidators,n),i}function qR(t,e){e.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&z0(t,e)})}function GR(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&z0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function z0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function HR(t,e){let i=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};t.registerOnChange(i),e._registerOnDestroy(()=>{t._unregisterOnChange(i)})}function WR(t,e){t==null,lf(t,e)}function KR(t,e){return rl(t,e)}function $0(t,e){if(!t.hasOwnProperty("model"))return!1;let i=t.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function QR(t){return Object.getPrototypeOf(t.constructor)===sl}function YR(t,e){t._syncPendingControls(),e.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function q0(t,e){if(!e)return null;Array.isArray(e);let i,n,r;return e.forEach(s=>{s.constructor===ts?i=s:QR(s)?n=s:r=s}),r||n||i||null}function XR(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function v0(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function y0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var en=class extends es{constructor(e=null,i,n){super(af(i),cf(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cl(i)&&(i.nonNullable||i.initialValueIsDefault)&&(y0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){v0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){v0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){y0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var JR=t=>t instanceof en;var ZR={provide:nr,useExisting:xt(()=>uf)},b0=Promise.resolve(),uf=(()=>{let e=class e extends nr{constructor(n,r,s,o,c,l){super(),this._changeDetectorRef=c,this.callSetDisabledState=l,this.control=new en,this._registered=!1,this.name="",this.update=new Fe,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=q0(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),$0(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){rf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){b0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,s=r!==0&&Ae(r);b0.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?B0(n,this._parent):[n]}};e.\u0275fac=function(r){return new(r||e)(x(tr,9),x(Ci,10),x(of,10),x(Sn,10),x(Lt,8),x(ll,8))},e.\u0275dir=Y({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Se([ZR]),Ie,ct]});let t=e;return t})(),dl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Y({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),ek={provide:Sn,useExisting:xt(()=>df),multi:!0},df=(()=>{let e=class e extends sl{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&re("input",function(c){return s.onChange(c.target.value)})("blur",function(){return s.onTouched()})},features:[Se([ek]),Ie]});let t=e;return t})();var G0=new te("");var tk={provide:tr,useExisting:xt(()=>Xo)},Xo=(()=>{let e=class e extends tr{constructor(n,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Fe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return rf(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){_0(n.control||null,n,!1),XR(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,YR(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new ef(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1,this.form._events.next(new tf(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,s=this.form.get(n.path);r!==s&&(_0(r||null,n),JR(s)&&(rf(s,n,this.callSetDisabledState),n.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);WR(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&KR(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lf(this.form,this),this._oldForm&&rl(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(x(Ci,10),x(of,10),x(ll,8))},e.\u0275dir=Y({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&re("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Se([tk]),Ie,ct]});let t=e;return t})();var nk={provide:nr,useExisting:xt(()=>Jo)},Jo=(()=>{let e=class e extends nr{set isDisabled(n){}constructor(n,r,s,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new Fe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=q0(this,o)}ngOnChanges(n){this._added||this._setUpControl(),$0(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return B0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(x(tr,13),x(Ci,10),x(of,10),x(Sn,10),x(G0,8))},e.\u0275dir=Y({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Se([nk]),Ie,ct]});let t=e;return t})(),ik={provide:Sn,useExisting:xt(()=>hl),multi:!0};function H0(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function rk(t){return t.split(":")[0]}var hl=(()=>{let e=class e extends sl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),s=H0(r,n);this.setProperty("value",s)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=rk(n);return this._optionMap.has(r)?this._optionMap.get(r):n}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&re("change",function(c){return s.onChange(c.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Se([ik]),Ie]});let t=e;return t})(),W0=(()=>{let e=class e{constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(H0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(x(we),x(Ur),x(hl,9))},e.\u0275dir=Y({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),sk={provide:Sn,useExisting:xt(()=>K0),multi:!0};function w0(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function ok(t){return t.split(":")[0]}var K0=(()=>{let e=class e extends sl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let s=n.map(o=>this._getOptionId(o));r=(o,c)=>{o._setSelected(s.indexOf(c.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let c=o;for(let l=0;l<c.length;l++){let u=c[l],f=this._getOptionValue(u.value);s.push(f)}}else{let c=r.options;for(let l=0;l<c.length;l++){let u=c[l];if(u.selected){let f=this._getOptionValue(u.value);s.push(f)}}}this.value=s,n(s)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=ok(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&re("change",function(c){return s.onChange(c.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Se([sk]),Ie]});let t=e;return t})(),Q0=(()=>{let e=class e{constructor(n,r,s){this._element=n,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(w0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(w0(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(x(we),x(Ur),x(K0,9))},e.\u0275dir=Y({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();function Y0(t){return typeof t=="number"?t:parseFloat(t)}var hf=(()=>{let e=class e{constructor(){this._validator=Jc}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Jc,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Y({type:e,features:[ct]});let t=e;return t})(),ak={provide:Ci,useExisting:xt(()=>ff),multi:!0},ff=(()=>{let e=class e extends hf{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=n=>Y0(n),this.createValidator=n=>S0(n)}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,s){r&2&&dt("max",s._enabled?s.max:null)},inputs:{max:"max"},features:[Se([ak]),Ie]});let t=e;return t})(),ck={provide:Ci,useExisting:xt(()=>pf),multi:!0},pf=(()=>{let e=class e extends hf{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Y0(n),this.createValidator=n=>C0(n)}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,s){r&2&&dt("min",s._enabled?s.min:null)},inputs:{min:"min"},features:[Se([ck]),Ie]});let t=e;return t})();var lk={provide:Ci,useExisting:xt(()=>mf),multi:!0},mf=(()=>{let e=class e extends hf{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>A0(n)}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,s){r&2&&dt("pattern",s._enabled?s.pattern:null)},inputs:{pattern:"pattern"},features:[Se([lk]),Ie]});let t=e;return t})();var X0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({});let t=e;return t})(),sf=class extends es{constructor(e,i,n){super(af(i),cf(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,i={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(e,i,n={}){this.controls.splice(e,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,i={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(e,i,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,i={}){j0(this,!1,e),e.forEach((n,r)=>{U0(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(e.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e=[],i={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((i,n)=>{e(i,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(i=>i.enabled&&e(i))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function I0(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var fl=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let s=this._reduceControls(n),o={};return I0(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ti(s,o)}record(n,r=null){let s=this._reduceControls(n);return new nf(s,r)}control(n,r,s){let o={};return this.useNonNullable?(I0(r)?o=r:(o.validators=r,o.asyncValidators=s),new en(n,xe(j({},o),{nonNullable:!0}))):new en(n,r,s)}array(n,r,s){let o=n.map(c=>this._createControl(c));return new sf(o,r,s)}_reduceControls(n){let r={};return Object.keys(n).forEach(s=>{r[s]=this._createControl(n[s])}),r}_createControl(n){if(n instanceof en)return n;if(n instanceof es)return n;if(Array.isArray(n)){let r=n[0],s=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,s,o)}else return this.control(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ns=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:ll,useValue:n.callSetDisabledState??ul}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[X0]});let t=e;return t})(),is=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:G0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:ll,useValue:n.callSetDisabledState??ul}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[X0]});let t=e;return t})();var _f;try{_f=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_f=!1}var Ct=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?hy(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||_f)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(z(fn))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Zo;function uk(){if(Zo==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zo=!0}))}finally{Zo=Zo||!1}return Zo}function rs(t){return uk()?t:!!t.capture}var gf;function dk(){if(gf==null){let t=typeof document<"u"?document.head:null;gf=!!(t&&(t.createShadowRoot||t.attachShadow))}return gf}function Z0(t){if(dk()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Si(t){return t.composedPath?t.composedPath()[0]:t.target}function eb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function vf(t){return Array.isArray(t)?t:[t]}function ir(t){return t instanceof we?t.nativeElement:t}var tb=new Set,rr,hk=(()=>{let e=class e{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pk}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&fk(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(r){return new(r||e)(z(Ct),z(mo,8))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fk(t,e){if(!tb.has(t))try{rr||(rr=document.createElement("style"),e&&rr.setAttribute("nonce",e),rr.setAttribute("type","text/css"),document.head.appendChild(rr)),rr.sheet&&(rr.sheet.insertRule(`@media ${t} {body{ }}`,0),tb.add(t))}catch(i){console.error(i)}}function pk(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var ib=(()=>{let e=class e{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new nt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return nb(vf(n)).some(s=>this._registerQuery(s).mql.matches)}observe(n){let s=nb(vf(n)).map(c=>this._registerQuery(c).observable),o=fo(s);return o=hc(o.pipe(un(1)),o.pipe(mc(1),Bd(0))),o.pipe(se(c=>{let l={matches:!1,breakpoints:{}};return c.forEach(({matches:u,query:f})=>{l.matches=l.matches||u,l.breakpoints[f]=u}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),o={observable:new cn(c=>{let l=u=>this._zone.run(()=>c.next(u));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Nr(r),se(({matches:c})=>({query:n,matches:c})),dn(this._destroySubject)),mql:r};return this._queries.set(n,o),o}};e.\u0275fac=function(r){return new(r||e)(z(hk),z(fe))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nb(t){return t.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}function bf(t){return t.buttons===0||t.detail===0}function wf(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var mk=new te("cdk-input-modality-detector-options"),gk={ignoreKeys:[18,17,224,91,16]},ob=650,os=rs({passive:!0,capture:!0}),_k=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(n,r,s,o){this._platform=n,this._mostRecentTarget=null,this._modality=new wt(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(l=>l===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Si(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<ob||(this._modality.next(bf(c)?"keyboard":"mouse"),this._mostRecentTarget=Si(c))},this._onTouchstart=c=>{if(wf(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Si(c)},this._options=j(j({},gk),o),this.modalityDetected=this._modality.pipe(mc(1)),this.modalityChanged=this.modalityDetected.pipe(pc()),n.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,os),s.addEventListener("mousedown",this._onMousedown,os),s.addEventListener("touchstart",this._onTouchstart,os)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,os),document.removeEventListener("mousedown",this._onMousedown,os),document.removeEventListener("touchstart",this._onTouchstart,os))}};e.\u0275fac=function(r){return new(r||e)(z(Ct),z(fe),z(Te),z(mk,8))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ml=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(ml||{}),vk=new te("cdk-focus-monitor-default-options"),pl=rs({passive:!0,capture:!0}),ab=(()=>{let e=class e{constructor(n,r,s,o,c){this._ngZone=n,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new nt,this._rootNodeFocusAndBlurListener=l=>{let u=Si(l);for(let f=u;f;f=f.parentElement)l.type==="focus"?this._onFocus(l,f):this._onBlur(l,f)},this._document=o,this._detectionMode=c?.detectionMode||ml.IMMEDIATE}monitor(n,r=!1){let s=ir(n);if(!this._platform.isBrowser||s.nodeType!==1)return ee();let o=Z0(s)||this._getDocument(),c=this._elementInfo.get(s);if(c)return r&&(c.checkChildren=!0),c.subject;let l={checkChildren:r,subject:new nt,rootNode:o};return this._elementInfo.set(s,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let r=ir(n),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(n,r,s){let o=ir(n),c=this._getDocument().activeElement;o===c?this._getClosestElementsInfo(o).forEach(([l,u])=>this._originChanged(l,r,u)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(s))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===ml.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===ml.IMMEDIATE){clearTimeout(this._originTimeoutId);let s=this._originFromTouchInteraction?ob:1;this._originTimeoutId=setTimeout(()=>this._origin=null,s)}})}_onFocus(n,r){let s=this._elementInfo.get(r),o=Si(n);!s||!s.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),s)}_onBlur(n,r){let s=this._elementInfo.get(r);!s||s.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,pl),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,pl)}),this._rootNodeFocusListenerCount.set(r,s+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(dn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,pl),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,pl),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,s){this._setClasses(n,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((s,o)=>{(o===n||s.checkChildren&&o.contains(n))&&r.push([o,s])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if(s!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let c=0;c<o.length;c++)if(o[c].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(z(fe),z(Ct),z(_k),z(Te,8),z(vk,8))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sr=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(sr||{}),rb="cdk-high-contrast-black-on-white",sb="cdk-high-contrast-white-on-black",yf="cdk-high-contrast-active",cb=(()=>{let e=class e{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=$(ib).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return sr.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(n):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return sr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return sr.BLACK_ON_WHITE}return sr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(yf,rb,sb),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===sr.BLACK_ON_WHITE?n.add(yf,rb):r===sr.WHITE_ON_BLACK&&n.add(yf,sb)}}};e.\u0275fac=function(r){return new(r||e)(z(Ct),z(Te))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var yk=new te("cdk-dir-doc",{providedIn:"root",factory:bk});function bk(){return $(Te)}var wk=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Ik(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?wk.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var gl=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new Fe,n){let r=n.body?n.body.dir:null,s=n.documentElement?n.documentElement.dir:null;this.value=Ik(r||s||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(z(yk,8))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var as=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({});let t=e;return t})();var Ek=["mat-internal-form-field",""],Tk=["*"];function Ck(){return!0}var Sk=new te("mat-sanity-checks",{providedIn:"root",factory:Ck}),Be=(()=>{let e=class e{constructor(n,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return eb()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};e.\u0275fac=function(r){return new(r||e)(z(cb),z(Sk,8),z(Te))},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[as,as]});let t=e;return t})();var Cf=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[Be,Be]});let t=e;return t})(),tn=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(tn||{}),If=class{constructor(e,i,n,r=!1){this._renderer=e,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=tn.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},db=rs({passive:!0,capture:!0}),Ef=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let i=Si(e);i&&this._events.get(e.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(s=>s.handleEvent(e))})}}addHandler(e,i,n,r){let s=this._events.get(i);if(s){let o=s.get(n);o?o.add(r):s.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,db)})}removeHandler(e,i,n){let r=this._events.get(e);if(!r)return;let s=r.get(i);s&&(s.delete(n),s.size===0&&r.delete(i),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,db)))}},hb={enterDuration:225,exitDuration:150},Ak=800,fb=rs({passive:!0,capture:!0}),pb=["mousedown","touchstart"],mb=["mouseup","mouseleave","touchend","touchcancel"],ea=class ea{constructor(e,i,n,r){this._target=e,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ir(n))}fadeInRipple(e,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=j(j({},hb),n.animation);n.centered&&(e=r.left+r.width/2,i=r.top+r.height/2);let o=n.radius||Rk(e,i,r),c=e-r.left,l=i-r.top,u=s.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-o}px`,f.style.top=`${l-o}px`,f.style.height=`${o*2}px`,f.style.width=`${o*2}px`,n.color!=null&&(f.style.backgroundColor=n.color),f.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(f);let m=window.getComputedStyle(f),_=m.transitionProperty,C=m.transitionDuration,P=_==="none"||C==="0s"||C==="0s, 0s"||r.width===0&&r.height===0,F=new If(this,f,n,P);f.style.transform="scale3d(1, 1, 1)",F.state=tn.FADING_IN,n.persistent||(this._mostRecentTransientRipple=F);let k=null;return!P&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let U=()=>this._finishRippleTransition(F),Q=()=>this._destroyRipple(F);f.addEventListener("transitionend",U),f.addEventListener("transitioncancel",Q),k={onTransitionEnd:U,onTransitionCancel:Q}}),this._activeRipples.set(F,k),(P||!u)&&this._finishRippleTransition(F),F}fadeOutRipple(e){if(e.state===tn.FADING_OUT||e.state===tn.HIDDEN)return;let i=e.element,n=j(j({},hb),e.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",e.state=tn.FADING_OUT,(e._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=ir(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,pb.forEach(n=>{ea._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{mb.forEach(i=>{this._triggerElement.addEventListener(i,this,fb)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===tn.FADING_IN?this._startFadeOutTransition(e):e.state===tn.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:n}=e.config;e.state=tn.VISIBLE,!n&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=tn.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel)),e.element.remove()}_onMousedown(e){let i=bf(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Ak;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!wf(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===tn.VISIBLE||e.config.terminateOnPointerUp&&e.state===tn.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(pb.forEach(i=>ea._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&(mb.forEach(i=>e.removeEventListener(i,this,fb)),this._pointerUpEventsRegistered=!1))}};ea._eventManager=new Ef;var Tf=ea;function Rk(t,e,i){let n=Math.max(Math.abs(t-i.left),Math.abs(t-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(n*n+r*r)}var kk=new te("mat-ripple-global-options"),ta=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,s,o,c){this._elementRef=n,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Tf(this,r,n,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:j(j(j({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,s){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,j(j({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,j(j({},this.rippleConfig),n))}};e.\u0275fac=function(r){return new(r||e)(x(we),x(fe),x(Ct),x(kk,8),x(Ki,8))},e.\u0275dir=Y({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,s){r&2&&qe("mat-ripple-unbounded",s.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),gb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[Be,Be]});let t=e;return t})(),_b=(()=>{let e=class e{constructor(n){this._animationMode=n,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(r){return new(r||e)(x(Ki,8))},e.\u0275cmp=de({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,s){r&2&&qe("mat-pseudo-checkbox-indeterminate",s.state==="indeterminate")("mat-pseudo-checkbox-checked",s.state==="checked")("mat-pseudo-checkbox-disabled",s.disabled)("mat-pseudo-checkbox-minimal",s.appearance==="minimal")("mat-pseudo-checkbox-full",s.appearance==="full")("_mat-animation-noopable",s._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[he],decls:0,vars:0,template:function(r,s){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let t=e;return t})();var vb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,s){r&2&&qe("mdc-form-field--align-end",s.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[he],attrs:Ek,ngContentSelectors:Tk,decls:1,vars:0,template:function(r,s){r&1&&(Et(),et(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0});let t=e;return t})();var Dk=["input"],xk=["label"],Pk=["*"],Mk=new te("mat-checkbox-default-options",{providedIn:"root",factory:bb});function bb(){return{color:"accent",clickAction:"check-indeterminate"}}var St=function(t){return t[t.Init=0]="Init",t[t.Checked=1]="Checked",t[t.Unchecked=2]="Unchecked",t[t.Indeterminate=3]="Indeterminate",t}(St||{}),Ok={provide:Sn,useExisting:xt(()=>wb),multi:!0},Sf=class{},Nk=0,yb=bb(),wb=(()=>{let e=class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(n){let r=new Sf;return r.source=this,r.checked=n,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(n,r,s,o,c,l){this._elementRef=n,this._changeDetectorRef=r,this._ngZone=s,this._animationMode=c,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Fe,this.indeterminateChange=new Fe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=St.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||yb,this.color=this._options.color||yb.color,this.tabIndex=parseInt(o)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++Nk}`}ngOnChanges(n){n.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(n){n!=this.checked&&(this._checked=n,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(n){n!==this.disabled&&(this._disabled=n,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(n){let r=n!=this._indeterminate;this._indeterminate=n,r&&(this._indeterminate?this._transitionCheckState(St.Indeterminate):this._transitionCheckState(this.checked?St.Checked:St.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(n){this.checked=!!n}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}validate(n){return this.required&&n.value!==!0?{required:!0}:null}registerOnValidatorChange(n){this._validatorChangeFn=n}_transitionCheckState(n){let r=this._currentCheckState,s=this._getAnimationTargetElement();if(!(r===n||!s)&&(this._currentAnimationClass&&s.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,n),this._currentCheckState=n,this._currentAnimationClass.length>0)){s.classList.add(this._currentAnimationClass);let o=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{s.classList.remove(o)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let n=this._options?.clickAction;!this.disabled&&n!=="noop"?(this.indeterminate&&n!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?St.Checked:St.Unchecked),this._emitChangeEvent()):!this.disabled&&n==="noop"&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(n){n.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(n,r){if(this._animationMode==="NoopAnimations")return"";switch(n){case St.Init:if(r===St.Checked)return this._animationClasses.uncheckedToChecked;if(r==St.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case St.Unchecked:return r===St.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case St.Checked:return r===St.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case St.Indeterminate:return r===St.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(n){let r=this._inputElement;r&&(r.nativeElement.indeterminate=n)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(n){n.target&&this._labelElement.nativeElement.contains(n.target)&&n.stopPropagation()}};e.\u0275fac=function(r){return new(r||e)(x(we),x(Lt),x(fe),Bn("tabindex"),x(Ki,8),x(Mk,8))},e.\u0275cmp=de({type:e,selectors:[["mat-checkbox"]],viewQuery:function(r,s){if(r&1&&(En(Dk,5),En(xk,5),En(ta,5)),r&2){let o;Ge(o=He())&&(s._inputElement=o.first),Ge(o=He())&&(s._labelElement=o.first),Ge(o=He())&&(s.ripple=o.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(r,s){r&2&&(Yd("id",s.id),dt("tabindex",null)("aria-label",null)("aria-labelledby",null),Qi(s.color?"mat-"+s.color:"mat-accent"),qe("_mat-animation-noopable",s._animationMode==="NoopAnimations")("mdc-checkbox--disabled",s.disabled)("mat-mdc-checkbox-disabled",s.disabled)("mat-mdc-checkbox-checked",s.checked))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Ae],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Ae],tabIndex:[2,"tabIndex","tabIndex",n=>n==null?void 0:ay(n)],color:"color",checked:[2,"checked","checked",Ae],disabled:[2,"disabled","disabled",Ae],indeterminate:[2,"indeterminate","indeterminate",Ae]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[Se([Ok,{provide:Ci,useExisting:e,multi:!0}]),lt,ct,he],ngContentSelectors:Pk,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(r,s){if(r&1){let o=Ce();Et(),A(0,"div",3),re("click",function(l){return pe(o),me(s._preventBubblingFromLabel(l))}),A(1,"div",4,0)(3,"div",5),re("click",function(){return pe(o),me(s._onTouchTargetClick())}),S(),A(4,"input",6,1),re("blur",function(){return pe(o),me(s._onBlur())})("click",function(){return pe(o),me(s._onInputClick())})("change",function(l){return pe(o),me(s._onInteractionEvent(l))}),S(),q(6,"div",7),A(7,"div",8),Hd(),A(8,"svg",9),q(9,"path",10),S(),Wd(),q(10,"div",11),S(),q(11,"div",12),S(),A(12,"label",13,2),et(14),S()()}if(r&2){let o=vo(2);V("labelPosition",s.labelPosition),M(4),qe("mdc-checkbox--selected",s.checked),V("checked",s.checked)("indeterminate",s.indeterminate)("disabled",s.disabled)("id",s.inputId)("required",s.required)("tabIndex",s.disabled?-1:s.tabIndex),dt("aria-label",s.ariaLabel||null)("aria-labelledby",s.ariaLabelledby)("aria-describedby",s.ariaDescribedby)("aria-checked",s.indeterminate?"mixed":null)("name",s.name)("value",s.value),M(7),V("matRippleTrigger",o)("matRippleDisabled",s.disableRipple||s.disabled)("matRippleCentered",!0),M(),V("for",s.inputId)}},dependencies:[ta,vb],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-unselected-icon-color);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox--disabled .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color)}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color);font-family:var(--mat-checkbox-label-text-font);line-height:var(--mat-checkbox-label-text-line-height);font-size:var(--mat-checkbox-label-text-size);letter-spacing:var(--mat-checkbox-label-text-tracking);font-weight:var(--mat-checkbox-label-text-weight)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let t=e;return t})();var _l=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[wb,Be,Be]});let t=e;return t})();var Fk=["*",[["mat-toolbar-row"]]],Vk=["*","mat-toolbar-row"],Lk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Y({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let t=e;return t})(),Ib=(()=>{let e=class e{constructor(n,r,s){this._elementRef=n,this._platform=r,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};e.\u0275fac=function(r){return new(r||e)(x(we),x(Ct),x(Te))},e.\u0275cmp=de({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,s,o){if(r&1&&Ot(o,Lk,5),r&2){let c;Ge(c=He())&&(s._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,s){r&2&&(Qi(s.color?"mat-"+s.color:""),qe("mat-toolbar-multiple-rows",s._toolbarRows.length>0)("mat-toolbar-single-row",s._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[he],ngContentSelectors:Vk,decls:2,vars:0,template:function(r,s){r&1&&(Et(Fk),et(0),et(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let t=e;return t})();var Eb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[Be,Be]});let t=e;return t})();var jk=["*"],vl;function Bk(){if(vl===void 0&&(vl=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(vl=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return vl}function na(t){return Bk()?.createHTML(t)||t}function Tb(t){return Error(`Unable to find icon with the name "${t}"`)}function zk(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function Cb(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Sb(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var Gn=class{constructor(e,i,n){this.url=e,this.svgText=i,this.options=n}},$k=(()=>{let e=class e{constructor(n,r,s,o){this._httpClient=n,this._sanitizer=r,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(n,r,s){return this.addSvgIconInNamespace("",n,r,s)}addSvgIconLiteral(n,r,s){return this.addSvgIconLiteralInNamespace("",n,r,s)}addSvgIconInNamespace(n,r,s,o){return this._addSvgIconConfig(n,r,new Gn(s,null,o))}addSvgIconResolver(n){return this._resolvers.push(n),this}addSvgIconLiteralInNamespace(n,r,s,o){let c=this._sanitizer.sanitize(Gt.HTML,s);if(!c)throw Sb(s);let l=na(c);return this._addSvgIconConfig(n,r,new Gn("",l,o))}addSvgIconSet(n,r){return this.addSvgIconSetInNamespace("",n,r)}addSvgIconSetLiteral(n,r){return this.addSvgIconSetLiteralInNamespace("",n,r)}addSvgIconSetInNamespace(n,r,s){return this._addSvgIconSetConfig(n,new Gn(r,null,s))}addSvgIconSetLiteralInNamespace(n,r,s){let o=this._sanitizer.sanitize(Gt.HTML,r);if(!o)throw Sb(r);let c=na(o);return this._addSvgIconSetConfig(n,new Gn("",c,s))}registerFontClassAlias(n,r=n){return this._fontCssClassesByAlias.set(n,r),this}classNameForFontAlias(n){return this._fontCssClassesByAlias.get(n)||n}setDefaultFontSetClass(...n){return this._defaultFontSetClass=n,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(n){let r=this._sanitizer.sanitize(Gt.RESOURCE_URL,n);if(!r)throw Cb(n);let s=this._cachedIconsByUrl.get(r);return s?ee(yl(s)):this._loadSvgIconFromConfig(new Gn(n,null)).pipe(je(o=>this._cachedIconsByUrl.set(r,o)),se(o=>yl(o)))}getNamedSvgIcon(n,r=""){let s=Ab(r,n),o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,n),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);let c=this._iconSetConfigs.get(r);return c?this._getSvgFromIconSetConfigs(n,c):Gi(Tb(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(n){return n.svgText?ee(yl(this._svgElementFromConfig(n))):this._loadSvgIconFromConfig(n).pipe(se(r=>yl(r)))}_getSvgFromIconSetConfigs(n,r){let s=this._extractIconWithNameFromAnySet(n,r);if(s)return ee(s);let o=r.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(pi(l=>{let f=`Loading icon set URL: ${this._sanitizer.sanitize(Gt.RESOURCE_URL,c.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(f)),ee(null)})));return fc(o).pipe(se(()=>{let c=this._extractIconWithNameFromAnySet(n,r);if(!c)throw Tb(n);return c}))}_extractIconWithNameFromAnySet(n,r){for(let s=r.length-1;s>=0;s--){let o=r[s];if(o.svgText&&o.svgText.toString().indexOf(n)>-1){let c=this._svgElementFromConfig(o),l=this._extractSvgIconFromSet(c,n,o.options);if(l)return l}}return null}_loadSvgIconFromConfig(n){return this._fetchIcon(n).pipe(je(r=>n.svgText=r),se(()=>this._svgElementFromConfig(n)))}_loadSvgIconSetFromConfig(n){return n.svgText?ee(null):this._fetchIcon(n).pipe(je(r=>n.svgText=r))}_extractSvgIconFromSet(n,r,s){let o=n.querySelector(`[id="${r}"]`);if(!o)return null;let c=o.cloneNode(!0);if(c.removeAttribute("id"),c.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(c,s);if(c.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(c),s);let l=this._svgElementFromString(na("<svg></svg>"));return l.appendChild(c),this._setSvgAttributes(l,s)}_svgElementFromString(n){let r=this._document.createElement("DIV");r.innerHTML=n;let s=r.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(n){let r=this._svgElementFromString(na("<svg></svg>")),s=n.attributes;for(let o=0;o<s.length;o++){let{name:c,value:l}=s[o];c!=="id"&&r.setAttribute(c,l)}for(let o=0;o<n.childNodes.length;o++)n.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(n.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(n,r){return n.setAttribute("fit",""),n.setAttribute("height","100%"),n.setAttribute("width","100%"),n.setAttribute("preserveAspectRatio","xMidYMid meet"),n.setAttribute("focusable","false"),r&&r.viewBox&&n.setAttribute("viewBox",r.viewBox),n}_fetchIcon(n){let{url:r,options:s}=n,o=s?.withCredentials??!1;if(!this._httpClient)throw zk();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let c=this._sanitizer.sanitize(Gt.RESOURCE_URL,r);if(!c)throw Cb(r);let l=this._inProgressUrlFetches.get(c);if(l)return l;let u=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe(se(f=>na(f)),mi(()=>this._inProgressUrlFetches.delete(c)),Lv());return this._inProgressUrlFetches.set(c,u),u}_addSvgIconConfig(n,r,s){return this._svgIconConfigs.set(Ab(n,r),s),this}_addSvgIconSetConfig(n,r){let s=this._iconSetConfigs.get(n);return s?s.push(r):this._iconSetConfigs.set(n,[r]),this}_svgElementFromConfig(n){if(!n.svgElement){let r=this._svgElementFromString(n.svgText);this._setSvgAttributes(r,n.options),n.svgElement=r}return n.svgElement}_getIconConfigFromResolvers(n,r){for(let s=0;s<this._resolvers.length;s++){let o=this._resolvers[s](r,n);if(o)return qk(o)?new Gn(o.url,null,o.options):new Gn(o,null)}}};e.\u0275fac=function(r){return new(r||e)(z(rh,8),z(hh),z(Te,8),z(Wi))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yl(t){return t.cloneNode(!0)}function Ab(t,e){return t+":"+e}function qk(t){return!!(t.url&&t.options)}var Gk=new te("MAT_ICON_DEFAULT_OPTIONS"),Hk=new te("mat-icon-location",{providedIn:"root",factory:Wk});function Wk(){let t=$(Te),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var Rb=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Kk=Rb.map(t=>`[${t}]`).join(", "),Qk=/^url\(['"]?#(.*?)['"]?\)$/,kb=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(n){this._color=n}get svgIcon(){return this._svgIcon}set svgIcon(n){n!==this._svgIcon&&(n?this._updateSvgIcon(n):this._svgIcon&&this._clearSvgElement(),this._svgIcon=n)}get fontSet(){return this._fontSet}set fontSet(n){let r=this._cleanupFontValue(n);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(n){let r=this._cleanupFontValue(n);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(n,r,s,o,c,l){this._elementRef=n,this._iconRegistry=r,this._location=o,this._errorHandler=c,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Mr.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),s||n.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(n){if(!n)return["",""];let r=n.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${n}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let n=this._elementsWithExternalReferences;if(n&&n.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(n){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(n),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(n)}_clearSvgElement(){let n=this._elementRef.nativeElement,r=n.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let s=n.childNodes[r];(s.nodeType!==1||s.nodeName.toLowerCase()==="svg")&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let n=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>n.classList.remove(s)),r.forEach(s=>n.classList.add(s)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&n.classList.remove(this._previousFontIconClass),this.fontIcon&&n.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(n){return typeof n=="string"?n.trim().split(" ")[0]:n}_prependPathToReferences(n){let r=this._elementsWithExternalReferences;r&&r.forEach((s,o)=>{s.forEach(c=>{o.setAttribute(c.name,`url('${n}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(n){let r=n.querySelectorAll(Kk),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)Rb.forEach(c=>{let l=r[o],u=l.getAttribute(c),f=u?u.match(Qk):null;if(f){let m=s.get(l);m||(m=[],s.set(l,m)),m.push({name:c,value:f[1]})}})}_updateSvgIcon(n){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),n){let[r,s]=this._splitIconName(n);r&&(this._svgNamespace=r),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,r).pipe(un(1)).subscribe(o=>this._setSvgElement(o),o=>{let c=`Error retrieving icon ${r}:${s}! ${o.message}`;this._errorHandler.handleError(new Error(c))})}}};e.\u0275fac=function(r){return new(r||e)(x(we),x($k),Bn("aria-hidden"),x(Hk),x(Wi),x(Gk,8))},e.\u0275cmp=de({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,s){r&2&&(dt("data-mat-icon-type",s._usingFontIcon()?"font":"svg")("data-mat-icon-name",s._svgName||s.fontIcon)("data-mat-icon-namespace",s._svgNamespace||s.fontSet)("fontIcon",s._usingFontIcon()?s.fontIcon:null),Qi(s.color?"mat-"+s.color:""),qe("mat-icon-inline",s.inline)("mat-icon-no-color",s.color!=="primary"&&s.color!=="accent"&&s.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Ae],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[lt,he],ngContentSelectors:jk,decls:1,vars:0,template:function(r,s){r&1&&(Et(),et(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let t=e;return t})(),bl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[Be,Be]});let t=e;return t})();var Db=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[Ht,Be]});let t=e;return t})();var Pb=function(t){let e=[],i=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[i++]=r:r<2048?(e[i++]=r>>6|192,e[i++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e[i++]=r>>18|240,e[i++]=r>>12&63|128,e[i++]=r>>6&63|128,e[i++]=r&63|128):(e[i++]=r>>12|224,e[i++]=r>>6&63|128,e[i++]=r&63|128)}return e},Xk=function(t){let e=[],i=0,n=0;for(;i<t.length;){let r=t[i++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){let s=t[i++];e[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=t[i++],o=t[i++],c=t[i++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{let s=t[i++],o=t[i++];e[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Mb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){let s=t[r],o=r+1<t.length,c=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,f=s>>2,m=(s&3)<<4|c>>4,_=(c&15)<<2|u>>6,C=u&63;l||(C=64,o||(_=64)),n.push(i[f],i[m],i[_],i[C])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Pb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Xk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let i=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){let s=i[t.charAt(r++)],c=r<t.length?i[t.charAt(r)]:0;++r;let u=r<t.length?i[t.charAt(r)]:64;++r;let m=r<t.length?i[t.charAt(r)]:64;if(++r,s==null||c==null||u==null||m==null)throw new kf;let _=s<<2|c>>4;if(n.push(_),u!==64){let C=c<<4&240|u>>2;if(n.push(C),m!==64){let P=u<<6&192|m;n.push(P)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},kf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Jk=function(t){let e=Pb(t);return Mb.encodeByteArray(e,!0)},ia=function(t){return Jk(t).replace(/\./g,"")},xf=function(t){try{return Mb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Zk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var eD=()=>Zk().__FIREBASE_DEFAULTS__,tD=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},nD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&xf(t[1]);return e&&JSON.parse(e)},Il=()=>{try{return eD()||tD()||nD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Pf=t=>{var e,i;return(i=(e=Il())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[t]},El=t=>{let e=Pf(t);if(!e)return;let i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let n=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),n]:[e.substring(0,i),n]},Mf=()=>{var t;return(t=Il())===null||t===void 0?void 0:t.config},Of=t=>{var e;return(e=Il())===null||e===void 0?void 0:e[`_${t}`]};var wl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,n))}}};function Tl(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i={alg:"none",type:"JWT"},n=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ia(JSON.stringify(i)),ia(JSON.stringify(o)),""].join(".")}function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ob(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function iD(){var t;let e=(t=Il())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Nb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Fb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Vb(){let t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Lb(){return!iD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nf(){try{return typeof indexedDB=="object"}catch{return!1}}function Ub(){return new Promise((t,e)=>{try{let i=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(i){e(i)}})}var rD="FirebaseError",Nt=class t extends Error{constructor(e,i,n){super(i),this.code=e,this.customData=n,this.name=rD,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hn.prototype.create)}},Hn=class{constructor(e,i,n){this.service=e,this.serviceName=i,this.errors=n}create(e,...i){let n=i[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?sD(s,n):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new Nt(r,c,n)}};function sD(t,e){return t.replace(oD,(i,n)=>{let r=e[n];return r!=null?String(r):`<${n}?>`})}var oD=/\{\$([^}]+)}/g;function jb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function or(t,e){if(t===e)return!0;let i=Object.keys(t),n=Object.keys(e);for(let r of i){if(!n.includes(r))return!1;let s=t[r],o=e[r];if(xb(s)&&xb(o)){if(!or(s,o))return!1}else if(s!==o)return!1}for(let r of n)if(!i.includes(r))return!1;return!0}function xb(t){return t!==null&&typeof t=="object"}function cs(t){let e=[];for(let[i,n]of Object.entries(t))Array.isArray(n)?n.forEach(r=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ls(t){let e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){let[r,s]=n.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function us(t){let e=t.indexOf("?");if(!e)return"";let i=t.indexOf("#",e);return t.substring(e,i>0?i:void 0)}function Bb(t,e){let i=new Df(t,e);return i.subscribe.bind(i)}var Df=class{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,n){let r;if(e===void 0&&i===void 0&&n===void 0)throw new Error("Missing Observer.");aD(e,["next","error","complete"])?r=e:r={next:e,error:i,complete:n},r.next===void 0&&(r.next=Rf),r.error===void 0&&(r.error=Rf),r.complete===void 0&&(r.complete=Rf);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function aD(t,e){if(typeof t!="object"||t===null)return!1;for(let i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}function Rf(){}var Uj=4*60*60*1e3;function Ve(t){return t&&t._delegate?t._delegate:t}var jt=class{constructor(e,i,n){this.name=e,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ar="[DEFAULT]";var Ff=class{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){let n=new wl;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:i});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;let n=this.normalizeInstanceIdentifier(e?.identifier),r=(i=e?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lD(e))try{this.getOrInitializeService({instanceIdentifier:ar})}catch{}for(let[i,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(i);try{let s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(e=ar){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return v(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ar){return this.instances.has(e)}getOptions(e=ar){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:i={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:i});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(r)}return r}onInit(e,i){var n;let r=this.normalizeInstanceIdentifier(i),s=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,i){let n=this.onInitCallbacks.get(i);if(n)for(let r of n)try{r(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:cD(e),options:i}),this.instances.set(e,n),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ar){return this.component?this.component.multipleInstances?e:ar:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cD(t){return t===ar?void 0:t}function lD(t){return t.instantiationMode==="EAGER"}var Cl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let i=new Ff(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}};var uD=[],ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{}),dD={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},hD=ge.INFO,fD={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},pD=(t,e,...i)=>{if(e<t.logLevel)return;let n=new Date().toISOString(),r=fD[e];if(r)console[r](`[${n}]  ${t.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ai=class{constructor(e){this.name=e,this._logLevel=hD,this._logHandler=pD,this._userLogHandler=null,uD.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}};var mD=(t,e)=>e.some(i=>t instanceof i),zb,$b;function gD(){return zb||(zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _D(){return $b||($b=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var qb=new WeakMap,Lf=new WeakMap,Gb=new WeakMap,Vf=new WeakMap,jf=new WeakMap;function vD(t){let e=new Promise((i,n)=>{let r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{i(An(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(i=>{i instanceof IDBCursor&&qb.set(i,t)}).catch(()=>{}),jf.set(e,t),e}function yD(t){if(Lf.has(t))return;let e=new Promise((i,n)=>{let r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{i(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Lf.set(t,e)}var Uf={get(t,e,i){if(t instanceof IDBTransaction){if(e==="done")return Lf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gb.get(t);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return An(t[e])},set(t,e,i){return t[e]=i,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hb(t){Uf=t(Uf)}function bD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){let n=t.call(Sl(this),e,...i);return Gb.set(n,e.sort?e.sort():[e]),An(n)}:_D().includes(t)?function(...e){return t.apply(Sl(this),e),An(qb.get(this))}:function(...e){return An(t.apply(Sl(this),e))}}function wD(t){return typeof t=="function"?bD(t):(t instanceof IDBTransaction&&yD(t),mD(t,gD())?new Proxy(t,Uf):t)}function An(t){if(t instanceof IDBRequest)return vD(t);if(Vf.has(t))return Vf.get(t);let e=wD(t);return e!==t&&(Vf.set(t,e),jf.set(e,t)),e}var Sl=t=>jf.get(t);function Kb(t,e,{blocked:i,upgrade:n,blocking:r,terminated:s}={}){let o=indexedDB.open(t,e),c=An(o);return n&&o.addEventListener("upgradeneeded",l=>{n(An(o.result),l.oldVersion,l.newVersion,An(o.transaction),l)}),i&&o.addEventListener("blocked",l=>i(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var ID=["get","getKey","getAll","getAllKeys","count"],ED=["put","add","delete","clear"],Bf=new Map;function Wb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Bf.get(e))return Bf.get(e);let i=e.replace(/FromIndex$/,""),n=e!==i,r=ED.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||ID.includes(i)))return;let s=function(o,...c){return v(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),u=l.store;return n&&(u=u.index(c.shift())),(yield Promise.all([u[i](...c),r&&l.done]))[0]})};return Bf.set(e,s),s}Hb(t=>xe(j({},t),{get:(e,i,n)=>Wb(e,i)||t.get(e,i,n),has:(e,i)=>!!Wb(e,i)||t.has(e,i)}));var $f=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(TD(i)){let n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}};function TD(t){let e=t.getComponent();return e?.type==="VERSION"}var qf="@firebase/app",Qb="0.10.5";var cr=new Ai("@firebase/app"),CD="@firebase/app-compat",SD="@firebase/analytics-compat",AD="@firebase/analytics",RD="@firebase/app-check-compat",kD="@firebase/app-check",DD="@firebase/auth",xD="@firebase/auth-compat",PD="@firebase/database",MD="@firebase/database-compat",OD="@firebase/functions",ND="@firebase/functions-compat",FD="@firebase/installations",VD="@firebase/installations-compat",LD="@firebase/messaging",UD="@firebase/messaging-compat",jD="@firebase/performance",BD="@firebase/performance-compat",zD="@firebase/remote-config",$D="@firebase/remote-config-compat",qD="@firebase/storage",GD="@firebase/storage-compat",HD="@firebase/firestore",WD="@firebase/vertexai-preview",KD="@firebase/firestore-compat",QD="firebase",YD="10.12.2";var Gf="[DEFAULT]",XD={[qf]:"fire-core",[CD]:"fire-core-compat",[AD]:"fire-analytics",[SD]:"fire-analytics-compat",[kD]:"fire-app-check",[RD]:"fire-app-check-compat",[DD]:"fire-auth",[xD]:"fire-auth-compat",[PD]:"fire-rtdb",[MD]:"fire-rtdb-compat",[OD]:"fire-fn",[ND]:"fire-fn-compat",[FD]:"fire-iid",[VD]:"fire-iid-compat",[LD]:"fire-fcm",[UD]:"fire-fcm-compat",[jD]:"fire-perf",[BD]:"fire-perf-compat",[zD]:"fire-rc",[$D]:"fire-rc-compat",[qD]:"fire-gcs",[GD]:"fire-gcs-compat",[HD]:"fire-fst",[KD]:"fire-fst-compat",[WD]:"fire-vertex","fire-js":"fire-js",[QD]:"fire-js-all"};var ra=new Map,JD=new Map,Hf=new Map;function Yb(t,e){try{t.container.addComponent(e)}catch(i){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,i)}}function Rn(t){let e=t.name;if(Hf.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Hf.set(e,t);for(let i of ra.values())Yb(i,t);for(let i of JD.values())Yb(i,t);return!0}function lr(t,e){let i=t.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),t.container.getProvider(e)}function nn(t){return t.settings!==void 0}var ZD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ri=new Hn("app","Firebase",ZD);var Wf=class{constructor(e,i,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ri.create("app-deleted",{appName:this._name})}};var kn=YD;function Yf(t,e={}){let i=t;typeof e!="object"&&(e={name:e});let n=Object.assign({name:Gf,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Ri.create("bad-app-name",{appName:String(r)});if(i||(i=Mf()),!i)throw Ri.create("no-options");let s=ra.get(r);if(s){if(or(i,s.options)&&or(n,s.config))return s;throw Ri.create("duplicate-app",{appName:r})}let o=new Cl(r);for(let l of Hf.values())o.addComponent(l);let c=new Wf(i,n,o);return ra.set(r,c),c}function ki(t=Gf){let e=ra.get(t);if(!e&&t===Gf&&Mf())return Yf();if(!e)throw Ri.create("no-app",{appName:t});return e}function Al(){return Array.from(ra.values())}function ze(t,e,i){var n;let r=(n=XD[t])!==null&&n!==void 0?n:t;i&&(r+=`-${i}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${r}" with version "${e}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(c.join(" "));return}Rn(new jt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var ex="firebase-heartbeat-database",tx=1,sa="firebase-heartbeat-store",zf=null;function ew(){return zf||(zf=Kb(ex,tx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(sa)}catch(i){console.warn(i)}}}}).catch(t=>{throw Ri.create("idb-open",{originalErrorMessage:t.message})})),zf}function nx(t){return v(this,null,function*(){try{let i=(yield ew()).transaction(sa),n=yield i.objectStore(sa).get(tw(t));return yield i.done,n}catch(e){if(e instanceof Nt)cr.warn(e.message);else{let i=Ri.create("idb-get",{originalErrorMessage:e?.message});cr.warn(i.message)}}})}function Xb(t,e){return v(this,null,function*(){try{let n=(yield ew()).transaction(sa,"readwrite");yield n.objectStore(sa).put(e,tw(t)),yield n.done}catch(i){if(i instanceof Nt)cr.warn(i.message);else{let n=Ri.create("idb-set",{originalErrorMessage:i?.message});cr.warn(n.message)}}})}function tw(t){return`${t.name}!${t.options.appId}`}var ix=1024,rx=30*24*60*60*1e3,Kf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let i=this.container.getProvider("app").getImmediate();this._storage=new Qf(i),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return v(this,null,function*(){var e,i;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Jb();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=rx}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return v(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let i=Jb(),{heartbeatsToSend:n,unsentEntries:r}=sx(this._heartbeatsCache.heartbeats),s=ia(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=i,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Jb(){return new Date().toISOString().substring(0,10)}function sx(t,e=ix){let i=[],n=t.slice();for(let r of t){let s=i.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Zb(i)>e){s.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),Zb(i)>e){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}var Qf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(this,null,function*(){return Nf()?Ub().then(()=>!0).catch(()=>!1):!1})}read(){return v(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield nx(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return v(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Xb(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return v(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Xb(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function Zb(t){return ia(JSON.stringify({version:2,heartbeats:t})).length}function ox(t){Rn(new jt("platform-logger",e=>new $f(e),"PRIVATE")),Rn(new jt("heartbeat",e=>new Kf(e),"PRIVATE")),ze(qf,Qb,t),ze(qf,Qb,"esm2017"),ze("fire-js","")}ox("");var ax="firebase",cx="10.12.2";ze(ax,cx,"app");var Wn=new jr("ANGULARFIRE2_VERSION");function hs(t,e,i){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===i);if(s.length===1)return s[0]}return i.container.getProvider(t).getImmediate({optional:!0})}var dr=(t,e)=>{let i=e?[e]:Al(),n=[];return i.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{n.includes(o)||n.push(o)})}),n},Di=class{constructor(){return dr(lx)}},lx="app-check";function ds(){}var Rl=class{zone;delegate;constructor(e,i=Mv){this.zone=e,this.delegate=i}now(){return this.delegate.now()}schedule(e,i,n){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,i,n)}},Xf=class{zone;task=null;constructor(e){this.zone=e}call(e,i){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ds,{},ds,ds)),i.pipe(je({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},xi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new Rl(Zone.current)),this.insideAngular=i.run(()=>new Rl(Zone.current,Pv)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||t)(z(fe))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function kl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ux(t){return kl().ngZone.runOutsideAngular(()=>t())}function ur(t){return kl().ngZone.run(()=>t())}function dx(t){return hx(kl())(t)}function hx(t){return function(i){return i=i.lift(new Xf(t.ngZone)),i.pipe(Ud(t.outsideAngular),Ld(t.insideAngular))}}var fx=(t,e)=>function(){let n=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ur(()=>t.apply(void 0,n))},rt=(t,e)=>function(){let i,n=arguments;for(let s=0;s<arguments.length;s++)typeof n[s]=="function"&&(e&&(i||=ur(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ds,{},ds,ds))),n[s]=fx(n[s],i));let r=ux(()=>t.apply(this,n));if(!e)if(r instanceof cn){let s=kl();return r.pipe(Ud(s.outsideAngular),Ld(s.insideAngular))}else return ur(()=>r);return r instanceof cn?r.pipe(dx):r instanceof Promise?ur(()=>new Promise((s,o)=>r.then(c=>ur(()=>s(c)),c=>ur(()=>o(c))))):typeof r=="function"&&i?function(){return setTimeout(()=>{i&&i.state==="scheduled"&&i.invoke()},10),r.apply(this,arguments)}:ur(()=>r)};var mn=class{constructor(e){return e}},Kn=class{constructor(){return Al()}};function px(t){return t&&t.length===1?t[0]:new mn(ki())}var Jf=new te("angularfire2._apps"),mx={provide:mn,useFactory:px,deps:[[new it,Jf]]},gx={provide:Kn,deps:[[new it,Jf]]};function _x(t){return(e,i)=>{let n=i.get(fn);ze("angularfire",Wn.full,"core"),ze("angularfire",Wn.full,"app"),ze("angular",ry.full,n.toString());let r=e.runOutsideAngular(()=>t(i));return new mn(r)}}function nw(t,...e){return Pt([mx,gx,{provide:Jf,useFactory:_x(t),multi:!0,deps:[fe,Vt,xi,...e]}])}var iw=rt(Yf,!0);function bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ww=bw,Iw=new Hn("auth","Firebase",bw());var Nl=new Ai("@firebase/auth");function vx(t,...e){Nl.logLevel<=ge.WARN&&Nl.warn(`Auth (${kn}): ${t}`,...e)}function xl(t,...e){Nl.logLevel<=ge.ERROR&&Nl.error(`Auth (${kn}): ${t}`,...e)}function rn(t,...e){throw yp(t,...e)}function gn(t,...e){return yp(t,...e)}function vp(t,e,i){let n=Object.assign(Object.assign({},ww()),{[e]:i});return new Hn("auth","Firebase",n).create(e,{appName:t.name})}function Xn(t){return vp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yx(t,e,i){let n=i;if(!(e instanceof n))throw n.name!==e.constructor.name&&rn(t,"argument-error"),vp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yp(t,...e){if(typeof t!="string"){let i=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(i,...n)}return Iw.create(t,...e)}function ne(t,e,...i){if(!t)throw yp(e,...i)}function Qn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw xl(e),new Error(e)}function Jn(t,e){t||Qn(e)}function tp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bx(){return rw()==="http:"||rw()==="https:"}function rw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function wx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bx()||Nb()||"connection"in navigator)?navigator.onLine:!0}function Ix(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var hr=class{constructor(e,i){this.shortDelay=e,this.longDelay=i,Jn(i>e,"Short delay should be less than long delay!"),this.isMobile=Ob()||Fb()}get(){return wx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function bp(t,e){Jn(t.emulator,"Emulator should always be set here");let{url:i}=t.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}var Fl=class{static initialize(e,i,n){this.fetchImpl=e,i&&(this.headersImpl=i),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Ex={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Tx=new hr(3e4,6e4);function Zn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ei(s,o,c,l){return v(this,arguments,function*(t,e,i,n,r={}){return Ew(t,r,()=>v(this,null,function*(){let u={},f={};n&&(e==="GET"?f=n:u={body:JSON.stringify(n)});let m=cs(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();return _["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode),Fl.fetch()(Tw(t,t.config.apiHost,i,m),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},u))}))})}function Ew(t,e,i){return v(this,null,function*(){t._canInitEmulator=!1;let n=Object.assign(Object.assign({},Ex),e);try{let r=new np(t),s=yield Promise.race([i(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Dl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dl(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dl(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dl(t,"user-disabled",o);let f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vp(t,f,u);rn(t,f)}}catch(r){if(r instanceof Nt)throw r;rn(t,"network-request-failed",{message:String(r)})}})}function fa(s,o,c,l){return v(this,arguments,function*(t,e,i,n,r={}){let u=yield ei(t,e,i,n,r);return"mfaPendingCredential"in u&&rn(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function Tw(t,e,i,n){let r=`${e}${i}?${n}`;return t.config.emulator?bp(t.config,r):`${t.config.apiScheme}://${r}`}function Cx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var np=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,n)=>{this.timer=setTimeout(()=>n(gn(this.auth,"network-request-failed")),Tx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Dl(t,e,i){let n={appName:t.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);let r=gn(t,e,n);return r.customData._tokenResponse=i,r}function sw(t){return t!==void 0&&t.enterprise!==void 0}var ip=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return Cx(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Sx(t,e){return v(this,null,function*(){return ei(t,"GET","/v2/recaptchaConfig",Zn(t,e))})}function Ax(t,e){return v(this,null,function*(){return ei(t,"POST","/v1/accounts:delete",e)})}function Cw(t,e){return v(this,null,function*(){return ei(t,"POST","/v1/accounts:lookup",e)})}function oa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function wp(t,e=!1){return v(this,null,function*(){let i=Ve(t),n=yield i.getIdToken(e),r=Ip(n);ne(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:n,authTime:oa(Zf(r.auth_time)),issuedAtTime:oa(Zf(r.iat)),expirationTime:oa(Zf(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Zf(t){return Number(t)*1e3}function Ip(t){let[e,i,n]=t.split(".");if(e===void 0||i===void 0||n===void 0)return xl("JWT malformed, contained fewer than 3 sections"),null;try{let r=xf(i);return r?JSON.parse(r):(xl("Failed to decode base64 JWT payload"),null)}catch(r){return xl("Caught error parsing JWT payload as JSON",r?.toString()),null}}function ow(t){let e=Ip(t);return ne(e,"internal-error"),ne(typeof e.exp<"u","internal-error"),ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ca(t,e,i=!1){return v(this,null,function*(){if(i)return e;try{return yield e}catch(n){throw n instanceof Nt&&Rx(n)&&t.auth.currentUser===t&&(yield t.auth.signOut()),n}})}function Rx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var rp=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let i=this.getInterval(e);this.timerId=setTimeout(()=>v(this,null,function*(){yield this.iteration()}),i)}iteration(){return v(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var la=class{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=oa(this.lastLoginAt),this.creationTime=oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Vl(t){return v(this,null,function*(){var e;let i=t.auth,n=yield t.getIdToken(),r=yield ca(t,Cw(i,{idToken:n}));ne(r?.users.length,i,"internal-error");let s=r.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Sw(s.providerUserInfo):[],c=kx(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!c?.length,f=l?u:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new la(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)})}function Ep(t){return v(this,null,function*(){let e=Ve(t);yield Vl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function kx(t,e){return[...t.filter(n=>!e.some(r=>r.providerId===n.providerId)),...e]}function Sw(t){return t.map(e=>{var{providerId:i}=e,n=dc(e,["providerId"]);return{providerId:i,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function Dx(t,e){return v(this,null,function*(){let i=yield Ew(t,{},()=>v(this,null,function*(){let n=cs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=Tw(t,r,"/v1/token",`key=${s}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Fl.fetch()(o,{method:"POST",headers:c,body:n})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})}function xx(t,e){return v(this,null,function*(){return ei(t,"POST","/v2/accounts:revokeToken",Zn(t,e))})}var aa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ne(e.idToken,"internal-error"),ne(typeof e.idToken<"u","internal-error"),ne(typeof e.refreshToken<"u","internal-error");let i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ne(e.length!==0,"internal-error");let i=ow(e);this.updateTokensAndExpiration(e,null,i)}getToken(e,i=!1){return v(this,null,function*(){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,i){return v(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:s}=yield Dx(e,i);this.updateTokensAndExpiration(n,r,Number(s))})}updateTokensAndExpiration(e,i,n){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,i){let{refreshToken:n,accessToken:r,expirationTime:s}=i,o=new t;return n&&(ne(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),r&&(ne(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ne(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Qn("not implemented")}};function Pi(t,e){ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var ps=class t{constructor(e){var{uid:i,auth:n,stsTokenManager:r}=e,s=dc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new la(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return v(this,null,function*(){let i=yield ca(this,this.stsTokenManager.getToken(this.auth,e));return ne(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i})}getIdTokenResult(e){return wp(this,e)}reload(){return Ep(this)}_assign(e){this!==e&&(ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let i=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,i=!1){return v(this,null,function*(){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),i&&(yield Vl(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return v(this,null,function*(){if(nn(this.auth.app))return Promise.reject(Xn(this.auth));let e=yield this.getIdToken();return yield ca(this,Ax(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var n,r,s,o,c,l,u,f;let m=(n=i.displayName)!==null&&n!==void 0?n:void 0,_=(r=i.email)!==null&&r!==void 0?r:void 0,C=(s=i.phoneNumber)!==null&&s!==void 0?s:void 0,P=(o=i.photoURL)!==null&&o!==void 0?o:void 0,F=(c=i.tenantId)!==null&&c!==void 0?c:void 0,k=(l=i._redirectEventId)!==null&&l!==void 0?l:void 0,U=(u=i.createdAt)!==null&&u!==void 0?u:void 0,Q=(f=i.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:X,isAnonymous:Ne,providerData:le,stsTokenManager:I}=i;ne(Z&&I,e,"internal-error");let g=aa.fromJSON(this.name,I);ne(typeof Z=="string",e,"internal-error"),Pi(m,e.name),Pi(_,e.name),ne(typeof X=="boolean",e,"internal-error"),ne(typeof Ne=="boolean",e,"internal-error"),Pi(C,e.name),Pi(P,e.name),Pi(F,e.name),Pi(k,e.name),Pi(U,e.name),Pi(Q,e.name);let b=new t({uid:Z,auth:e,email:_,emailVerified:X,displayName:m,isAnonymous:Ne,photoURL:P,phoneNumber:C,tenantId:F,stsTokenManager:g,createdAt:U,lastLoginAt:Q});return le&&Array.isArray(le)&&(b.providerData=le.map(w=>Object.assign({},w))),k&&(b._redirectEventId=k),b}static _fromIdTokenResponse(e,i,n=!1){return v(this,null,function*(){let r=new aa;r.updateFromServerResponse(i);let s=new t({uid:i.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield Vl(s),s})}static _fromGetAccountInfoResponse(e,i,n){return v(this,null,function*(){let r=i.users[0];ne(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Sw(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,c=new aa;c.updateFromIdToken(n);let l=new t({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new la(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var aw=new Map;function Yn(t){Jn(t instanceof Function,"Expected a class definition");let e=aw.get(t);return e?(Jn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aw.set(t,e),e)}var Px=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(this,null,function*(){return!0})}_set(i,n){return v(this,null,function*(){this.storage[i]=n})}_get(i){return v(this,null,function*(){let n=this.storage[i];return n===void 0?null:n})}_remove(i){return v(this,null,function*(){delete this.storage[i]})}_addListener(i,n){}_removeListener(i,n){}}return t.type="NONE",t})(),sp=Px;function Pl(t,e,i){return`firebase:${t}:${e}:${i}`}var Ll=class t{constructor(e,i,n){this.persistence=e,this.auth=i,this.userKey=n;let{config:r,name:s}=this.auth;this.fullUserKey=Pl(this.userKey,r.apiKey,s),this.fullPersistenceKey=Pl("persistence",r.apiKey,s),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return v(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?ps._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return v(this,null,function*(){if(this.persistence===e)return;let i=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,i,n="authUser"){return v(this,null,function*(){if(!i.length)return new t(Yn(sp),e,n);let r=(yield Promise.all(i.map(u=>v(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Yn(sp),o=Pl(n,e.config.apiKey,e.name),c=null;for(let u of i)try{let f=yield u._get(o);if(f){let m=ps._fromJSON(e,f);u!==s&&(c=m),s=u;break}}catch{}let l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,n):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(i.map(u=>v(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,n))})}};function cw(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Aw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xw(e))return"Blackberry";if(Pw(e))return"Webos";if(Tp(e))return"Safari";if((e.includes("chrome/")||Rw(e))&&!e.includes("edge/"))return"Chrome";if(Dw(e))return"Android";{let i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(i);if(n?.length===2)return n[1]}return"Other"}function Aw(t=ut()){return/firefox\//i.test(t)}function Tp(t=ut()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rw(t=ut()){return/crios\//i.test(t)}function kw(t=ut()){return/iemobile/i.test(t)}function Dw(t=ut()){return/android/i.test(t)}function xw(t=ut()){return/blackberry/i.test(t)}function Pw(t=ut()){return/webos/i.test(t)}function Kl(t=ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Mx(t=ut()){var e;return Kl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ox(){return Vb()&&document.documentMode===10}function Mw(t=ut()){return Kl(t)||Dw(t)||Pw(t)||xw(t)||/windows phone/i.test(t)||kw(t)}function Nx(){try{return!!(window&&window!==window.top)}catch{return!1}}function Ow(t,e=[]){let i;switch(t){case"Browser":i=cw(ut());break;case"Worker":i=`${cw(ut())}-${t}`;break;default:i=t}let n=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${kn}/${n}`}var op=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){let n=s=>new Promise((o,c)=>{try{let l=e(s);o(l)}catch(l){c(l)}});n.onAbort=i,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return v(this,null,function*(){if(this.auth.currentUser===e)return;let i=[];try{for(let n of this.queue)yield n(e),n.onAbort&&i.push(n.onAbort)}catch(n){i.reverse();for(let r of i)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function Fx(i){return v(this,arguments,function*(t,e={}){return ei(t,"GET","/v2/passwordPolicy",Zn(t,e))})}var Vx=6,ap=class{constructor(e){var i,n,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=o.minPasswordLength)!==null&&i!==void 0?i:Vx,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,n,r,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(i=l.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,i){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(i.meetsMinPasswordLength=e.length>=n),r&&(i.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(i,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,i,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var cp=class{constructor(e,i,n,r){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ul(this),this.idTokenSubscription=new Ul(this),this.beforeStateQueue=new op(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Yn(i)),this._initializationPromise=this.queue(()=>v(this,null,function*(){var n,r;if(!this._deleted&&(this.persistenceManager=yield Ll.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(i),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return v(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return v(this,null,function*(){try{let i=yield Cw(this,{idToken:e}),n=yield ps._fromGetAccountInfoResponse(this,i,e);yield this.directlySetCurrentUser(n)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return v(this,null,function*(){var i;if(nn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ne(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return v(this,null,function*(){let i=null;try{i=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return i})}reloadAndSetCurrentUserOrClear(e){return v(this,null,function*(){try{yield Vl(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Ix()}_delete(){return v(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return v(this,null,function*(){if(nn(this.app))return Promise.reject(Xn(this));let i=e?Ve(e):null;return i&&ne(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))})}_updateCurrentUser(e,i=!1){return v(this,null,function*(){if(!this._deleted)return e&&ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>v(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return v(this,null,function*(){return nn(this.app)?Promise.reject(Xn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return nn(this.app)?Promise.reject(Xn(this)):this.queue(()=>v(this,null,function*(){yield this.assertedPersistence.setPersistence(Yn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return v(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return v(this,null,function*(){let e=yield Fx(this),i=new ap(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hn("auth","Firebase",e())}onAuthStateChanged(e,i,n){return this.registerStateListener(this.authStateSubscription,e,i,n)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,n){return this.registerStateListener(this.idTokenSubscription,e,i,n)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},i)}})}revokeAccessToken(e){return v(this,null,function*(){if(this.currentUser){let i=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(n.tenantId=this.tenantId),yield xx(this,n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,i){return v(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(i);return e===null?n.removeCurrentUser():n.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return v(this,null,function*(){if(!this.redirectPersistenceManager){let i=e&&Yn(e)||this._popupRedirectResolver;ne(i,this,"argument-error"),this.redirectPersistenceManager=yield Ll.create(this,[Yn(i._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return v(this,null,function*(){var i,n;return this._isInitialized&&(yield this.queue(()=>v(this,null,function*(){}))),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return v(this,null,function*(){if(e===this.currentUser)return this.queue(()=>v(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,n,r){if(this._deleted)return()=>{};let s=typeof i=="function"?i:i.next.bind(i),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ne(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof i=="function"){let l=e.addObserver(i,n,r);return()=>{o=!0,l()}}else{let l=e.addObserver(i);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return v(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return v(this,null,function*(){var e;let i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();n&&(i["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(i["X-Firebase-AppCheck"]=r),i})}_getAppCheckToken(){return v(this,null,function*(){var e;let i=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return i?.error&&vx(`Error while retrieving App Check token: ${i.error}`),i?.token})}};function Mi(t){return Ve(t)}var Ul=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bb(i=>this.observer=i)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ql={loadJS(){return v(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lx(t){Ql=t}function Nw(t){return Ql.loadJS(t)}function Ux(){return Ql.recaptchaEnterpriseScript}function jx(){return Ql.gapiScript}function Fw(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Bx="recaptcha-enterprise",zx="NO_RECAPTCHA",lp=class{constructor(e){this.type=Bx,this.auth=Mi(e)}verify(e="verify",i=!1){return v(this,null,function*(){function n(s){return v(this,null,function*(){if(!i){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>v(this,null,function*(){Sx(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let u=new ip(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{c(l)})}))})}function r(s,o,c){let l=window.grecaptcha;sw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(zx)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{n(this.auth).then(c=>{if(!i&&sw(window.grecaptcha))r(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Ux();l.length!==0&&(l+=c),Nw(l).then(()=>{r(c,s,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})})}};function lw(t,e,i,n=!1){return v(this,null,function*(){let r=new lp(t),s;try{s=yield r.verify(i)}catch{s=yield r.verify(i,!0)}let o=Object.assign({},e);return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function up(t,e,i,n){return v(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield lw(t,e,i,i==="getOobCode");return n(t,s)}else return n(t,e).catch(s=>v(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield lw(t,e,i,i==="getOobCode");return n(t,o)}else return Promise.reject(s)}))})}function Cp(t,e){let i=lr(t,"auth");if(i.isInitialized()){let r=i.getImmediate(),s=i.getOptions();if(or(s,e??{}))return r;rn(r,"already-initialized")}return i.initialize({options:e})}function $x(t,e){let i=e?.persistence||[],n=(Array.isArray(i)?i:[i]).map(Yn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function Sp(t,e,i){let n=Mi(t);ne(n._canInitEmulator,n,"emulator-config-failed"),ne(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");let r=!!i?.disableWarnings,s=Vw(e),{host:o,port:c}=qx(e),l=c===null?"":`:${c}`;n.config.emulator={url:`${s}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||Gx()}function Vw(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qx(t){let e=Vw(t),i=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!i)return{host:"",port:null};let n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let s=r[1];return{host:s,port:uw(n.substr(s.length+1))}}else{let[s,o]=n.split(":");return{host:s,port:uw(o)}}}function uw(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Gx(){function t(){let e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ms=class{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,i){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}};function Hx(t,e){return v(this,null,function*(){return ei(t,"POST","/v1/accounts:signUp",e)})}function Wx(t,e){return v(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithPassword",Zn(t,e))})}function Kx(t,e){return v(this,null,function*(){return ei(t,"POST","/v1/accounts:sendOobCode",Zn(t,e))})}function Qx(t,e){return v(this,null,function*(){return Kx(t,e)})}function Yx(t,e){return v(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithEmailLink",Zn(t,e))})}function Xx(t,e){return v(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithEmailLink",Zn(t,e))})}var ua=class t extends ms{constructor(e,i,n,r=null){super("password",n),this._email=e,this._password=i,this._tenantId=r}static _fromEmailAndPassword(e,i){return new t(e,i,"password")}static _fromEmailAndCode(e,i,n=null){return new t(e,i,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let i=typeof e=="string"?JSON.parse(e):e;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}_getIdTokenResponse(e){return v(this,null,function*(){switch(this.signInMethod){case"password":let i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,i,"signInWithPassword",Wx);case"emailLink":return Yx(e,{email:this._email,oobCode:this._password});default:rn(e,"internal-error")}})}_linkToIdToken(e,i){return v(this,null,function*(){switch(this.signInMethod){case"password":let n={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return up(e,n,"signUpPassword",Hx);case"emailLink":return Xx(e,{idToken:i,email:this._email,oobCode:this._password});default:rn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function fs(t,e){return v(this,null,function*(){return fa(t,"POST","/v1/accounts:signInWithIdp",Zn(t,e))})}var Jx="http://localhost",jl=class t extends ms{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let i=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):rn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let i=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:r}=i,s=dc(i,["providerId","signInMethod"]);if(!n||!r)return null;let o=new t(n,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let i=this.buildRequest();return fs(e,i)}_linkToIdToken(e,i){let n=this.buildRequest();return n.idToken=i,fs(e,n)}_getReauthenticationResolver(e){let i=this.buildRequest();return i.autoCreate=!1,fs(e,i)}buildRequest(){let e={requestUri:Jx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=cs(i)}return e}};function Zx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eP(t){let e=ls(us(t)).link,i=e?ls(us(e)).deep_link_id:null,n=ls(us(t)).deep_link_id;return(n?ls(us(n)).link:null)||n||i||e||t}var Bl=class t{constructor(e){var i,n,r,s,o,c;let l=ls(us(e)),u=(i=l.apiKey)!==null&&i!==void 0?i:null,f=(n=l.oobCode)!==null&&n!==void 0?n:null,m=Zx((r=l.mode)!==null&&r!==void 0?r:null);ne(u&&f&&m,"argument-error"),this.apiKey=u,this.operation=m,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let i=eP(e);try{return new t(i)}catch{return null}}};var Lw=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(i,n){return ua._fromEmailAndPassword(i,n)}static credentialWithLink(i,n){let r=Bl.parseLink(n);return ne(r,"argument-error"),ua._fromEmailAndCode(i,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),da=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var zl=class extends da{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Ap=(()=>{class t extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(i,n){return jl._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:i,accessToken:n})}static credentialFromResult(i){return t.credentialFromTaggedObject(i)}static credentialFromError(i){return t.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;let{oauthIdToken:n,oauthAccessToken:r}=i;if(!n&&!r)return null;try{return t.credential(n,r)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();function tP(t,e){return v(this,null,function*(){return fa(t,"POST","/v1/accounts:signUp",Zn(t,e))})}var gs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,i,n,r=!1){return v(this,null,function*(){let s=yield ps._fromIdTokenResponse(e,n,r),o=dw(n);return new t({user:s,providerId:o,_tokenResponse:n,operationType:i})})}static _forOperation(e,i,n){return v(this,null,function*(){yield e._updateTokensIfNecessary(n,!0);let r=dw(n);return new t({user:e,providerId:r,_tokenResponse:n,operationType:i})})}};function dw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var dp=class t extends Nt{constructor(e,i,n,r){var s;super(i.code,i.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:i.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,i,n,r){return new t(e,i,n,r)}};function Uw(t,e,i,n){return(e==="reauthenticate"?i._getReauthenticationResolver(t):i._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?dp._fromErrorAndOperation(t,s,e,n):s})}function nP(t,e,i=!1){return v(this,null,function*(){let n=yield ca(t,e._linkToIdToken(t.auth,yield t.getIdToken()),i);return gs._forOperation(t,"link",n)})}function iP(t,e,i=!1){return v(this,null,function*(){let{auth:n}=t;if(nn(n.app))return Promise.reject(Xn(n));let r="reauthenticate";try{let s=yield ca(t,Uw(n,r,e,t),i);ne(s.idToken,n,"internal-error");let o=Ip(s.idToken);ne(o,n,"internal-error");let{sub:c}=o;return ne(t.uid===c,n,"user-mismatch"),gs._forOperation(t,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&rn(n,"user-mismatch"),s}})}function jw(t,e,i=!1){return v(this,null,function*(){if(nn(t.app))return Promise.reject(Xn(t));let n="signIn",r=yield Uw(t,n,e),s=yield gs._fromIdTokenResponse(t,n,r);return i||(yield t._updateCurrentUser(s.user)),s})}function Rp(t,e){return v(this,null,function*(){return jw(Mi(t),e)})}function rP(t,e,i){var n;ne(((n=i.url)===null||n===void 0?void 0:n.length)>0,t,"invalid-continue-uri"),ne(typeof i.dynamicLinkDomain>"u"||i.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=i.url,e.dynamicLinkDomain=i.dynamicLinkDomain,e.canHandleCodeInApp=i.handleCodeInApp,i.iOS&&(ne(i.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=i.iOS.bundleId),i.android&&(ne(i.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=i.android.installApp,e.androidMinimumVersionCode=i.android.minimumVersion,e.androidPackageName=i.android.packageName)}function Bw(t){return v(this,null,function*(){let e=Mi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function kp(t,e,i){return v(this,null,function*(){if(nn(t.app))return Promise.reject(Xn(t));let n=Mi(t),o=yield up(n,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Bw(t),l}),c=yield gs._fromIdTokenResponse(n,"signIn",o);return yield n._updateCurrentUser(c.user),c})}function Dp(t,e,i){return nn(t.app)?Promise.reject(Xn(t)):Rp(Ve(t),Lw.credential(e,i)).catch(n=>v(this,null,function*(){throw n.code==="auth/password-does-not-meet-requirements"&&Bw(t),n}))}function Yl(t,e){return v(this,null,function*(){let i=Ve(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&rP(i.auth,r,e);let{email:s}=yield Qx(i.auth,r);s!==t.email&&(yield t.reload())})}function xp(t,e,i,n){return Ve(t).onIdTokenChanged(e,i,n)}function Pp(t,e,i){return Ve(t).beforeAuthStateChanged(e,i)}function Mp(t){return Ve(t).signOut()}var $l="__sak";var ql=class{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem($l,"1"),this.storage.removeItem($l),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){let i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function sP(){let t=ut();return Tp(t)||Kl(t)}var oP=1e3,aP=10,cP=(()=>{class t extends ql{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(i,n)=>this.onStorageEvent(i,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sP()&&Nx(),this.fallbackToPolling=Mw(),this._shouldAllowMigration=!0}forAllChangedKeys(i){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),s=this.localCache[n];r!==s&&i(n,s,r)}}onStorageEvent(i,n=!1){if(!i.key){this.forAllChangedKeys((c,l,u)=>{this.notifyListeners(c,u)});return}let r=i.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(r);if(i.newValue!==c)i.newValue!==null?this.storage.setItem(r,i.newValue):this.storage.removeItem(r);else if(this.localCache[r]===i.newValue&&!n)return}let s=()=>{let c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);Ox()&&o!==i.newValue&&i.newValue!==i.oldValue?setTimeout(s,aP):s()}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((i,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:i,oldValue:n,newValue:r}),!0)})},oP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(i,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[i]||(this.listeners[i]=new Set,this.localCache[i]=this.storage.getItem(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(i,n){return v(this,null,function*(){yield hi(t.prototype,this,"_set").call(this,i,n),this.localCache[i]=JSON.stringify(n)})}_get(i){return v(this,null,function*(){let n=yield hi(t.prototype,this,"_get").call(this,i);return this.localCache[i]=JSON.stringify(n),n})}_remove(i){return v(this,null,function*(){yield hi(t.prototype,this,"_remove").call(this,i),delete this.localCache[i]})}}return t.type="LOCAL",t})(),zw=cP;var lP=(()=>{class t extends ql{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(i,n){}_removeListener(i,n){}}return t.type="SESSION",t})(),Op=lP;function uP(t){return Promise.all(t.map(e=>v(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(i){return{fulfilled:!1,reason:i}}})))}var dP=(()=>{class t{constructor(i){this.eventTarget=i,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(i){let n=this.receivers.find(s=>s.isListeningto(i));if(n)return n;let r=new t(i);return this.receivers.push(r),r}isListeningto(i){return this.eventTarget===i}handleEvent(i){return v(this,null,function*(){let n=i,{eventId:r,eventType:s,data:o}=n.data,c=this.handlersMap[s];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let l=Array.from(c).map(f=>v(this,null,function*(){return f(n.origin,o)})),u=yield uP(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})})}_subscribe(i,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[i]||(this.handlersMap[i]=new Set),this.handlersMap[i].add(n)}_unsubscribe(i,n){this.handlersMap[i]&&n&&this.handlersMap[i].delete(n),(!n||this.handlersMap[i].size===0)&&delete this.handlersMap[i],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Np(t="",e=10){let i="";for(let n=0;n<e;n++)i+=Math.floor(Math.random()*10);return t+i}var hp=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,i,n=50){return v(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((c,l)=>{let u=Np("",20);r.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(m){let _=m;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(_.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:i},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Dn(){return window}function hP(t){Dn().location.href=t}function $w(){return typeof Dn().WorkerGlobalScope<"u"&&typeof Dn().importScripts=="function"}function fP(){return v(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function pP(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mP(){return $w()?self:null}var qw="firebaseLocalStorageDb",gP=1,Gl="firebaseLocalStorage",Gw="fbase_key",fr=class{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}};function Xl(t,e){return t.transaction([Gl],e?"readwrite":"readonly").objectStore(Gl)}function _P(){let t=indexedDB.deleteDatabase(qw);return new fr(t).toPromise()}function fp(){let t=indexedDB.open(qw,gP);return new Promise((e,i)=>{t.addEventListener("error",()=>{i(t.error)}),t.addEventListener("upgradeneeded",()=>{let n=t.result;try{n.createObjectStore(Gl,{keyPath:Gw})}catch(r){i(r)}}),t.addEventListener("success",()=>v(this,null,function*(){let n=t.result;n.objectStoreNames.contains(Gl)?e(n):(n.close(),yield _P(),e(yield fp()))}))})}function hw(t,e,i){return v(this,null,function*(){let n=Xl(t,!0).put({[Gw]:e,value:i});return new fr(n).toPromise()})}function vP(t,e){return v(this,null,function*(){let i=Xl(t,!1).get(e),n=yield new fr(i).toPromise();return n===void 0?null:n.value})}function fw(t,e){let i=Xl(t,!0).delete(e);return new fr(i).toPromise()}var yP=800,bP=3,wP=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return v(this,null,function*(){return this.db?this.db:(this.db=yield fp(),this.db)})}_withRetries(i){return v(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield i(r)}catch(r){if(n++>bP)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return v(this,null,function*(){return $w()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return v(this,null,function*(){this.receiver=dP._getInstance(mP()),this.receiver._subscribe("keyChanged",(i,n)=>v(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(i,n)=>v(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return v(this,null,function*(){var i,n;if(this.activeServiceWorker=yield fP(),!this.activeServiceWorker)return;this.sender=new hp(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((i=r[0])===null||i===void 0)&&i.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(i){return v(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||pP()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:i},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return v(this,null,function*(){try{if(!indexedDB)return!1;let i=yield fp();return yield hw(i,$l,"1"),yield fw(i,$l),!0}catch{}return!1})}_withPendingWrite(i){return v(this,null,function*(){this.pendingWrites++;try{yield i()}finally{this.pendingWrites--}})}_set(i,n){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(r=>hw(r,i,n)),this.localCache[i]=n,this.notifyServiceWorker(i)}))})}_get(i){return v(this,null,function*(){let n=yield this._withRetries(r=>vP(r,i));return this.localCache[i]=n,n})}_remove(i){return v(this,null,function*(){return this._withPendingWrite(()=>v(this,null,function*(){return yield this._withRetries(n=>fw(n,i)),delete this.localCache[i],this.notifyServiceWorker(i)}))})}_poll(){return v(this,null,function*(){let i=yield this._withRetries(s=>{let o=Xl(s,!1).getAll();return new fr(o).toPromise()});if(!i)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(i.length!==0)for(let{fbase_key:s,value:o}of i)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n})}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>v(this,null,function*(){return this._poll()}),yP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(i,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[i]||(this.listeners[i]=new Set,this._get(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Hw=wP;var xB=Fw("rcb"),PB=new hr(3e4,6e4);function Ww(t,e){return e?Yn(e):(ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ha=class extends ms{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fs(e,this._buildIdpRequest())}_linkToIdToken(e,i){return fs(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return fs(e,this._buildIdpRequest())}_buildIdpRequest(e){let i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}};function IP(t){return jw(t.auth,new ha(t),t.bypassAuthState)}function EP(t){let{auth:e,user:i}=t;return ne(i,e,"internal-error"),iP(i,new ha(t),t.bypassAuthState)}function TP(t){return v(this,null,function*(){let{auth:e,user:i}=t;return ne(i,e,"internal-error"),nP(i,new ha(t),t.bypassAuthState)})}var Hl=class{constructor(e,i,n,r,s=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise((e,i)=>v(this,null,function*(){this.pendingPromise={resolve:e,reject:i};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(e){return v(this,null,function*(){let{urlResponse:i,sessionId:n,postBody:r,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:i,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IP;case"linkViaPopup":case"linkViaRedirect":return TP;case"reauthViaPopup":case"reauthViaRedirect":return EP;default:rn(this.auth,"internal-error")}}resolve(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var CP=new hr(2e3,1e4);function Fp(t,e,i){return v(this,null,function*(){if(nn(t.app))return Promise.reject(gn(t,"operation-not-supported-in-this-environment"));let n=Mi(t);yx(t,e,da);let r=Ww(n,i);return new SP(n,"signInViaPopup",e,r).executeNotNull()})}var SP=(()=>{class t extends Hl{constructor(i,n,r,s,o){super(i,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return v(this,null,function*(){let i=yield this.execute();return ne(i,this.auth,"internal-error"),i})}onExecution(){return v(this,null,function*(){Jn(this.filter.length===1,"Popup operations only handle one event");let i=Np();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],i),this.authWindow.associatedEvent=i,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var i;return((i=this.authWindow)===null||i===void 0?void 0:i.associatedEvent)||null}cancel(){this.reject(gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let i=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(i,CP.get())};i()}}t.currentPopupAction=null;return t})(),AP="pendingRedirect",Ml=new Map,pp=class t extends Hl{constructor(e,i,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,n),this.eventId=null}execute(){return v(this,null,function*(){let e=Ml.get(this.auth._key());if(!e){try{let n=(yield RP(this.resolver,this.auth))?yield hi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(n)}catch(i){e=()=>Promise.reject(i)}Ml.set(this.auth._key(),e)}return this.bypassAuthState||Ml.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return v(this,null,function*(){if(e.type==="signInViaRedirect")return hi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let i=yield this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,hi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return v(this,null,function*(){})}cleanUp(){}};function RP(t,e){return v(this,null,function*(){let i=xP(e),n=DP(t);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(i))==="true";return yield n._remove(i),r})}function kP(t,e){Ml.set(t._key(),e)}function DP(t){return Yn(t._redirectPersistence)}function xP(t){return Pl(AP,t.config.apiKey,t.name)}function PP(t,e,i=!1){return v(this,null,function*(){if(nn(t.app))return Promise.reject(Xn(t));let n=Mi(t),r=Ww(n,e),o=yield new pp(n,r,i).execute();return o&&!i&&(delete o.user._redirectEventId,yield n._persistUserIfCurrent(o.user),yield n._setRedirectUser(null,e)),o})}var MP=10*60*1e3,mp=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(i=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OP(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var n;if(e.error&&!Kw(e)){let r=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";i.onError(gn(this.auth,r))}else i.onAuthEvent(e)}isEventForConsumer(e,i){let n=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MP&&this.cachedEventUids.clear(),this.cachedEventUids.has(pw(e))}saveEventToCache(e){this.cachedEventUids.add(pw(e)),this.lastProcessedEventTime=Date.now()}};function pw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Kw({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function OP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kw(t);default:return!1}}function NP(i){return v(this,arguments,function*(t,e={}){return ei(t,"GET","/v1/projects",e)})}var FP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VP=/^https?/;function LP(t){return v(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield NP(t);for(let i of e)try{if(UP(i))return}catch{}rn(t,"unauthorized-domain")})}function UP(t){let e=tp(),{protocol:i,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&n===""?i==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&o.hostname===n}if(!VP.test(i))return!1;if(FP.test(t))return n===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var jP=new hr(3e4,6e4);function mw(){let t=Dn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let i=0;i<t.CP.length;i++)t.CP[i]=null}}function BP(t){return new Promise((e,i)=>{var n,r,s;function o(){mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mw(),i(gn(t,"network-request-failed"))},timeout:jP.get()})}if(!((r=(n=Dn().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Dn().gapi)===null||s===void 0)&&s.load)o();else{let c=Fw("iframefcb");return Dn()[c]=()=>{gapi.load?o():i(gn(t,"network-request-failed"))},Nw(`${jx()}?onload=${c}`).catch(l=>i(l))}}).catch(e=>{throw Ol=null,e})}var Ol=null;function zP(t){return Ol=Ol||BP(t),Ol}var $P=new hr(5e3,15e3),qP="__/auth/iframe",GP="emulator/auth/iframe",HP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KP(t){let e=t.config;ne(e.authDomain,t,"auth-domain-config-required");let i=e.emulator?bp(e,GP):`https://${t.config.authDomain}/${qP}`,n={apiKey:e.apiKey,appName:t.name,v:kn},r=WP.get(t.config.apiHost);r&&(n.eid=r);let s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${i}?${cs(n).slice(1)}`}function QP(t){return v(this,null,function*(){let e=yield zP(t),i=Dn().gapi;return ne(i,t,"internal-error"),e.open({where:document.body,url:KP(t),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HP,dontclear:!0},n=>new Promise((r,s)=>v(this,null,function*(){yield n.restyle({setHideOnLeave:!1});let o=gn(t,"network-request-failed"),c=Dn().setTimeout(()=>{s(o)},$P.get());function l(){Dn().clearTimeout(c),r(n)}n.ping(l).then(l,()=>{s(o)})})))})}var YP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XP=500,JP=600,ZP="_blank",e1="http://localhost",Wl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function t1(t,e,i,n=XP,r=JP){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString(),c="",l=Object.assign(Object.assign({},YP),{width:n.toString(),height:r.toString(),top:s,left:o}),u=ut().toLowerCase();i&&(c=Rw(u)?ZP:i),Aw(u)&&(e=e||e1,l.scrollbars="yes");let f=Object.entries(l).reduce((_,[C,P])=>`${_}${C}=${P},`,"");if(Mx(u)&&c!=="_self")return n1(e||"",c),new Wl(null);let m=window.open(e||"",c,f);ne(m,t,"popup-blocked");try{m.focus()}catch{}return new Wl(m)}function n1(t,e){let i=document.createElement("a");i.href=t,i.target=e;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}var i1="__/auth/handler",r1="emulator/auth/handler",s1=encodeURIComponent("fac");function gw(t,e,i,n,r,s){return v(this,null,function*(){ne(t.config.authDomain,t,"auth-domain-config-required"),ne(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:i,redirectUrl:n,v:kn,eventId:r};if(e instanceof da){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",jb(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,m]of Object.entries(s||{}))o[f]=m}if(e instanceof zl){let f=e.getScopes().filter(m=>m!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=yield t._getAppCheckToken(),u=l?`#${s1}=${encodeURIComponent(l)}`:"";return`${o1(t)}?${cs(c).slice(1)}${u}`})}function o1({config:t}){return t.emulator?bp(t,r1):`https://${t.authDomain}/${i1}`}var ep="webStorageSupport",gp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Op,this._completeRedirectFn=PP,this._overrideRedirectResult=kP}_openPopup(e,i,n,r){return v(this,null,function*(){var s;Jn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield gw(e,i,n,tp(),r);return t1(e,o,Np())})}_openRedirect(e,i,n,r){return v(this,null,function*(){yield this._originValidation(e);let s=yield gw(e,i,n,tp(),r);return hP(s),new Promise(()=>{})})}_initialize(e){let i=e._key();if(this.eventManagers[i]){let{manager:r,promise:s}=this.eventManagers[i];return r?Promise.resolve(r):(Jn(s,"If manager is not set, promise should be"),s)}let n=this.initAndGetManager(e);return this.eventManagers[i]={promise:n},n.catch(()=>{delete this.eventManagers[i]}),n}initAndGetManager(e){return v(this,null,function*(){let i=yield QP(e),n=new mp(e);return i.register("authEvent",r=>(ne(r?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=i,n})}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(ep,{type:ep},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[ep];o!==void 0&&i(!!o),rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=LP(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Mw()||Tp()||Kl()}},Qw=gp;var _w="@firebase/auth",vw="1.7.4";var _p=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return v(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let i=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function a1(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c1(t){Rn(new jt("auth",(e,{options:i})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;ne(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ow(t)},u=new cp(n,r,s,l);return $x(u,i),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,n)=>{e.getProvider("auth-internal").initialize()})),Rn(new jt("auth-internal",e=>{let i=Mi(e.getProvider("auth").getImmediate());return(n=>new _p(n))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(_w,vw,a1(t)),ze(_w,vw,"esm2017")}var l1=5*60,u1=Of("authIdTokenMaxAge")||l1,yw=null,d1=t=>e=>v(void 0,null,function*(){let i=e&&(yield e.getIdTokenResult()),n=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>u1)return;let r=i?.token;yw!==r&&(yw=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Vp(t=ki()){let e=lr(t,"auth");if(e.isInitialized())return e.getImmediate();let i=Cp(t,{popupRedirectResolver:Qw,persistence:[Hw,zw,Op]}),n=Of("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(n,location.origin);if(location.origin===s.origin){let o=d1(s.toString());Pp(i,o,()=>o(i.currentUser)),xp(i,c=>o(c))}}let r=Pf("auth");return r&&Sp(i,`http://${r}`),i}function h1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Lx({loadJS(t){return new Promise((e,i)=>{let n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=r=>{let s=gn("internal-error");s.customData=r,i(s)},n.type="text/javascript",n.charset="UTF-8",h1().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c1("Browser");var Yw="auth",pr=class{constructor(e){return e}},mr=class{constructor(){return dr(Yw)}};var Lp=new te("angularfire2.auth-instances");function eM(t,e){let i=hs(Yw,t,e);return i&&new pr(i)}function tM(t){return(e,i)=>{let n=e.runOutsideAngular(()=>t(i));return new pr(n)}}var nM={provide:mr,deps:[[new it,Lp]]},iM={provide:pr,useFactory:eM,deps:[[new it,Lp],mn]};function Xw(t,...e){return ze("angularfire",Wn.full,"auth"),Pt([iM,nM,{provide:Lp,useFactory:tM(t),multi:!0,deps:[fe,Vt,xi,Kn,[new it,Di],...e]}])}var Up=rt(kp,!0);var Jw=rt(Vp,!0);var Zw=rt(Dp,!0);var eI=rt(Fp,!0);var jp=rt(Mp,!0);var Bt=(()=>{let e=class e{constructor(n){this.auth=n,this.loginsCollection=[],this.user="",this.countLogins=0}registrarConVerificacion(s){return v(this,arguments,function*({email:n,clave:r}){try{let o=yield Up(this.auth,n,r),c=this.auth.currentUser;return c&&(yield Yl(c),alert(`Su usuario ha sido creado con \xE9xito! 
Por favor, verifique en su casilla de correo el mail de verificaci\xF3n.`),jp(this.auth)),o}catch(o){throw console.error("Error during registration:",o),o}})}registrar({email:n,clave:r}){return Up(this.auth,n,r)}login({email:n,clave:r}){return Zw(this.auth,n,r)}setAuth(n){this.auth=n}getAuth(){return this.auth}getCurrentUser(){return this.auth.currentUser}loginWithGoogle(){return eI(this.auth,new Ap)}logout(){return localStorage.removeItem("user"),jp(this.auth)}};e.\u0275fac=function(r){return new(r||e)(z(pr))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var tI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nI={};var Oi,Bp;(function(){var t;function e(I,g){function b(){}b.prototype=g.prototype,I.D=g.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(w,E,R){for(var y=Array(arguments.length-2),Ln=2;Ln<arguments.length;Ln++)y[Ln-2]=arguments[Ln];return g.prototype[E].apply(w,y)}}function i(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,i),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,g,b){b||(b=0);var w=Array(16);if(typeof g=="string")for(var E=0;16>E;++E)w[E]=g.charCodeAt(b++)|g.charCodeAt(b++)<<8|g.charCodeAt(b++)<<16|g.charCodeAt(b++)<<24;else for(E=0;16>E;++E)w[E]=g[b++]|g[b++]<<8|g[b++]<<16|g[b++]<<24;g=I.g[0],b=I.g[1],E=I.g[2];var R=I.g[3],y=g+(R^b&(E^R))+w[0]+3614090360&4294967295;g=b+(y<<7&4294967295|y>>>25),y=R+(E^g&(b^E))+w[1]+3905402710&4294967295,R=g+(y<<12&4294967295|y>>>20),y=E+(b^R&(g^b))+w[2]+606105819&4294967295,E=R+(y<<17&4294967295|y>>>15),y=b+(g^E&(R^g))+w[3]+3250441966&4294967295,b=E+(y<<22&4294967295|y>>>10),y=g+(R^b&(E^R))+w[4]+4118548399&4294967295,g=b+(y<<7&4294967295|y>>>25),y=R+(E^g&(b^E))+w[5]+1200080426&4294967295,R=g+(y<<12&4294967295|y>>>20),y=E+(b^R&(g^b))+w[6]+2821735955&4294967295,E=R+(y<<17&4294967295|y>>>15),y=b+(g^E&(R^g))+w[7]+4249261313&4294967295,b=E+(y<<22&4294967295|y>>>10),y=g+(R^b&(E^R))+w[8]+1770035416&4294967295,g=b+(y<<7&4294967295|y>>>25),y=R+(E^g&(b^E))+w[9]+2336552879&4294967295,R=g+(y<<12&4294967295|y>>>20),y=E+(b^R&(g^b))+w[10]+4294925233&4294967295,E=R+(y<<17&4294967295|y>>>15),y=b+(g^E&(R^g))+w[11]+2304563134&4294967295,b=E+(y<<22&4294967295|y>>>10),y=g+(R^b&(E^R))+w[12]+1804603682&4294967295,g=b+(y<<7&4294967295|y>>>25),y=R+(E^g&(b^E))+w[13]+4254626195&4294967295,R=g+(y<<12&4294967295|y>>>20),y=E+(b^R&(g^b))+w[14]+2792965006&4294967295,E=R+(y<<17&4294967295|y>>>15),y=b+(g^E&(R^g))+w[15]+1236535329&4294967295,b=E+(y<<22&4294967295|y>>>10),y=g+(E^R&(b^E))+w[1]+4129170786&4294967295,g=b+(y<<5&4294967295|y>>>27),y=R+(b^E&(g^b))+w[6]+3225465664&4294967295,R=g+(y<<9&4294967295|y>>>23),y=E+(g^b&(R^g))+w[11]+643717713&4294967295,E=R+(y<<14&4294967295|y>>>18),y=b+(R^g&(E^R))+w[0]+3921069994&4294967295,b=E+(y<<20&4294967295|y>>>12),y=g+(E^R&(b^E))+w[5]+3593408605&4294967295,g=b+(y<<5&4294967295|y>>>27),y=R+(b^E&(g^b))+w[10]+38016083&4294967295,R=g+(y<<9&4294967295|y>>>23),y=E+(g^b&(R^g))+w[15]+3634488961&4294967295,E=R+(y<<14&4294967295|y>>>18),y=b+(R^g&(E^R))+w[4]+3889429448&4294967295,b=E+(y<<20&4294967295|y>>>12),y=g+(E^R&(b^E))+w[9]+568446438&4294967295,g=b+(y<<5&4294967295|y>>>27),y=R+(b^E&(g^b))+w[14]+3275163606&4294967295,R=g+(y<<9&4294967295|y>>>23),y=E+(g^b&(R^g))+w[3]+4107603335&4294967295,E=R+(y<<14&4294967295|y>>>18),y=b+(R^g&(E^R))+w[8]+1163531501&4294967295,b=E+(y<<20&4294967295|y>>>12),y=g+(E^R&(b^E))+w[13]+2850285829&4294967295,g=b+(y<<5&4294967295|y>>>27),y=R+(b^E&(g^b))+w[2]+4243563512&4294967295,R=g+(y<<9&4294967295|y>>>23),y=E+(g^b&(R^g))+w[7]+1735328473&4294967295,E=R+(y<<14&4294967295|y>>>18),y=b+(R^g&(E^R))+w[12]+2368359562&4294967295,b=E+(y<<20&4294967295|y>>>12),y=g+(b^E^R)+w[5]+4294588738&4294967295,g=b+(y<<4&4294967295|y>>>28),y=R+(g^b^E)+w[8]+2272392833&4294967295,R=g+(y<<11&4294967295|y>>>21),y=E+(R^g^b)+w[11]+1839030562&4294967295,E=R+(y<<16&4294967295|y>>>16),y=b+(E^R^g)+w[14]+4259657740&4294967295,b=E+(y<<23&4294967295|y>>>9),y=g+(b^E^R)+w[1]+2763975236&4294967295,g=b+(y<<4&4294967295|y>>>28),y=R+(g^b^E)+w[4]+1272893353&4294967295,R=g+(y<<11&4294967295|y>>>21),y=E+(R^g^b)+w[7]+4139469664&4294967295,E=R+(y<<16&4294967295|y>>>16),y=b+(E^R^g)+w[10]+3200236656&4294967295,b=E+(y<<23&4294967295|y>>>9),y=g+(b^E^R)+w[13]+681279174&4294967295,g=b+(y<<4&4294967295|y>>>28),y=R+(g^b^E)+w[0]+3936430074&4294967295,R=g+(y<<11&4294967295|y>>>21),y=E+(R^g^b)+w[3]+3572445317&4294967295,E=R+(y<<16&4294967295|y>>>16),y=b+(E^R^g)+w[6]+76029189&4294967295,b=E+(y<<23&4294967295|y>>>9),y=g+(b^E^R)+w[9]+3654602809&4294967295,g=b+(y<<4&4294967295|y>>>28),y=R+(g^b^E)+w[12]+3873151461&4294967295,R=g+(y<<11&4294967295|y>>>21),y=E+(R^g^b)+w[15]+530742520&4294967295,E=R+(y<<16&4294967295|y>>>16),y=b+(E^R^g)+w[2]+3299628645&4294967295,b=E+(y<<23&4294967295|y>>>9),y=g+(E^(b|~R))+w[0]+4096336452&4294967295,g=b+(y<<6&4294967295|y>>>26),y=R+(b^(g|~E))+w[7]+1126891415&4294967295,R=g+(y<<10&4294967295|y>>>22),y=E+(g^(R|~b))+w[14]+2878612391&4294967295,E=R+(y<<15&4294967295|y>>>17),y=b+(R^(E|~g))+w[5]+4237533241&4294967295,b=E+(y<<21&4294967295|y>>>11),y=g+(E^(b|~R))+w[12]+1700485571&4294967295,g=b+(y<<6&4294967295|y>>>26),y=R+(b^(g|~E))+w[3]+2399980690&4294967295,R=g+(y<<10&4294967295|y>>>22),y=E+(g^(R|~b))+w[10]+4293915773&4294967295,E=R+(y<<15&4294967295|y>>>17),y=b+(R^(E|~g))+w[1]+2240044497&4294967295,b=E+(y<<21&4294967295|y>>>11),y=g+(E^(b|~R))+w[8]+1873313359&4294967295,g=b+(y<<6&4294967295|y>>>26),y=R+(b^(g|~E))+w[15]+4264355552&4294967295,R=g+(y<<10&4294967295|y>>>22),y=E+(g^(R|~b))+w[6]+2734768916&4294967295,E=R+(y<<15&4294967295|y>>>17),y=b+(R^(E|~g))+w[13]+1309151649&4294967295,b=E+(y<<21&4294967295|y>>>11),y=g+(E^(b|~R))+w[4]+4149444226&4294967295,g=b+(y<<6&4294967295|y>>>26),y=R+(b^(g|~E))+w[11]+3174756917&4294967295,R=g+(y<<10&4294967295|y>>>22),y=E+(g^(R|~b))+w[2]+718787259&4294967295,E=R+(y<<15&4294967295|y>>>17),y=b+(R^(E|~g))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+g&4294967295,I.g[1]=I.g[1]+(E+(y<<21&4294967295|y>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+R&4294967295}n.prototype.u=function(I,g){g===void 0&&(g=I.length);for(var b=g-this.blockSize,w=this.B,E=this.h,R=0;R<g;){if(E==0)for(;R<=b;)r(this,I,R),R+=this.blockSize;if(typeof I=="string"){for(;R<g;)if(w[E++]=I.charCodeAt(R++),E==this.blockSize){r(this,w),E=0;break}}else for(;R<g;)if(w[E++]=I[R++],E==this.blockSize){r(this,w),E=0;break}}this.h=E,this.o+=g},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var g=1;g<I.length-8;++g)I[g]=0;var b=8*this.o;for(g=I.length-8;g<I.length;++g)I[g]=b&255,b/=256;for(this.u(I),I=Array(16),g=b=0;4>g;++g)for(var w=0;32>w;w+=8)I[b++]=this.g[g]>>>w&255;return I};function s(I,g){var b=c;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=g(I)}function o(I,g){this.h=g;for(var b=[],w=!0,E=I.length-1;0<=E;E--){var R=I[E]|0;w&&R==g||(b[E]=R,w=!1)}this.g=b}var c={};function l(I){return-128<=I&&128>I?s(I,function(g){return new o([g|0],0>g?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return m;if(0>I)return k(u(-I));for(var g=[],b=1,w=0;I>=b;w++)g[w]=I/b|0,b*=4294967296;return new o(g,0)}function f(I,g){if(I.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(I.charAt(0)=="-")return k(f(I.substring(1),g));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(g,8)),w=m,E=0;E<I.length;E+=8){var R=Math.min(8,I.length-E),y=parseInt(I.substring(E,E+R),g);8>R?(R=u(Math.pow(g,R)),w=w.j(R).add(u(y))):(w=w.j(b),w=w.add(u(y)))}return w}var m=l(0),_=l(1),C=l(16777216);t=o.prototype,t.m=function(){if(F(this))return-k(this).m();for(var I=0,g=1,b=0;b<this.g.length;b++){var w=this.i(b);I+=(0<=w?w:4294967296+w)*g,g*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P(this))return"0";if(F(this))return"-"+k(this).toString(I);for(var g=u(Math.pow(I,6)),b=this,w="";;){var E=X(b,g).g;b=U(b,E.j(g));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=E,P(b))return R+w;for(;6>R.length;)R="0"+R;w=R+w}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function P(I){if(I.h!=0)return!1;for(var g=0;g<I.g.length;g++)if(I.g[g]!=0)return!1;return!0}function F(I){return I.h==-1}t.l=function(I){return I=U(this,I),F(I)?-1:P(I)?0:1};function k(I){for(var g=I.g.length,b=[],w=0;w<g;w++)b[w]=~I.g[w];return new o(b,~I.h).add(_)}t.abs=function(){return F(this)?k(this):this},t.add=function(I){for(var g=Math.max(this.g.length,I.g.length),b=[],w=0,E=0;E<=g;E++){var R=w+(this.i(E)&65535)+(I.i(E)&65535),y=(R>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);w=y>>>16,R&=65535,y&=65535,b[E]=y<<16|R}return new o(b,b[b.length-1]&-2147483648?-1:0)};function U(I,g){return I.add(k(g))}t.j=function(I){if(P(this)||P(I))return m;if(F(this))return F(I)?k(this).j(k(I)):k(k(this).j(I));if(F(I))return k(this.j(k(I)));if(0>this.l(C)&&0>I.l(C))return u(this.m()*I.m());for(var g=this.g.length+I.g.length,b=[],w=0;w<2*g;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(var E=0;E<I.g.length;E++){var R=this.i(w)>>>16,y=this.i(w)&65535,Ln=I.i(E)>>>16,Hs=I.i(E)&65535;b[2*w+2*E]+=y*Hs,Q(b,2*w+2*E),b[2*w+2*E+1]+=R*Hs,Q(b,2*w+2*E+1),b[2*w+2*E+1]+=y*Ln,Q(b,2*w+2*E+1),b[2*w+2*E+2]+=R*Ln,Q(b,2*w+2*E+2)}for(w=0;w<g;w++)b[w]=b[2*w+1]<<16|b[2*w];for(w=g;w<2*g;w++)b[w]=0;return new o(b,0)};function Q(I,g){for(;(I[g]&65535)!=I[g];)I[g+1]+=I[g]>>>16,I[g]&=65535,g++}function Z(I,g){this.g=I,this.h=g}function X(I,g){if(P(g))throw Error("division by zero");if(P(I))return new Z(m,m);if(F(I))return g=X(k(I),g),new Z(k(g.g),k(g.h));if(F(g))return g=X(I,k(g)),new Z(k(g.g),g.h);if(30<I.g.length){if(F(I)||F(g))throw Error("slowDivide_ only works with positive integers.");for(var b=_,w=g;0>=w.l(I);)b=Ne(b),w=Ne(w);var E=le(b,1),R=le(w,1);for(w=le(w,2),b=le(b,2);!P(w);){var y=R.add(w);0>=y.l(I)&&(E=E.add(b),R=y),w=le(w,1),b=le(b,1)}return g=U(I,E.j(g)),new Z(E,g)}for(E=m;0<=I.l(g);){for(b=Math.max(1,Math.floor(I.m()/g.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),R=u(b),y=R.j(g);F(y)||0<y.l(I);)b-=w,R=u(b),y=R.j(g);P(R)&&(R=_),E=E.add(R),I=U(I,y)}return new Z(E,I)}t.A=function(I){return X(this,I).h},t.and=function(I){for(var g=Math.max(this.g.length,I.g.length),b=[],w=0;w<g;w++)b[w]=this.i(w)&I.i(w);return new o(b,this.h&I.h)},t.or=function(I){for(var g=Math.max(this.g.length,I.g.length),b=[],w=0;w<g;w++)b[w]=this.i(w)|I.i(w);return new o(b,this.h|I.h)},t.xor=function(I){for(var g=Math.max(this.g.length,I.g.length),b=[],w=0;w<g;w++)b[w]=this.i(w)^I.i(w);return new o(b,this.h^I.h)};function Ne(I){for(var g=I.g.length+1,b=[],w=0;w<g;w++)b[w]=I.i(w)<<1|I.i(w-1)>>>31;return new o(b,I.h)}function le(I,g){var b=g>>5;g%=32;for(var w=I.g.length-b,E=[],R=0;R<w;R++)E[R]=0<g?I.i(R+b)>>>g|I.i(R+b+1)<<32-g:I.i(R+b);return new o(E,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Bp=nI.Md5=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Oi=nI.Integer=o}).apply(typeof tI<"u"?tI:typeof self<"u"?self:typeof window<"u"?window:{});var Zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ti={};var zp,$p,_s,qp,pa,eu,Gp,Hp,Wp;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function i(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zl=="object"&&Zl];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var n=i(this);function r(a,d){if(d)e:{var h=n;a=a.split(".");for(var p=0;p<a.length-1;p++){var T=a[p];if(!(T in h))break e;h=h[T]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function s(a,d){a instanceof String&&(a+="");var h=0,p=!1,T={next:function(){if(!p&&h<a.length){var D=h++;return{value:d(D,a[D]),done:!1}}return p=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}r("Array.prototype.values",function(a){return a||function(){return s(this,function(d,h){return h})}});var o=o||{},c=this||self;function l(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function m(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,p),a.apply(d,T)}}return function(){return a.apply(d,arguments)}}function _(a,d,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,_.apply(null,arguments)}function C(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function P(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,T,D){for(var B=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)B[Oe-2]=arguments[Oe];return d.prototype[T].apply(p,B)}}function F(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function k(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(l(p)){let T=a.length||0,D=p.length||0;a.length=T+D;for(let B=0;B<D;B++)a[T+B]=p[B]}else a.push(p)}}class U{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function X(a){return X[" "](a),a}X[" "]=function(){};var Ne=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function le(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function I(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function g(a){let d={};for(let h in a)d[h]=a[h];return d}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,p;for(let T=1;T<arguments.length;T++){p=arguments[T];for(h in p)a[h]=p[h];for(let D=0;D<b.length;D++)h=b[D],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function E(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function R(a){c.setTimeout(()=>{throw a},0)}function y(){var a=dd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Ln{constructor(){this.h=this.g=null}add(d,h){let p=Hs.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var Hs=new U(()=>new fC,a=>a.reset());class fC{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ws,Ks=!1,dd=new Ln,x_=()=>{let a=c.Promise.resolve(void 0);Ws=()=>{a.then(pC)}};var pC=()=>{for(var a;a=y();){try{a.h.call(a.g)}catch(h){R(h)}var d=Hs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Ks=!1};function ci(){this.s=this.s,this.C=this.C}ci.prototype.s=!1,ci.prototype.ma=function(){this.s||(this.s=!0,this.N())},ci.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _t(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var mC=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Qs(a,d){if(_t.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ne){e:{try{X(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:gC[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Qs.aa.h.call(this)}}P(Qs,_t);var gC={2:"touch",3:"pen",4:"mouse"};Qs.prototype.h=function(){Qs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ys="closure_listenable_"+(1e6*Math.random()|0),_C=0;function vC(a,d,h,p,T){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=T,this.key=++_C,this.da=this.fa=!1}function Ka(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Qa(a){this.src=a,this.g={},this.h=0}Qa.prototype.add=function(a,d,h,p,T){var D=a.toString();a=this.g[D],a||(a=this.g[D]=[],this.h++);var B=fd(a,d,p,T);return-1<B?(d=a[B],h||(d.fa=!1)):(d=new vC(d,this.src,D,!!p,T),d.fa=h,a.push(d)),d};function hd(a,d){var h=d.type;if(h in a.g){var p=a.g[h],T=Array.prototype.indexOf.call(p,d,void 0),D;(D=0<=T)&&Array.prototype.splice.call(p,T,1),D&&(Ka(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function fd(a,d,h,p){for(var T=0;T<a.length;++T){var D=a[T];if(!D.da&&D.listener==d&&D.capture==!!h&&D.ha==p)return T}return-1}var pd="closure_lm_"+(1e6*Math.random()|0),md={};function P_(a,d,h,p,T){if(p&&p.once)return O_(a,d,h,p,T);if(Array.isArray(d)){for(var D=0;D<d.length;D++)P_(a,d[D],h,p,T);return null}return h=yd(h),a&&a[Ys]?a.K(d,h,u(p)?!!p.capture:!!p,T):M_(a,d,h,!1,p,T)}function M_(a,d,h,p,T,D){if(!d)throw Error("Invalid event type");var B=u(T)?!!T.capture:!!T,Oe=_d(a);if(Oe||(a[pd]=Oe=new Qa(a)),h=Oe.add(d,h,p,B,D),h.proxy)return h;if(p=yC(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)mC||(T=B),T===void 0&&(T=!1),a.addEventListener(d.toString(),p,T);else if(a.attachEvent)a.attachEvent(F_(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function yC(){function a(h){return d.call(a.src,a.listener,h)}let d=bC;return a}function O_(a,d,h,p,T){if(Array.isArray(d)){for(var D=0;D<d.length;D++)O_(a,d[D],h,p,T);return null}return h=yd(h),a&&a[Ys]?a.L(d,h,u(p)?!!p.capture:!!p,T):M_(a,d,h,!0,p,T)}function N_(a,d,h,p,T){if(Array.isArray(d))for(var D=0;D<d.length;D++)N_(a,d[D],h,p,T);else p=u(p)?!!p.capture:!!p,h=yd(h),a&&a[Ys]?(a=a.i,d=String(d).toString(),d in a.g&&(D=a.g[d],h=fd(D,h,p,T),-1<h&&(Ka(D[h]),Array.prototype.splice.call(D,h,1),D.length==0&&(delete a.g[d],a.h--)))):a&&(a=_d(a))&&(d=a.g[d.toString()],a=-1,d&&(a=fd(d,h,p,T)),(h=-1<a?d[a]:null)&&gd(h))}function gd(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Ys])hd(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(F_(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=_d(d))?(hd(h,a),h.h==0&&(h.src=null,d[pd]=null)):Ka(a)}}}function F_(a){return a in md?md[a]:md[a]="on"+a}function bC(a,d){if(a.da)a=!0;else{d=new Qs(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&gd(a),a=h.call(p,d)}return a}function _d(a){return a=a[pd],a instanceof Qa?a:null}var vd="__closure_events_fn_"+(1e9*Math.random()>>>0);function yd(a){return typeof a=="function"?a:(a[vd]||(a[vd]=function(d){return a.handleEvent(d)}),a[vd])}function vt(){ci.call(this),this.i=new Qa(this),this.M=this,this.F=null}P(vt,ci),vt.prototype[Ys]=!0,vt.prototype.removeEventListener=function(a,d,h,p){N_(this,a,d,h,p)};function kt(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new _t(d,a);else if(d instanceof _t)d.target=d.target||a;else{var T=d;d=new _t(p,a),w(d,T)}if(T=!0,h)for(var D=h.length-1;0<=D;D--){var B=d.g=h[D];T=Ya(B,p,!0,d)&&T}if(B=d.g=a,T=Ya(B,p,!0,d)&&T,T=Ya(B,p,!1,d)&&T,h)for(D=0;D<h.length;D++)B=d.g=h[D],T=Ya(B,p,!1,d)&&T}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)Ka(h[p]);delete a.g[d],a.h--}}this.F=null},vt.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},vt.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function Ya(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,D=0;D<d.length;++D){var B=d[D];if(B&&!B.da&&B.capture==h){var Oe=B.listener,ft=B.ha||B.src;B.fa&&hd(a.i,B),T=Oe.call(ft,p)!==!1&&T}}return T&&!p.defaultPrevented}function V_(a,d,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function L_(a){a.g=V_(()=>{a.g=null,a.i&&(a.i=!1,L_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class wC extends ci{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:L_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(a){ci.call(this),this.h=a,this.g={}}P(Xs,ci);var U_=[];function j_(a){le(a.g,function(d,h){this.g.hasOwnProperty(h)&&gd(d)},a),a.g={}}Xs.prototype.N=function(){Xs.aa.N.call(this),j_(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bd=c.JSON.stringify,IC=c.JSON.parse,EC=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function wd(){}wd.prototype.h=null;function B_(a){return a.h||(a.h=a.i())}function z_(){}var Js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Id(){_t.call(this,"d")}P(Id,_t);function Ed(){_t.call(this,"c")}P(Ed,_t);var Bi={},$_=null;function Xa(){return $_=$_||new vt}Bi.La="serverreachability";function q_(a){_t.call(this,Bi.La,a)}P(q_,_t);function Zs(a){let d=Xa();kt(d,new q_(d))}Bi.STAT_EVENT="statevent";function G_(a,d){_t.call(this,Bi.STAT_EVENT,a),this.stat=d}P(G_,_t);function Dt(a){let d=Xa();kt(d,new G_(d,a))}Bi.Ma="timingevent";function H_(a,d){_t.call(this,Bi.Ma,a),this.size=d}P(H_,_t);function eo(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function to(){this.g=!0}to.prototype.xa=function(){this.g=!1};function TC(a,d,h,p,T,D){a.info(function(){if(a.g)if(D)for(var B="",Oe=D.split("&"),ft=0;ft<Oe.length;ft++){var Ee=Oe[ft].split("=");if(1<Ee.length){var yt=Ee[0];Ee=Ee[1];var bt=yt.split("_");B=2<=bt.length&&bt[1]=="type"?B+(yt+"="+Ee+"&"):B+(yt+"=redacted&")}}else B=null;else B=D;return"XMLHTTP REQ ("+p+") [attempt "+T+"]: "+d+`
`+h+`
`+B})}function CC(a,d,h,p,T,D,B){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+T+"]: "+d+`
`+h+`
`+D+" "+B})}function kr(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+AC(a,h)+(p?" "+p:"")})}function SC(a,d){a.info(function(){return"TIMEOUT: "+d})}to.prototype.info=function(){};function AC(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var T=p[1];if(Array.isArray(T)&&!(1>T.length)){var D=T[0];if(D!="noop"&&D!="stop"&&D!="close")for(var B=1;B<T.length;B++)T[B]=""}}}}return bd(h)}catch{return d}}var Ja={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},W_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Td;function Za(){}P(Za,wd),Za.prototype.g=function(){return new XMLHttpRequest},Za.prototype.i=function(){return{}},Td=new Za;function li(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new Xs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new K_}function K_(){this.i=null,this.g="",this.h=!1}var Q_={},Cd={};function Sd(a,d,h){a.L=1,a.v=ic(Un(d)),a.m=h,a.P=!0,Y_(a,null)}function Y_(a,d){a.F=Date.now(),ec(a),a.A=Un(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),uv(h.i,"t",p),a.C=0,h=a.j.J,a.h=new K_,a.g=Rv(a.j,h?d:null,!a.m),0<a.O&&(a.M=new wC(_(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(U_[0]=T.toString()),T=U_);for(var D=0;D<T.length;D++){var B=P_(h,T[D],p||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Zs(),TC(a.i,a.u,a.A,a.l,a.R,a.m)}li.prototype.ca=function(a){a=a.target;let d=this.M;d&&jn(a)==3?d.j():this.Y(a)},li.prototype.Y=function(a){try{if(a==this.g)e:{let bt=jn(this.g);var d=this.g.Ba();let Pr=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||_v(this.g)))){this.J||bt!=4||d==7||(d==8||0>=Pr?Zs(3):Zs(2)),Ad(this);var h=this.g.Z();this.X=h;t:if(X_(this)){var p=_v(this.g);a="";var T=p.length,D=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),no(this);var B="";break t}this.h.i=new c.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(D&&d==T-1)});p.length=0,this.h.g+=a,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=h==200,CC(this.i,this.u,this.A,this.l,this.R,bt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,ft=this.g;if((Oe=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Oe)){var Ee=Oe;break t}}Ee=null}if(h=Ee)kr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rd(this,h);else{this.o=!1,this.s=3,Dt(12),zi(this),no(this);break e}}if(this.P){h=!0;let an;for(;!this.J&&this.C<B.length;)if(an=RC(this,B),an==Cd){bt==4&&(this.s=4,Dt(14),h=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Q_){this.s=4,Dt(15),kr(this.i,this.l,B,"[Invalid Chunk]"),h=!1;break}else kr(this.i,this.l,an,null),Rd(this,an);if(X_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||B.length!=0||this.h.h||(this.s=1,Dt(16),h=!1),this.o=this.o&&h,!h)kr(this.i,this.l,B,"[Invalid Chunked Response]"),zi(this),no(this);else if(0<B.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Od(yt),yt.M=!0,Dt(11))}}else kr(this.i,this.l,B,null),Rd(this,B);bt==4&&zi(this),this.o&&!this.J&&(bt==4?Tv(this.j,this):(this.o=!1,ec(this)))}else GC(this.g),h==400&&0<B.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),zi(this),no(this)}}}catch{}finally{}};function X_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function RC(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?Cd:(h=Number(d.substring(h,p)),isNaN(h)?Q_:(p+=1,p+h>d.length?Cd:(d=d.slice(p,p+h),a.C=p+h,d)))}li.prototype.cancel=function(){this.J=!0,zi(this)};function ec(a){a.S=Date.now()+a.I,J_(a,a.I)}function J_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=eo(_(a.ba,a),d)}function Ad(a){a.B&&(c.clearTimeout(a.B),a.B=null)}li.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(SC(this.i,this.A),this.L!=2&&(Zs(),Dt(17)),zi(this),this.s=2,no(this)):J_(this,this.S-a)};function no(a){a.j.G==0||a.J||Tv(a.j,a)}function zi(a){Ad(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,j_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Rd(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||kd(h.h,a))){if(!a.K&&kd(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var T=p;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)cc(h),oc(h);else break e;Md(h),Dt(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=eo(_(h.Za,h),6e3));if(1>=tv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else qi(h,11)}else if((a.K||h.g==a)&&cc(h),!Q(d))for(T=h.Da.g.parse(d),d=0;d<T.length;d++){let Ee=T[d];if(h.T=Ee[0],Ee=Ee[1],h.G==2)if(Ee[0]=="c"){h.K=Ee[1],h.ia=Ee[2];let yt=Ee[3];yt!=null&&(h.la=yt,h.j.info("VER="+h.la));let bt=Ee[4];bt!=null&&(h.Aa=bt,h.j.info("SVER="+h.Aa));let Pr=Ee[5];Pr!=null&&typeof Pr=="number"&&0<Pr&&(p=1.5*Pr,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let an=a.g;if(an){let uc=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uc){var D=p.h;D.g||uc.indexOf("spdy")==-1&&uc.indexOf("quic")==-1&&uc.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Dd(D,D.h),D.h=null))}if(p.D){let Nd=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Nd&&(p.ya=Nd,Ue(p.I,p.D,Nd))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var B=a;if(p.qa=Av(p,p.J?p.ia:null,p.W),B.K){nv(p.h,B);var Oe=B,ft=p.L;ft&&(Oe.I=ft),Oe.B&&(Ad(Oe),ec(Oe)),p.g=B}else Iv(p);0<h.i.length&&ac(h)}else Ee[0]!="stop"&&Ee[0]!="close"||qi(h,7);else h.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?qi(h,7):Pd(h):Ee[0]!="noop"&&h.l&&h.l.ta(Ee),h.v=0)}}Zs(4)}catch{}}var kC=class{constructor(a,d){this.g=a,this.map=d}};function Z_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ev(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function tv(a){return a.h?1:a.g?a.g.size:0}function kd(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Dd(a,d){a.g?a.g.add(d):a.h=d}function nv(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Z_.prototype.cancel=function(){if(this.i=iv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function iv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return F(a.i)}function DC(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function xC(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function rv(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=xC(a),p=DC(a),T=p.length,D=0;D<T;D++)d.call(void 0,p[D],h&&h[D],a)}var sv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PC(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),T=null;if(0<=p){var D=a[h].substring(0,p);T=a[h].substring(p+1)}else D=a[h];d(D,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function $i(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof $i){this.h=a.h,tc(this,a.j),this.o=a.o,this.g=a.g,nc(this,a.s),this.l=a.l;var d=a.i,h=new so;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),ov(this,h),this.m=a.m}else a&&(d=String(a).match(sv))?(this.h=!1,tc(this,d[1]||"",!0),this.o=io(d[2]||""),this.g=io(d[3]||"",!0),nc(this,d[4]),this.l=io(d[5]||"",!0),ov(this,d[6]||"",!0),this.m=io(d[7]||"")):(this.h=!1,this.i=new so(null,this.h))}$i.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ro(d,av,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ro(d,av,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ro(h,h.charAt(0)=="/"?NC:OC,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ro(h,VC)),a.join("")};function Un(a){return new $i(a)}function tc(a,d,h){a.j=h?io(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function nc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function ov(a,d,h){d instanceof so?(a.i=d,LC(a.i,a.h)):(h||(d=ro(d,FC)),a.i=new so(d,a.h))}function Ue(a,d,h){a.i.set(d,h)}function ic(a){return Ue(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function io(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ro(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,MC),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function MC(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var av=/[#\/\?@]/g,OC=/[#\?:]/g,NC=/[#\?]/g,FC=/[#\?@]/g,VC=/#/g;function so(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ui(a){a.g||(a.g=new Map,a.h=0,a.i&&PC(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=so.prototype,t.add=function(a,d){ui(this),this.i=null,a=Dr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function cv(a,d){ui(a),d=Dr(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function lv(a,d){return ui(a),d=Dr(a,d),a.g.has(d)}t.forEach=function(a,d){ui(this),this.g.forEach(function(h,p){h.forEach(function(T){a.call(d,T,p,this)},this)},this)},t.na=function(){ui(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let T=a[p];for(let D=0;D<T.length;D++)h.push(d[p])}return h},t.V=function(a){ui(this);let d=[];if(typeof a=="string")lv(this,a)&&(d=d.concat(this.g.get(Dr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return ui(this),this.i=null,a=Dr(this,a),lv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function uv(a,d,h){cv(a,d),0<h.length&&(a.i=null,a.g.set(Dr(a,d),F(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let D=encodeURIComponent(String(p)),B=this.V(p);for(p=0;p<B.length;p++){var T=D;B[p]!==""&&(T+="="+encodeURIComponent(String(B[p]))),a.push(T)}}return this.i=a.join("&")};function Dr(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function LC(a,d){d&&!a.j&&(ui(a),a.i=null,a.g.forEach(function(h,p){var T=p.toLowerCase();p!=T&&(cv(this,p),uv(this,T,h))},a)),a.j=d}function UC(a,d){let h=new to;if(c.Image){let p=new Image;p.onload=C(di,h,"TestLoadImage: loaded",!0,d,p),p.onerror=C(di,h,"TestLoadImage: error",!1,d,p),p.onabort=C(di,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=C(di,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function jC(a,d){let h=new to,p=new AbortController,T=setTimeout(()=>{p.abort(),di(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(D=>{clearTimeout(T),D.ok?di(h,"TestPingServer: ok",!0,d):di(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),di(h,"TestPingServer: error",!1,d)})}function di(a,d,h,p,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),p(h)}catch{}}function BC(){this.g=new EC}function zC(a,d,h){let p=h||"";try{rv(a,function(T,D){let B=T;u(T)&&(B=bd(T)),d.push(p+D+"="+encodeURIComponent(B))})}catch(T){throw d.push(p+"type="+encodeURIComponent("_badmap")),T}}function oo(a){this.l=a.Ub||null,this.j=a.eb||!1}P(oo,wd),oo.prototype.g=function(){return new rc(this.l,this.j)},oo.prototype.i=function(a){return function(){return a}}({});function rc(a,d){vt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(rc,vt),t=rc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,co(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ao(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,co(this)),this.g&&(this.readyState=3,co(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;dv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function dv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ao(this):co(this),this.readyState==3&&dv(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,ao(this))},t.Qa=function(a){this.g&&(this.response=a,ao(this))},t.ga=function(){this.g&&ao(this)};function ao(a){a.readyState=4,a.l=null,a.j=null,a.v=null,co(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function co(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(rc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function hv(a){let d="";return le(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function xd(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=hv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ue(a,d,h))}function Ke(a){vt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ke,vt);var $C=/^https?$/i,qC=["POST","PUT"];t=Ke.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Td.g(),this.v=this.o?B_(this.o):B_(Td),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(D){fv(this,D);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var T in p)h.set(T,p[T]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let D of p.keys())h.set(D,p.get(D));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(D=>D.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(qC,d,void 0))||p||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[D,B]of h)this.g.setRequestHeader(D,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gv(this),this.u=!0,this.g.send(a),this.u=!1}catch(D){fv(this,D)}};function fv(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,pv(a),sc(a)}function pv(a){a.A||(a.A=!0,kt(a,"complete"),kt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,kt(this,"complete"),kt(this,"abort"),sc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sc(this,!0)),Ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mv(this):this.bb())},t.bb=function(){mv(this)};function mv(a){if(a.h&&typeof o<"u"&&(!a.v[1]||jn(a)!=4||a.Z()!=2)){if(a.u&&jn(a)==4)V_(a.Ea,0,a);else if(kt(a,"readystatechange"),jn(a)==4){a.h=!1;try{let B=a.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=B===0){var T=String(a.D).match(sv)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),p=!$C.test(T?T.toLowerCase():"")}h=p}if(h)kt(a,"complete"),kt(a,"success");else{a.m=6;try{var D=2<jn(a)?a.g.statusText:""}catch{D=""}a.l=D+" ["+a.Z()+"]",pv(a)}}finally{sc(a)}}}}function sc(a,d){if(a.g){gv(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||kt(a,"ready");try{h.onreadystatechange=p}catch{}}}function gv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function jn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),IC(d)}};function _v(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function GC(a){let d={};a=(a.g&&2<=jn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(Q(a[p]))continue;var h=E(a[p]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let D=d[T]||[];d[T]=D,D.push(h)}I(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lo(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function vv(a){this.Aa=0,this.i=[],this.j=new to,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lo("baseRetryDelayMs",5e3,a),this.cb=lo("retryDelaySeedMs",1e4,a),this.Wa=lo("forwardChannelMaxRetries",2,a),this.wa=lo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Z_(a&&a.concurrentRequestLimit),this.Da=new BC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=vv.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){Dt(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=Av(this,null,this.W),ac(this)};function Pd(a){if(yv(a),a.G==3){var d=a.U++,h=Un(a.I);if(Ue(h,"SID",a.K),Ue(h,"RID",d),Ue(h,"TYPE","terminate"),uo(a,h),d=new li(a,a.j,d),d.L=2,d.v=ic(Un(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=Rv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ec(d)}Sv(a)}function oc(a){a.g&&(Od(a),a.g.cancel(),a.g=null)}function yv(a){oc(a),a.u&&(c.clearTimeout(a.u),a.u=null),cc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function ac(a){if(!ev(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ws||x_(),Ks||(Ws(),Ks=!0),dd.add(d,a),a.B=0}}function HC(a,d){return tv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=eo(_(a.Ga,a,d),Cv(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new li(this,this.j,a),D=this.o;if(this.S&&(D?(D=g(D),w(D,this.S)):D=this.S),this.m!==null||this.O||(T.H=D,D=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=wv(this,T,d),h=Un(this.I),Ue(h,"RID",a),Ue(h,"CVER",22),this.D&&Ue(h,"X-HTTP-Session-Id",this.D),uo(this,h),D&&(this.O?d="headers="+encodeURIComponent(String(hv(D)))+"&"+d:this.m&&xd(h,this.m,D)),Dd(this.h,T),this.Ua&&Ue(h,"TYPE","init"),this.P?(Ue(h,"$req",d),Ue(h,"SID","null"),T.T=!0,Sd(T,h,null)):Sd(T,h,d),this.G=2}}else this.G==3&&(a?bv(this,a):this.i.length==0||ev(this.h)||bv(this))};function bv(a,d){var h;d?h=d.l:h=a.U++;let p=Un(a.I);Ue(p,"SID",a.K),Ue(p,"RID",h),Ue(p,"AID",a.T),uo(a,p),a.m&&a.o&&xd(p,a.m,a.o),h=new li(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=wv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Dd(a.h,h),Sd(h,p,d)}function uo(a,d){a.H&&le(a.H,function(h,p){Ue(d,p,h)}),a.l&&rv({},function(h,p){Ue(d,p,h)})}function wv(a,d,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var T=a.i;let D=-1;for(;;){let B=["count="+h];D==-1?0<h?(D=T[0].g,B.push("ofs="+D)):D=0:B.push("ofs="+D);let Oe=!0;for(let ft=0;ft<h;ft++){let Ee=T[ft].g,yt=T[ft].map;if(Ee-=D,0>Ee)D=Math.max(0,T[ft].g-100),Oe=!1;else try{zC(yt,B,"req"+Ee+"_")}catch{p&&p(yt)}}if(Oe){p=B.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function Iv(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ws||x_(),Ks||(Ws(),Ks=!0),dd.add(d,a),a.v=0}}function Md(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=eo(_(a.Fa,a),Cv(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Ev(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=eo(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),oc(this),Ev(this))};function Od(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Ev(a){a.g=new li(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Un(a.qa);Ue(d,"RID","rpc"),Ue(d,"SID",a.K),Ue(d,"AID",a.T),Ue(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ue(d,"TO",a.ja),Ue(d,"TYPE","xmlhttp"),uo(a,d),a.m&&a.o&&xd(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=ic(Un(d)),h.m=null,h.P=!0,Y_(h,a)}t.Za=function(){this.C!=null&&(this.C=null,oc(this),Md(this),Dt(19))};function cc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Tv(a,d){var h=null;if(a.g==d){cc(a),Od(a),a.g=null;var p=2}else if(kd(a.h,d))h=d.D,nv(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var T=a.B;p=Xa(),kt(p,new H_(p,h)),ac(a)}else Iv(a);else if(T=d.s,T==3||T==0&&0<d.X||!(p==1&&HC(a,d)||p==2&&Md(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),T){case 1:qi(a,5);break;case 4:qi(a,10);break;case 3:qi(a,6);break;default:qi(a,2)}}}function Cv(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function qi(a,d){if(a.j.info("Error code "+d),d==2){var h=_(a.fb,a),p=a.Xa;let T=!p;p=new $i(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||tc(p,"https"),ic(p),T?UC(p.toString(),h):jC(p.toString(),h)}else Dt(2);a.G=0,a.l&&a.l.sa(d),Sv(a),yv(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function Sv(a){if(a.G=0,a.ka=[],a.l){let d=iv(a.h);(d.length!=0||a.i.length!=0)&&(k(a.ka,d),k(a.ka,a.i),a.h.i.length=0,F(a.i),a.i.length=0),a.l.ra()}}function Av(a,d,h){var p=h instanceof $i?Un(h):new $i(h);if(p.g!="")d&&(p.g=d+"."+p.g),nc(p,p.s);else{var T=c.location;p=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var D=new $i(null);p&&tc(D,p),d&&(D.g=d),T&&nc(D,T),h&&(D.l=h),p=D}return h=a.D,d=a.ya,h&&d&&Ue(p,h,d),Ue(p,"VER",a.la),uo(a,p),p}function Rv(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ke(new oo({eb:h})):new Ke(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kv(){}t=kv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function lc(){}lc.prototype.g=function(a,d){return new $t(a,d)};function $t(a,d){vt.call(this),this.g=new vv(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!Q(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new xr(this)}P($t,vt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){Pd(this.g)},$t.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=bd(a),a=h);d.i.push(new kC(d.Ya++,a)),d.G==3&&ac(d)},$t.prototype.N=function(){this.g.l=null,delete this.j,Pd(this.g),delete this.g,$t.aa.N.call(this)};function Dv(a){Id.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}P(Dv,Id);function xv(){Ed.call(this),this.status=1}P(xv,Ed);function xr(a){this.g=a}P(xr,kv),xr.prototype.ua=function(){kt(this.g,"a")},xr.prototype.ta=function(a){kt(this.g,new Dv(a))},xr.prototype.sa=function(a){kt(this.g,new xv)},xr.prototype.ra=function(){kt(this.g,"b")},lc.prototype.createWebChannel=lc.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,Wp=ti.createWebChannelTransport=function(){return new lc},Hp=ti.getStatEventTarget=function(){return Xa()},Gp=ti.Event=Bi,eu=ti.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ja.NO_ERROR=0,Ja.TIMEOUT=8,Ja.HTTP_ERROR=6,pa=ti.ErrorCode=Ja,W_.COMPLETE="complete",qp=ti.EventType=W_,z_.EventType=Js,Js.OPEN="a",Js.CLOSE="b",Js.ERROR="c",Js.MESSAGE="d",vt.prototype.listen=vt.prototype.K,_s=ti.WebChannel=z_,$p=ti.FetchXmlHttpFactory=oo,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,zp=ti.XhrIo=Ke}).apply(typeof Zl<"u"?Zl:typeof self<"u"?self:typeof window<"u"?window:{});var iI="@firebase/firestore";var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var Ls="10.12.1";var yr=new Ai("@firebase/firestore");function ma(){return yr.logLevel}function W(t,...e){if(yr.logLevel<=ge.DEBUG){let i=e.map(Mg);yr.debug(`Firestore (${Ls}): ${t}`,...i)}}function ri(t,...e){if(yr.logLevel<=ge.ERROR){let i=e.map(Mg);yr.error(`Firestore (${Ls}): ${t}`,...i)}}function Ts(t,...e){if(yr.logLevel<=ge.WARN){let i=e.map(Mg);yr.warn(`Firestore (${Ls}): ${t}`,...i)}}function Mg(t){if(typeof t=="string")return t;try{return function(i){return JSON.stringify(i)}(t)}catch{return t}}function oe(t="Unexpected state"){let e=`FIRESTORE (${Ls}) INTERNAL ASSERTION FAILED: `+t;throw ri(e),new Error(e)}function Le(t,e){t||oe()}function ae(t,e){return t}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends Nt{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ni=class{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}};var su=class{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Jp=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(ht.UNAUTHENTICATED))}shutdown(){}},Zp=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},em=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){let n=this.i,r=l=>this.i!==n?(n=this.i,i(l)):Promise.resolve(),s=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ni,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>v(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ni)}},0),o()}getToken(){let e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Le(typeof n.accessToken=="string"),new su(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string"),new ht(e)}},tm=class{constructor(e,i,n){this.l=e,this.h=i,this.P=n,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},nm=class{constructor(e,i,n){this.l=e,this.h=i,this.P=n}getToken(){return Promise.resolve(new tm(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},im=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},rm=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){let n=s=>{s.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?i(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};let r=s=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Le(typeof i.token=="string"),this.R=i.token,new im(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function sM(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let n=0;n<t;n++)i[n]=Math.floor(256*Math.random());return i}var ou=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let r=sM(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<i&&(n+=e.charAt(r[s]%e.length))}return n}};function Re(t,e){return t<e?-1:t>e?1:0}function Cs(t,e,i){return t.length===e.length&&t.every((n,r)=>i(n,e[r]))}var mt=class t{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let i=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*i));return new t(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Re(this.nanoseconds,e.nanoseconds):Re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ce=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new mt(0,0))}static max(){return new t(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var au=class t{constructor(e,i,n){i===void 0?i=0:i>e.length&&oe(),n===void 0?n=e.length-i:n>e.length-i&&oe(),this.segments=e,this.offset=i,this.len=n}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let i=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(n=>{i.push(n)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,n=this.limit();i<n;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){let n=Math.min(e.length,i.length);for(let r=0;r<n;r++){let s=e.get(r),o=i.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<i.length?-1:e.length>i.length?1:0}},We=class t extends au{construct(e,i,n){return new t(e,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let i=[];for(let n of e){if(n.indexOf("//")>=0)throw new G(O.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new t(i)}static emptyPath(){return new t([])}},oM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=class t extends au{construct(e,i,n){return new t(e,i,n)}static isValidIdentifier(e){return oM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let i=[],n="",r=0,s=()=>{if(n.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""},o=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new G(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new G(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(n+=c,r++):(s(),r++)}if(s(),o)throw new G(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(i)}static emptyPath(){return new t([])}};var ie=class t{constructor(e){this.path=e}static fromPath(e){return new t(We.fromString(e))}static fromName(e){return new t(We.fromString(e).popFirst(5))}static empty(){return new t(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return We.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new We(e.slice()))}};var sm=class{constructor(e,i,n,r){this.indexId=e,this.collectionGroup=i,this.fields=n,this.indexState=r}};sm.UNKNOWN_ID=-1;function aM(t,e){let i=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,r=ce.fromTimestamp(n===1e9?new mt(i+1,0):new mt(i,n));return new br(r,ie.empty(),e)}function cM(t){return new br(t.readTime,t.key,-1)}var br=class t{constructor(e,i,n){this.readTime=e,this.documentKey=i,this.largestBatchId=n}static min(){return new t(ce.min(),ie.empty(),-1)}static max(){return new t(ce.max(),ie.empty(),-1)}};function lM(t,e){let i=t.readTime.compareTo(e.readTime);return i!==0?i:(i=ie.comparator(t.documentKey,e.documentKey),i!==0?i:Re(t.largestBatchId,e.largestBatchId))}var uM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",om=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ma(t){return v(this,null,function*(){if(t.code!==O.FAILED_PRECONDITION||t.message!==uM)throw t;W("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new t((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(i,s).next(n,r)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{let i=e();return i instanceof t?i:t.resolve(i)}catch(i){return t.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):t.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):t.reject(i)}static resolve(e){return new t((i,n)=>{i(e)})}static reject(e){return new t((i,n)=>{n(e)})}static waitFor(e){return new t((i,n)=>{let r=0,s=0,o=!1;e.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&i()},l=>n(l))}),o=!0,s===r&&i()})}static or(e){let i=t.resolve(!1);for(let n of e)i=i.next(r=>r?t.resolve(r):n());return i}static forEach(e,i){let n=[];return e.forEach((r,s)=>{n.push(i.call(this,r,s))}),this.waitFor(n)}static mapArray(e,i){return new t((n,r)=>{let s=e.length,o=new Array(s),c=0;for(let l=0;l<s;l++){let u=l;i(e[u]).next(f=>{o[u]=f,++c,c===s&&n(o)},f=>r(f))}})}static doWhile(e,i){return new t((n,r)=>{let s=()=>{e()===!0?i().next(()=>{s()},r):n()};s()})}};function dM(t){let e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Oa(t){return t.name==="IndexedDbTransactionError"}var FI=(()=>{class t{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){let i=++this.previousValue;return this.se&&this.se(i),i}}return t.oe=-1,t})();function Fu(t){return t==null}function wa(t){return t===0&&1/t==-1/0}function hM(t){return typeof t=="number"&&Number.isInteger(t)&&!wa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var fM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Dz=[...fM,"documentOverlays"],pM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mM=pM,xz=[...mM,"indexConfiguration","indexState","indexEntries"];function rI(t){let e=0;for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&e++;return e}function Sr(t,e){for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(i,t[i])}function VI(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ye=class t{constructor(e,i){this.comparator=e,this.root=i||Pn.EMPTY}insert(e,i){return new t(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){let n=this.comparator(e,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(e){let i=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,n)=>(e(i,n),!1))}toString(){let e=[];return this.inorderTraversal((i,n)=>(e.push(`${i}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ws(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ws(this.root,e,this.comparator,!1)}getReverseIterator(){return new ws(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ws(this.root,e,this.comparator,!0)}},ws=class{constructor(e,i,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=i?n(e.key,i):1,i&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pn=class t{constructor(e,i,n,r,s){this.key=e,this.value=i,this.color=n??t.RED,this.left=r??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,n,r,s){return new t(e??this.key,i??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,n){let r=this,s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,i,n),null):s===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(e,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let n,r=this;if(i(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();let e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}};Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,i,n,r,s){return this}insert(e,i,n){return new Pn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Rt=class t{constructor(e){this.comparator=e,this.data=new Ye(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,n)=>(e(i),!1))}forEachInRange(e,i){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;i(r.key)}}forEachWhile(e,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new cu(this.data.getIterator())}getIteratorFrom(e){return new cu(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(n=>{i=i.add(n)}),i}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let i=this.data.getIterator(),n=e.data.getIterator();for(;i.hasNext();){let r=i.getNext().key,s=n.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(i=>{e.push(i)}),e}toString(){let e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){let i=new t(this.comparator);return i.data=e,i}},cu=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var sn=class t{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new t([])}unionWith(e){let i=new Rt(Yt.comparator);for(let n of this.fields)i=i.add(n);for(let n of e)i=i.add(n);return new t(i.toArray())}covers(e){for(let i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Cs(this.fields,e.fields,(i,n)=>i.isEqual(n))}};var lu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ft=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let i=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lu("Invalid base64 string: "+s):s}}(e);return new t(i)}static fromUint8Array(e){let i=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new t(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ft.EMPTY_BYTE_STRING=new Ft("");var gM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(t){if(Le(!!t),typeof t=="string"){let e=0,i=gM.exec(t);if(Le(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),e=Number(r)}let n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vi(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}function Og(t){var e,i;return((i=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Ng(t){let e=t.mapValue.fields.__previous_value__;return Og(e)?Ng(e):e}function Ia(t){let e=si(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}var am=class{constructor(e,i,n,r,s,o,c,l,u){this.databaseId=e,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u}},uu=class t{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Og(t)?4:LI(t)?9007199254740991:10:oe()}function Nn(t,e){if(t===e)return!0;let i=wr(t);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ia(t).isEqual(Ia(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=si(r.timestampValue),c=si(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Vi(r.bytesValue).isEqual(Vi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Qe(r.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(r.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Qe(r.integerValue)===Qe(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Qe(r.doubleValue),c=Qe(s.doubleValue);return o===c?wa(o)===wa(c):isNaN(o)&&isNaN(c)}return!1}(t,e);case 9:return Cs(t.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:return function(r,s){let o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(rI(o)!==rI(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!Nn(o[l],c[l])))return!1;return!0}(t,e);default:return oe()}}function Ea(t,e){return(t.values||[]).find(i=>Nn(i,e))!==void 0}function Ss(t,e){if(t===e)return 0;let i=wr(t),n=wr(e);if(i!==n)return Re(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return Re(t.booleanValue,e.booleanValue);case 2:return function(s,o){let c=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return sI(t.timestampValue,e.timestampValue);case 4:return sI(Ia(t),Ia(e));case 5:return Re(t.stringValue,e.stringValue);case 6:return function(s,o){let c=Vi(s),l=Vi(o);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let c=s.split("/"),l=o.split("/");for(let u=0;u<c.length&&u<l.length;u++){let f=Re(c[u],l[u]);if(f!==0)return f}return Re(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let c=Re(Qe(s.latitude),Qe(o.latitude));return c!==0?c:Re(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let c=s.values||[],l=o.values||[];for(let u=0;u<c.length&&u<l.length;++u){let f=Ss(c[u],l[u]);if(f)return f}return Re(c.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===tu.mapValue&&o===tu.mapValue)return 0;if(s===tu.mapValue)return 1;if(o===tu.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),u=o.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let m=0;m<l.length&&m<f.length;++m){let _=Re(l[m],f[m]);if(_!==0)return _;let C=Ss(c[l[m]],u[f[m]]);if(C!==0)return C}return Re(l.length,f.length)}(t.mapValue,e.mapValue);default:throw oe()}}function sI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Re(t,e);let i=si(t),n=si(e),r=Re(i.seconds,n.seconds);return r!==0?r:Re(i.nanos,n.nanos)}function As(t){return cm(t)}function cm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){let n=si(i);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(i){return Vi(i).toBase64()}(t.bytesValue):"referenceValue"in t?function(i){return ie.fromName(i).toString()}(t.referenceValue):"geoPointValue"in t?function(i){return`geo(${i.latitude},${i.longitude})`}(t.geoPointValue):"arrayValue"in t?function(i){let n="[",r=!0;for(let s of i.values||[])r?r=!1:n+=",",n+=cm(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(i){let n=Object.keys(i.fields||{}).sort(),r="{",s=!0;for(let o of n)s?s=!1:r+=",",r+=`${o}:${cm(i.fields[o])}`;return r+"}"}(t.mapValue):oe()}function oI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lm(t){return!!t&&"integerValue"in t}function Fg(t){return!!t&&"arrayValue"in t}function aI(t){return!!t&&"nullValue"in t}function cI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iu(t){return!!t&&"mapValue"in t}function _a(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Sr(t.mapValue.fields,(i,n)=>e.mapValue.fields[i]=_a(n)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let i=0;i<(t.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=_a(t.arrayValue.values[i]);return e}return Object.assign({},t)}function LI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Qt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let n=0;n<e.length-1;++n)if(i=(i.mapValue.fields||{})[e.get(n)],!iu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=_a(i)}setAll(e){let i=Yt.emptyPath(),n={},r=[];e.forEach((o,c)=>{if(!i.isImmediateParentOf(c)){let l=this.getFieldsMap(i);this.applyChanges(l,n,r),n={},r=[],i=c.popLast()}o?n[c.lastSegment()]=_a(o):r.push(c.lastSegment())});let s=this.getFieldsMap(i);this.applyChanges(s,n,r)}delete(e){let i=this.field(e.popLast());iu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=i.mapValue.fields[e.get(n)];iu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[e.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(e,i,n){Sr(i,(r,s)=>e[r]=s);for(let r of n)delete e[r]}clone(){return new t(_a(this.value))}};function UI(t){let e=[];return Sr(t.fields,(i,n)=>{let r=new Yt([i]);if(iu(n)){let s=UI(n.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new sn(e)}var _n=class t{constructor(e,i,n,r,s,o,c){this.key=e,this.documentType=i,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ce.min(),ce.min(),ce.min(),Qt.empty(),0)}static newFoundDocument(e,i,n,r){return new t(e,1,i,ce.min(),n,r,0)}static newNoDocument(e,i){return new t(e,2,i,ce.min(),ce.min(),Qt.empty(),0)}static newUnknownDocument(e,i){return new t(e,3,i,ce.min(),ce.min(),Qt.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Rs=class{constructor(e,i){this.position=e,this.inclusive=i}};function lI(t,e,i){let n=0;for(let r=0;r<t.position.length;r++){let s=e[r],o=t.position[r];if(s.field.isKeyField()?n=ie.comparator(ie.fromName(o.referenceValue),i.key):n=Ss(o,i.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function uI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let i=0;i<t.position.length;i++)if(!Nn(t.position[i],e.position[i]))return!1;return!0}var ks=class{constructor(e,i="asc"){this.field=e,this.dir=i}};function _M(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var du=class{},at=class t extends du{constructor(e,i,n){super(),this.field=e,this.op=i,this.value=n}static create(e,i,n){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,n):new dm(e,i,n):i==="array-contains"?new pm(e,n):i==="in"?new mm(e,n):i==="not-in"?new gm(e,n):i==="array-contains-any"?new _m(e,n):new t(e,i,n)}static createKeyFieldInFilter(e,i,n){return i==="in"?new hm(e,n):new fm(e,n)}matches(e){let i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ss(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(Ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},vn=class t extends du{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new t(e,i)}matches(e){return jI(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function jI(t){return t.op==="and"}function BI(t){return vM(t)&&jI(t)}function vM(t){for(let e of t.filters)if(e instanceof vn)return!1;return!0}function um(t){if(t instanceof at)return t.field.canonicalString()+t.op.toString()+As(t.value);if(BI(t))return t.filters.map(e=>um(e)).join(",");{let e=t.filters.map(i=>um(i)).join(",");return`${t.op}(${e})`}}function zI(t,e){return t instanceof at?function(n,r){return r instanceof at&&n.op===r.op&&n.field.isEqual(r.field)&&Nn(n.value,r.value)}(t,e):t instanceof vn?function(n,r){return r instanceof vn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,o,c)=>s&&zI(o,r.filters[c]),!0):!1}(t,e):void oe()}function $I(t){return t instanceof at?function(i){return`${i.field.canonicalString()} ${i.op} ${As(i.value)}`}(t):t instanceof vn?function(i){return i.op.toString()+" {"+i.getFilters().map($I).join(" ,")+"}"}(t):"Filter"}var dm=class extends at{constructor(e,i,n){super(e,i,n),this.key=ie.fromName(n.referenceValue)}matches(e){let i=ie.comparator(e.key,this.key);return this.matchesComparison(i)}},hm=class extends at{constructor(e,i){super(e,"in",i),this.keys=qI("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}},fm=class extends at{constructor(e,i){super(e,"not-in",i),this.keys=qI("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}};function qI(t,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>ie.fromName(n.referenceValue))}var pm=class extends at{constructor(e,i){super(e,"array-contains",i)}matches(e){let i=e.data.field(this.field);return Fg(i)&&Ea(i.arrayValue,this.value)}},mm=class extends at{constructor(e,i){super(e,"in",i)}matches(e){let i=e.data.field(this.field);return i!==null&&Ea(this.value.arrayValue,i)}},gm=class extends at{constructor(e,i){super(e,"not-in",i)}matches(e){if(Ea(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let i=e.data.field(this.field);return i!==null&&!Ea(this.value.arrayValue,i)}},_m=class extends at{constructor(e,i){super(e,"array-contains-any",i)}matches(e){let i=e.data.field(this.field);return!(!Fg(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>Ea(this.value.arrayValue,n))}};var vm=class{constructor(e,i=null,n=[],r=[],s=null,o=null,c=null){this.path=e,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function dI(t,e=null,i=[],n=[],r=null,s=null,o=null){return new vm(t,e,i,n,r,s,o)}function Vg(t){let e=ae(t);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(n=>um(n)).join(","),i+="|ob:",i+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Fu(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(n=>As(n)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(n=>As(n)).join(",")),e.ue=i}return e.ue}function Lg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!_M(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(!zI(t.filters[i],e.filters[i]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uI(t.startAt,e.startAt)&&uI(t.endAt,e.endAt)}function ym(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ir=class{constructor(e,i=null,n=[],r=[],s=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function yM(t,e,i,n,r,s,o,c){return new Ir(t,e,i,n,r,s,o,c)}function Ug(t){return new Ir(t)}function hI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function GI(t){return t.collectionGroup!==null}function va(t){let e=ae(t);if(e.ce===null){e.ce=[];let i=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),i.add(s.field.canonicalString());let n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new Rt(Yt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(e).forEach(s=>{i.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ks(s,n))}),i.has(Yt.keyField().canonicalString())||e.ce.push(new ks(Yt.keyField(),n))}return e.ce}function Mn(t){let e=ae(t);return e.le||(e.le=bM(e,va(t))),e.le}function bM(t,e){if(t.limitType==="F")return dI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new ks(r.field,s)});let i=t.endAt?new Rs(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Rs(t.startAt.position,t.startAt.inclusive):null;return dI(t.path,t.collectionGroup,e,t.filters,t.limit,i,n)}}function bm(t,e){let i=t.filters.concat([e]);return new Ir(t.path,t.collectionGroup,t.explicitOrderBy.slice(),i,t.limit,t.limitType,t.startAt,t.endAt)}function wm(t,e,i){return new Ir(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,i,t.startAt,t.endAt)}function Vu(t,e){return Lg(Mn(t),Mn(e))&&t.limitType===e.limitType}function HI(t){return`${Vg(Mn(t))}|lt:${t.limitType}`}function vs(t){return`Query(target=${function(i){let n=i.path.canonicalString();return i.collectionGroup!==null&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>$I(r)).join(", ")}]`),Fu(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),i.startAt&&(n+=", startAt: ",n+=i.startAt.inclusive?"b:":"a:",n+=i.startAt.position.map(r=>As(r)).join(",")),i.endAt&&(n+=", endAt: ",n+=i.endAt.inclusive?"a:":"b:",n+=i.endAt.position.map(r=>As(r)).join(",")),`Target(${n})`}(Mn(t))}; limitType=${t.limitType})`}function Lu(t,e){return e.isFoundDocument()&&function(n,r){let s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ie.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(let s of va(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(let s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(o,c,l){let u=lI(o,c,l);return o.inclusive?u<=0:u<0}(n.startAt,va(n),r)||n.endAt&&!function(o,c,l){let u=lI(o,c,l);return o.inclusive?u>=0:u>0}(n.endAt,va(n),r))}(t,e)}function wM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WI(t){return(e,i)=>{let n=!1;for(let r of va(t)){let s=IM(r,e,i);if(s!==0)return s;n=n||r.field.isKeyField()}return 0}}function IM(t,e,i){let n=t.field.isKeyField()?ie.comparator(e.key,i.key):function(s,o,c){let l=o.data.field(s),u=c.data.field(s);return l!==null&&u!==null?Ss(l,u):oe()}(t.field,e,i);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return oe()}}var Li=class{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){let i=this.mapKeyFn(e),n=this.inner[i];if(n!==void 0){for(let[r,s]of n)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,i){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,i]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,i]);r.push([e,i]),this.innerSize++}delete(e){let i=this.mapKeyFn(e),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[i]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,(i,n)=>{for(let[r,s]of n)e(r,s)})}isEmpty(){return VI(this.inner)}size(){return this.innerSize}};var EM=new Ye(ie.comparator);function oi(){return EM}var KI=new Ye(ie.comparator);function ga(...t){let e=KI;for(let i of t)e=e.insert(i.key,i);return e}function QI(t){let e=KI;return t.forEach((i,n)=>e=e.insert(i,n.overlayedDocument)),e}function gr(){return ya()}function YI(){return ya()}function ya(){return new Li(t=>t.toString(),(t,e)=>t.isEqual(e))}var TM=new Ye(ie.comparator),CM=new Rt(ie.comparator);function _e(...t){let e=CM;for(let i of t)e=e.add(i);return e}var SM=new Rt(Re);function AM(){return SM}function XI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wa(e)?"-0":e}}function JI(t){return{integerValue:""+t}}function RM(t,e){return hM(e)?JI(e):XI(t,e)}var Ds=class{constructor(){this._=void 0}};function kM(t,e,i){return t instanceof xs?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Og(s)&&(s=Ng(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(i,e):t instanceof Er?eE(t,e):t instanceof Tr?tE(t,e):function(r,s){let o=ZI(r,s),c=fI(o)+fI(r.Pe);return lm(o)&&lm(r.Pe)?JI(c):XI(r.serializer,c)}(t,e)}function DM(t,e,i){return t instanceof Er?eE(t,e):t instanceof Tr?tE(t,e):i}function ZI(t,e){return t instanceof Ps?function(n){return lm(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}var xs=class extends Ds{},Er=class extends Ds{constructor(e){super(),this.elements=e}};function eE(t,e){let i=nE(e);for(let n of t.elements)i.some(r=>Nn(r,n))||i.push(n);return{arrayValue:{values:i}}}var Tr=class extends Ds{constructor(e){super(),this.elements=e}};function tE(t,e){let i=nE(e);for(let n of t.elements)i=i.filter(r=>!Nn(r,n));return{arrayValue:{values:i}}}var Ps=class extends Ds{constructor(e,i){super(),this.serializer=e,this.Pe=i}};function fI(t){return Qe(t.integerValue||t.doubleValue)}function nE(t){return Fg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function xM(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Er&&r instanceof Er||n instanceof Tr&&r instanceof Tr?Cs(n.elements,r.elements,Nn):n instanceof Ps&&r instanceof Ps?Nn(n.Pe,r.Pe):n instanceof xs&&r instanceof xs}(t.transform,e.transform)}var Im=class{constructor(e,i){this.version=e,this.transformResults=i}},ii=class t{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function ru(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ms=class{};function iE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ta(t.key,ii.none()):new Cr(t.key,t.data,ii.none());{let i=t.data,n=Qt.empty(),r=new Rt(Yt.comparator);for(let s of e.fields)if(!r.has(s)){let o=i.field(s);o===null&&s.length>1&&(s=s.popLast(),o=i.field(s)),o===null?n.delete(s):n.set(s,o),r=r.add(s)}return new Fn(t.key,n,new sn(r.toArray()),ii.none())}}function PM(t,e,i){t instanceof Cr?function(r,s,o){let c=r.value.clone(),l=mI(r.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,i):t instanceof Fn?function(r,s,o){if(!ru(r.precondition,s))return void s.convertToUnknownDocument(o.version);let c=mI(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(rE(r)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,i):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,i)}function ba(t,e,i,n){return t instanceof Cr?function(s,o,c,l){if(!ru(s.precondition,o))return c;let u=s.value.clone(),f=gI(s.fieldTransforms,l,o);return u.setAll(f),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,i,n):t instanceof Fn?function(s,o,c,l){if(!ru(s.precondition,o))return c;let u=gI(s.fieldTransforms,l,o),f=o.data;return f.setAll(rE(s)),f.setAll(u),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,i,n):function(s,o,c){return ru(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(t,e,i)}function MM(t,e){let i=null;for(let n of t.fieldTransforms){let r=e.data.field(n.field),s=ZI(n.transform,r||null);s!=null&&(i===null&&(i=Qt.empty()),i.set(n.field,s))}return i||null}function pI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Cs(n,r,(s,o)=>xM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Cr=class extends Ms{constructor(e,i,n,r=[]){super(),this.key=e,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Fn=class extends Ms{constructor(e,i,n,r,s=[]){super(),this.key=e,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function rE(t){let e=new Map;return t.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let n=t.data.field(i);e.set(i,n)}}),e}function mI(t,e,i){let n=new Map;Le(t.length===i.length);for(let r=0;r<i.length;r++){let s=t[r],o=s.transform,c=e.data.field(s.field);n.set(s.field,DM(o,c,i[r]))}return n}function gI(t,e,i){let n=new Map;for(let r of t){let s=r.transform,o=i.data.field(r.field);n.set(r.field,kM(s,o,e))}return n}var Ta=class extends Ms{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Em=class extends Ms{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Tm=class{constructor(e,i,n,r){this.batchId=e,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,i){let n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&PM(s,e,n[r])}}applyToLocalView(e,i){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(i=ba(n,e,i,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(i=ba(n,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){let n=YI();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=i.has(r.key)?null:c;let l=iE(o,c);l!==null&&n.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),n}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),_e())}isEqual(e){return this.batchId===e.batchId&&Cs(this.mutations,e.mutations,(i,n)=>pI(i,n))&&Cs(this.baseMutations,e.baseMutations,(i,n)=>pI(i,n))}},Cm=class t{constructor(e,i,n,r){this.batch=e,this.commitVersion=i,this.mutationResults=n,this.docVersions=r}static from(e,i,n){Le(e.mutations.length===n.length);let r=function(){return TM}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new t(e,i,n,r)}};var Sm=class{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Am=class{constructor(e,i){this.count=e,this.unchangedNames=i}};var st,be;function OM(t){switch(t){default:return oe();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function sE(t){if(t===void 0)return ri("GRPC error has no .code"),O.UNKNOWN;switch(t){case st.OK:return O.OK;case st.CANCELLED:return O.CANCELLED;case st.UNKNOWN:return O.UNKNOWN;case st.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case st.INTERNAL:return O.INTERNAL;case st.UNAVAILABLE:return O.UNAVAILABLE;case st.UNAUTHENTICATED:return O.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case st.NOT_FOUND:return O.NOT_FOUND;case st.ALREADY_EXISTS:return O.ALREADY_EXISTS;case st.PERMISSION_DENIED:return O.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case st.ABORTED:return O.ABORTED;case st.OUT_OF_RANGE:return O.OUT_OF_RANGE;case st.UNIMPLEMENTED:return O.UNIMPLEMENTED;case st.DATA_LOSS:return O.DATA_LOSS;default:return oe()}}(be=st||(st={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var _I=null;function NM(){return new TextEncoder}var FM=new Oi([4294967295,4294967295],0);function vI(t){let e=NM().encode(t),i=new Bp;return i.update(e),new Uint8Array(i.digest())}function yI(t){let e=new DataView(t.buffer),i=e.getUint32(0,!0),n=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Oi([i,n],0),new Oi([r,s],0)]}var Rm=class t{constructor(e,i,n){if(this.bitmap=e,this.padding=i,this.hashCount=n,i<0||i>=8)throw new _r(`Invalid padding: ${i}`);if(n<0)throw new _r(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new _r(`Invalid hash count: ${n}`);if(e.length===0&&i!==0)throw new _r(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=Oi.fromNumber(this.Ie)}Ee(e,i,n){let r=e.add(i.multiply(Oi.fromNumber(n)));return r.compare(FM)===1&&(r=new Oi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let i=vI(e),[n,r]=yI(i);for(let s=0;s<this.hashCount;s++){let o=this.Ee(n,r,s);if(!this.de(o))return!1}return!0}static create(e,i,n){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,r,i);return n.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let i=vI(e),[n,r]=yI(i);for(let s=0;s<this.hashCount;s++){let o=this.Ee(n,r,s);this.Ae(o)}}Ae(e){let i=Math.floor(e/8),n=e%8;this.bitmap[i]|=1<<n}},_r=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var hu=class t{constructor(e,i,n,r,s){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,i,n){let r=new Map;return r.set(e,Ca.createSynthesizedTargetChangeForCurrentChange(e,i,n)),new t(ce.min(),r,new Ye(Re),oi(),_e())}},Ca=class t{constructor(e,i,n,r,s){this.resumeToken=e,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,i,n){return new t(n,i,_e(),_e(),_e())}};var Is=class{constructor(e,i,n,r){this.Re=e,this.removedTargetIds=i,this.key=n,this.Ve=r}},fu=class{constructor(e,i){this.targetId=e,this.me=i}},pu=class{constructor(e,i,n=Ft.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=i,this.resumeToken=n,this.cause=r}},mu=class{constructor(){this.fe=0,this.ge=wI(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=_e(),i=_e(),n=_e();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:oe()}}),new Ca(this.pe,this.ye,e,i,n)}ve(){this.we=!1,this.ge=wI()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Le(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},km=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=oi(),this.qe=bI(),this.Qe=new Ye(Re)}Ke(e){for(let i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(let i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,i=>{let n=this.Ge(i);switch(e.state){case 0:this.ze(i)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),n.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach((n,r)=>{this.ze(r)&&i(r)})}He(e){let i=e.targetId,n=e.me.count,r=this.Je(i);if(r){let s=r.target;if(ym(s))if(n===0){let o=new ie(s.path);this.Ue(i,o,_n.newNoDocument(o,ce.min()))}else Le(n===1);else{let o=this.Ye(i);if(o!==n){let c=this.Ze(e),l=c?this.Xe(c,e,o):1;if(l!==0){this.je(i);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,u)}_I?.et(function(f,m,_,C,P){var F,k,U,Q,Z,X;let Ne={localCacheCount:f,existenceFilterCount:m.count,databaseId:_.database,projectId:_.projectId},le=m.unchangedNames;return le&&(Ne.bloomFilter={applied:P===0,hashCount:(F=le?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(Q=(U=(k=le?.bits)===null||k===void 0?void 0:k.bitmap)===null||U===void 0?void 0:U.length)!==null&&Q!==void 0?Q:0,padding:(X=(Z=le?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&X!==void 0?X:0,mightContain:I=>{var g;return(g=C?.mightContain(I))!==null&&g!==void 0&&g}}),Ne}(o,e.me,this.Le.tt(),c,l))}}}}Ze(e){let i=e.me.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=i,o,c;try{o=Vi(n).toUint8Array()}catch(l){if(l instanceof lu)return Ts("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Rm(o,r,s)}catch(l){return Ts(l instanceof _r?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(e,i,n){return i.me.count===n-this.nt(e,i.targetId)?0:2}nt(e,i){let n=this.Le.getRemoteKeysForTarget(i),r=0;return n.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(c)||(this.Ue(i,s,null),r++)}),r}rt(e){let i=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&ym(c.target)){let l=new ie(c.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,_n.newNoDocument(l,e))}s.be&&(i.set(o,s.Ce()),s.ve())}});let n=_e();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new hu(e,i,this.Qe,this.ke,n);return this.ke=oi(),this.qe=bI(),this.Qe=new Ye(Re),r}$e(e,i){if(!this.ze(e))return;let n=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,n),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,n){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,i)?r.Fe(i,1):r.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),n&&(this.ke=this.ke.insert(i,n))}removeTarget(e){this.Be.delete(e)}Ye(e){let i=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new mu,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Rt(Re),this.qe=this.qe.insert(e,i)),i}ze(e){let i=this.Je(e)!==null;return i||W("WatchChangeAggregator","Detected inactive target",e),i}Je(e){let i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new mu),this.Le.getRemoteKeysForTarget(e).forEach(i=>{this.Ue(e,i,null)})}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}};function bI(){return new Ye(ie.comparator)}function wI(){return new Ye(ie.comparator)}var VM={asc:"ASCENDING",desc:"DESCENDING"},LM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UM={and:"AND",or:"OR"},Dm=class{constructor(e,i){this.databaseId=e,this.useProto3Json=i}};function xm(t,e){return t.useProto3Json||Fu(e)?e:{value:e}}function gu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jM(t,e){return gu(t,e.toTimestamp())}function On(t){return Le(!!t),ce.fromTimestamp(function(i){let n=si(i);return new mt(n.seconds,n.nanos)}(t))}function jg(t,e){return Pm(t,e).canonicalString()}function Pm(t,e){let i=function(r){return new We(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?i:i.child(e)}function aE(t){let e=We.fromString(t);return Le(hE(e)),e}function Mm(t,e){return jg(t.databaseId,e.path)}function Kp(t,e){let i=aE(e);if(i.get(1)!==t.databaseId.projectId)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+t.databaseId.projectId);if(i.get(3)!==t.databaseId.database)throw new G(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+t.databaseId.database);return new ie(lE(i))}function cE(t,e){return jg(t.databaseId,e)}function BM(t){let e=aE(t);return e.length===4?We.emptyPath():lE(e)}function Om(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lE(t){return Le(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function II(t,e,i){return{name:Mm(t,e),fields:i.value.mapValue.fields}}function zM(t,e){let i;if("targetChange"in e){e.targetChange;let n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Le(f===void 0||typeof f=="string"),Ft.fromBase64String(f||"")):(Le(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ft.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(u){let f=u.code===void 0?O.UNKNOWN:sE(u.code);return new G(f,u.message||"")}(o);i=new pu(n,r,s,c||null)}else if("documentChange"in e){e.documentChange;let n=e.documentChange;n.document,n.document.name,n.document.updateTime;let r=Kp(t,n.document.name),s=On(n.document.updateTime),o=n.document.createTime?On(n.document.createTime):ce.min(),c=new Qt({mapValue:{fields:n.document.fields}}),l=_n.newFoundDocument(r,s,o,c),u=n.targetIds||[],f=n.removedTargetIds||[];i=new Is(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;let n=e.documentDelete;n.document;let r=Kp(t,n.document),s=n.readTime?On(n.readTime):ce.min(),o=_n.newNoDocument(r,s),c=n.removedTargetIds||[];i=new Is([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let n=e.documentRemove;n.document;let r=Kp(t,n.document),s=n.removedTargetIds||[];i=new Is([],s,r,null)}else{if(!("filter"in e))return oe();{e.filter;let n=e.filter;n.targetId;let{count:r=0,unchangedNames:s}=n,o=new Am(r,s),c=n.targetId;i=new fu(c,o)}}return i}function $M(t,e){let i;if(e instanceof Cr)i={update:II(t,e.key,e.value)};else if(e instanceof Ta)i={delete:Mm(t,e.key)};else if(e instanceof Fn)i={update:II(t,e.key,e.data),updateMask:JM(e.fieldMask)};else{if(!(e instanceof Em))return oe();i={verify:Mm(t,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(n=>function(s,o){let c=o.transform;if(c instanceof xs)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Er)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Tr)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ps)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw oe()}(0,n))),e.precondition.isNone||(i.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:jM(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:oe()}(t,e.precondition)),i}function qM(t,e){return t&&t.length>0?(Le(e!==void 0),t.map(i=>function(r,s){let o=r.updateTime?On(r.updateTime):On(s);return o.isEqual(ce.min())&&(o=On(s)),new Im(o,r.transformResults||[])}(i,e))):[]}function GM(t,e){return{documents:[cE(t,e.path)]}}function HM(t,e){let i={structuredQuery:{}},n=e.path,r;e.collectionGroup!==null?(r=n,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=n.popLast(),i.structuredQuery.from=[{collectionId:n.lastSegment()}]),i.parent=cE(t,r);let s=function(u){if(u.length!==0)return dE(vn.create(u,"and"))}(e.filters);s&&(i.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(f=>function(_){return{field:ys(_.field),direction:QM(_.dir)}}(f))}(e.orderBy);o&&(i.structuredQuery.orderBy=o);let c=xm(t,e.limit);return c!==null&&(i.structuredQuery.limit=c),e.startAt&&(i.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:i,parent:r}}function WM(t){let e=BM(t.parent),i=t.structuredQuery,n=i.from?i.from.length:0,r=null;if(n>0){Le(n===1);let f=i.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let s=[];i.where&&(s=function(m){let _=uE(m);return _ instanceof vn&&BI(_)?_.getFilters():[_]}(i.where));let o=[];i.orderBy&&(o=function(m){return m.map(_=>function(P){return new ks(bs(P.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(_))}(i.orderBy));let c=null;i.limit&&(c=function(m){let _;return _=typeof m=="object"?m.value:m,Fu(_)?null:_}(i.limit));let l=null;i.startAt&&(l=function(m){let _=!!m.before,C=m.values||[];return new Rs(C,_)}(i.startAt));let u=null;return i.endAt&&(u=function(m){let _=!m.before,C=m.values||[];return new Rs(C,_)}(i.endAt)),yM(e,r,o,s,c,"F",l,u)}function KM(t,e){let i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function uE(t){return t.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":let n=bs(i.unaryFilter.field);return at.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=bs(i.unaryFilter.field);return at.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=bs(i.unaryFilter.field);return at.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=bs(i.unaryFilter.field);return at.create(o,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(i){return at.create(bs(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(i.fieldFilter.op),i.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(i){return vn.create(i.compositeFilter.filters.map(n=>uE(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return oe()}}(i.compositeFilter.op))}(t):oe()}function QM(t){return VM[t]}function YM(t){return LM[t]}function XM(t){return UM[t]}function ys(t){return{fieldPath:t.canonicalString()}}function bs(t){return Yt.fromServerFormat(t.fieldPath)}function dE(t){return t instanceof at?function(i){if(i.op==="=="){if(cI(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(aI(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(cI(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(aI(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:YM(i.op),value:i.value}}}(t):t instanceof vn?function(i){let n=i.getFilters().map(r=>dE(r));return n.length===1?n[0]:{compositeFilter:{op:XM(i.op),filters:n}}}(t):oe()}function JM(t){let e=[];return t.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function hE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Sa=class t{constructor(e,i,n,r,s=ce.min(),o=ce.min(),c=Ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Nm=class{constructor(e){this.ct=e}};function ZM(t){let e=WM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wm(e,e.limit,"L"):e}var _u=class{constructor(){}Pt(e,i){this.It(e,i),i.Tt()}It(e,i){if("nullValue"in e)this.Et(i,5);else if("booleanValue"in e)this.Et(i,10),i.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(i,15),i.dt(Qe(e.integerValue));else if("doubleValue"in e){let n=Qe(e.doubleValue);isNaN(n)?this.Et(i,13):(this.Et(i,15),wa(n)?i.dt(0):i.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(i,20),typeof n=="string"&&(n=si(n)),i.At(`${n.seconds||""}`),i.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,i),this.Vt(i);else if("bytesValue"in e)this.Et(i,30),i.ft(Vi(e.bytesValue)),this.Vt(i);else if("referenceValue"in e)this.gt(e.referenceValue,i);else if("geoPointValue"in e){let n=e.geoPointValue;this.Et(i,45),i.dt(n.latitude||0),i.dt(n.longitude||0)}else"mapValue"in e?LI(e)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,i),this.Vt(i)):"arrayValue"in e?(this.wt(e.arrayValue,i),this.Vt(i)):oe()}Rt(e,i){this.Et(i,25),this.St(e,i)}St(e,i){i.At(e)}yt(e,i){let n=e.fields||{};this.Et(i,55);for(let r of Object.keys(n))this.Rt(r,i),this.It(n[r],i)}wt(e,i){let n=e.values||[];this.Et(i,50);for(let r of n)this.It(r,i)}gt(e,i){this.Et(i,37),ie.fromName(e).path.forEach(n=>{this.Et(i,60),this.St(n,i)})}Et(e,i){e.dt(i)}Vt(e){e.dt(2)}};_u.bt=new _u;var Fm=class{constructor(){this._n=new Vm}addToCollectionParentIndex(e,i){return this._n.add(i),L.resolve()}getCollectionParents(e,i){return L.resolve(this._n.getEntries(i))}addFieldIndex(e,i){return L.resolve()}deleteFieldIndex(e,i){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,i){return L.resolve()}getDocumentsMatchingTarget(e,i){return L.resolve(null)}getIndexType(e,i){return L.resolve(0)}getFieldIndexes(e,i){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,i){return L.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return L.resolve(br.min())}updateCollectionGroup(e,i,n){return L.resolve()}updateIndexEntries(e,i){return L.resolve()}},Vm=class{constructor(){this.index={}}add(e){let i=e.lastSegment(),n=e.popLast(),r=this.index[i]||new Rt(We.comparator),s=!r.has(n);return this.index[i]=r.add(n),s}has(e){let i=e.lastSegment(),n=e.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Rt(We.comparator)).toArray()}};var Mz=new Uint8Array(0);var xn=class t{constructor(e,i,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);var Aa=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Lm=class{constructor(){this.changes=new Li(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();let n=this.changes.get(i);return n!==void 0?L.resolve(n):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Um=class{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}};var jm=class{constructor(e,i,n,r){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,i){let n=null;return this.documentOverlayCache.getOverlay(e,i).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,i))).next(r=>(n!==null&&ba(n.mutation,r,sn.empty(),mt.now()),r))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.getLocalViewOfDocuments(e,n,_e()).next(()=>n))}getLocalViewOfDocuments(e,i,n=_e()){let r=gr();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,n).next(s=>{let o=ga();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,i){let n=gr();return this.populateOverlays(e,n,i).next(()=>this.computeViews(e,i,n,_e()))}populateOverlays(e,i,n){let r=[];return n.forEach(s=>{i.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,c)=>{i.set(o,c)})})}computeViews(e,i,n,r){let s=oi(),o=ya(),c=function(){return ya()}();return i.forEach((l,u)=>{let f=n.get(u.key);r.has(u.key)&&(f===void 0||f.mutation instanceof Fn)?s=s.insert(u.key,u):f!==void 0?(o.set(u.key,f.mutation.getFieldMask()),ba(f.mutation,u,f.mutation.getFieldMask(),mt.now())):o.set(u.key,sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,f)=>o.set(u,f)),i.forEach((u,f)=>{var m;return c.set(u,new Um(f,(m=o.get(u))!==null&&m!==void 0?m:null))}),c))}recalculateAndSaveOverlays(e,i){let n=ya(),r=new Ye((o,c)=>o-c),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(o=>{for(let c of o)c.keys().forEach(l=>{let u=i.get(l);if(u===null)return;let f=n.get(l)||sn.empty();f=c.applyToLocalView(u,f),n.set(l,f);let m=(r.get(c.batchId)||_e()).add(l);r=r.insert(c.batchId,m)})}).next(()=>{let o=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),u=l.key,f=l.value,m=YI();f.forEach(_=>{if(!s.has(_)){let C=iE(i.get(_),n.get(_));C!==null&&m.set(_,C),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return L.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,i,n,r){return function(o){return ie.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):GI(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,n,r):this.getDocumentsMatchingCollectionQuery(e,i,n,r)}getNextDocuments(e,i,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,n,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,n.largestBatchId,r-s.size):L.resolve(gr()),c=-1,l=s;return o.next(u=>L.forEach(u,(f,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),s.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{l=l.insert(f,_)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(f=>({batchId:c,changes:QI(f)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ie(i)).next(n=>{let r=ga();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(e,i,n,r){let s=i.collectionGroup,o=ga();return this.indexManager.getCollectionParents(e,s).next(c=>L.forEach(c,l=>{let u=function(m,_){return new Ir(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(i,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,r).next(f=>{f.forEach((m,_)=>{o=o.insert(m,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,i,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,n,s,r))).next(o=>{s.forEach((l,u)=>{let f=u.getKey();o.get(f)===null&&(o=o.insert(f,_n.newInvalidDocument(f)))});let c=ga();return o.forEach((l,u)=>{let f=s.get(l);f!==void 0&&ba(f.mutation,u,sn.empty(),mt.now()),Lu(i,u)&&(c=c.insert(l,u))}),c})}};var Bm=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,i){return L.resolve(this.cr.get(i))}saveBundleMetadata(e,i){return this.cr.set(i.id,function(r){return{id:r.id,version:r.version,createTime:On(r.createTime)}}(i)),L.resolve()}getNamedQuery(e,i){return L.resolve(this.lr.get(i))}saveNamedQuery(e,i){return this.lr.set(i.name,function(r){return{name:r.name,query:ZM(r.bundledQuery),readTime:On(r.readTime)}}(i)),L.resolve()}};var zm=class{constructor(){this.overlays=new Ye(ie.comparator),this.hr=new Map}getOverlay(e,i){return L.resolve(this.overlays.get(i))}getOverlays(e,i){let n=gr();return L.forEach(i,r=>this.getOverlay(e,r).next(s=>{s!==null&&n.set(r,s)})).next(()=>n)}saveOverlays(e,i,n){return n.forEach((r,s)=>{this.ht(e,i,s)}),L.resolve()}removeOverlaysForBatchId(e,i,n){let r=this.hr.get(n);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(n)),L.resolve()}getOverlaysForCollection(e,i,n){let r=gr(),s=i.length+1,o=new ie(i.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,u=l.getKey();if(!i.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&r.set(l.getKey(),l)}return L.resolve(r)}getOverlaysForCollectionGroup(e,i,n,r){let s=new Ye((u,f)=>u-f),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===i&&u.largestBatchId>n){let f=s.get(u.largestBatchId);f===null&&(f=gr(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}let c=gr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>c.set(u,f)),!(c.size()>=r)););return L.resolve(c)}ht(e,i,n){let r=this.overlays.get(n.key);if(r!==null){let o=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Sm(i,n));let s=this.hr.get(i);s===void 0&&(s=_e(),this.hr.set(i,s)),this.hr.set(i,s.add(n.key))}};var Ra=class{constructor(){this.Pr=new Rt(ot.Ir),this.Tr=new Rt(ot.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,i){let n=new ot(e,i);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,i){e.forEach(n=>this.addReference(n,i))}removeReference(e,i){this.Ar(new ot(e,i))}Rr(e,i){e.forEach(n=>this.removeReference(n,i))}Vr(e){let i=new ie(new We([])),n=new ot(i,e),r=new ot(i,e+1),s=[];return this.Tr.forEachInRange([n,r],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let i=new ie(new We([])),n=new ot(i,e),r=new ot(i,e+1),s=_e();return this.Tr.forEachInRange([n,r],o=>{s=s.add(o.key)}),s}containsKey(e){let i=new ot(e,0),n=this.Pr.firstAfterOrEqual(i);return n!==null&&e.isEqual(n.key)}},ot=class{constructor(e,i){this.key=e,this.pr=i}static Ir(e,i){return ie.comparator(e.key,i.key)||Re(e.pr,i.pr)}static Er(e,i){return Re(e.pr,i.pr)||ie.comparator(e.key,i.key)}};var $m=class{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new Rt(ot.Ir)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,n,r){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Tm(s,i,n,r);this.mutationQueue.push(o);for(let c of r)this.wr=this.wr.add(new ot(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,i){return L.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(e,i){let n=i+1,r=this.br(n),s=r<0?0:r;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){let n=new ot(i,0),r=new ot(i,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([n,r],o=>{let c=this.Sr(o.pr);s.push(c)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,i){let n=new Rt(Re);return i.forEach(r=>{let s=new ot(r,0),o=new ot(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],c=>{n=n.add(c.pr)})}),L.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,i){let n=i.path,r=n.length+1,s=n;ie.isDocumentKey(s)||(s=s.child(""));let o=new ot(new ie(s),0),c=new Rt(Re);return this.wr.forEachWhile(l=>{let u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===r&&(c=c.add(l.pr)),!0)},o),L.resolve(this.Dr(c))}Dr(e){let i=[];return e.forEach(n=>{let r=this.Sr(n);r!==null&&i.push(r)}),i}removeMutationBatch(e,i){Le(this.Cr(i.batchId,"removed")===0),this.mutationQueue.shift();let n=this.wr;return L.forEach(i.mutations,r=>{let s=new ot(r.key,i.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=n})}Mn(e){}containsKey(e,i){let n=new ot(i,0),r=this.wr.firstAfterOrEqual(n);return L.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Cr(e,i){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let i=this.br(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}};var qm=class{constructor(e){this.vr=e,this.docs=function(){return new Ye(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){let n=i.key,r=this.docs.get(n),s=r?r.size:0,o=this.vr(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){let n=this.docs.get(i);return L.resolve(n?n.document.mutableCopy():_n.newInvalidDocument(i))}getEntries(e,i){let n=oi();return i.forEach(r=>{let s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():_n.newInvalidDocument(r))}),L.resolve(n)}getDocumentsMatchingQuery(e,i,n,r){let s=oi(),o=i.path,c=new ie(o.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:u,value:{document:f}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||lM(cM(f),n)<=0||(r.has(f.key)||Lu(i,f))&&(s=s.insert(f.key,f.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,i,n,r){oe()}Fr(e,i){return L.forEach(this.docs,n=>i(n))}newChangeBuffer(e){return new Gm(this)}getSize(e){return L.resolve(this.size)}},Gm=class extends Lm{constructor(e){super(),this.ar=e}applyChanges(e){let i=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?i.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)}),L.waitFor(i)}getFromCache(e,i){return this.ar.getEntry(e,i)}getAllFromCache(e,i){return this.ar.getEntries(e,i)}};var Hm=class{constructor(e){this.persistence=e,this.Mr=new Li(i=>Vg(i),Lg),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Ra,this.targetCount=0,this.Lr=Aa.Nn()}forEachTarget(e,i){return this.Mr.forEach((n,r)=>i(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.Or&&(this.Or=i),L.resolve()}qn(e){this.Mr.set(e.target,e);let i=e.targetId;i>this.highestTargetId&&(this.Lr=new Aa(i),this.highestTargetId=i),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,i){return this.qn(i),this.targetCount+=1,L.resolve()}updateTargetData(e,i){return this.qn(i),L.resolve()}removeTargetData(e,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,i,n){let r=0,s=[];return this.Mr.forEach((o,c)=>{c.sequenceNumber<=i&&n.get(c.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),L.waitFor(s).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,i){let n=this.Mr.get(i)||null;return L.resolve(n)}addMatchingKeys(e,i,n){return this.Nr.dr(i,n),L.resolve()}removeMatchingKeys(e,i,n){this.Nr.Rr(i,n);let r=this.persistence.referenceDelegate,s=[];return r&&i.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,i){return this.Nr.Vr(i),L.resolve()}getMatchingKeysForTargetId(e,i){let n=this.Nr.gr(i);return L.resolve(n)}containsKey(e,i){return L.resolve(this.Nr.containsKey(i))}};var Wm=class{constructor(e,i){this.Br={},this.overlays={},this.kr=new FI(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Hm(this),this.indexManager=new Fm,this.remoteDocumentCache=function(r){return new qm(r)}(n=>this.referenceDelegate.Kr(n)),this.serializer=new Nm(i),this.$r=new Bm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new zm,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let n=this.Br[e.toKey()];return n||(n=new $m(i,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,i,n){W("MemoryPersistence","Starting transaction:",e);let r=new Km(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(s=>this.referenceDelegate.Wr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gr(e,i){return L.or(Object.values(this.Br).map(n=>()=>n.containsKey(e,i)))}},Km=class extends om{constructor(e){super(),this.currentSequenceNumber=e}},Qm=class t{constructor(e){this.persistence=e,this.zr=new Ra,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw oe()}addReference(e,i,n){return this.zr.addReference(n,i),this.Jr.delete(n.toString()),L.resolve()}removeReference(e,i,n){return this.zr.removeReference(n,i),this.Jr.add(n.toString()),L.resolve()}markPotentiallyOrphaned(e,i){return this.Jr.add(i.toString()),L.resolve()}removeTarget(e,i){this.zr.Vr(i.targetId).forEach(r=>this.Jr.add(r.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,i.targetId).next(r=>{r.forEach(s=>this.Jr.add(s.toString()))}).next(()=>n.removeTargetData(e,i))}Ur(){this.jr=new Set}Wr(e){let i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Jr,n=>{let r=ie.fromPath(n);return this.Yr(e,r).next(s=>{s||i.removeEntry(r,ce.min())})}).next(()=>(this.jr=null,i.apply(e)))}updateLimboDocument(e,i){return this.Yr(e,i).next(n=>{n?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(e){return 0}Yr(e,i){return L.or([()=>L.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Gr(e,i)])}};var Ym=class t{constructor(e,i,n,r){this.targetId=e,this.fromCache=i,this.qi=n,this.Qi=r}static Ki(e,i){let n=_e(),r=_e();for(let s of i.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new t(e,i.fromCache,n,r)}};var Xm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Jm=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Lb()?8:dM(ut())>0?6:4}()}initialize(e,i){this.zi=e,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(e,i,n,r){let s={result:null};return this.ji(e,i).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,i,r,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Xm;return this.Ji(e,i,o).next(c=>{if(s.result=c,this.Ui)return this.Yi(e,i,o,c.size)})}).next(()=>s.result)}Yi(e,i,n,r){return n.documentReadCount<this.Wi?(ma()<=ge.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",vs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),L.resolve()):(ma()<=ge.DEBUG&&W("QueryEngine","Query:",vs(i),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(ma()<=ge.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",vs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(i))):L.resolve())}ji(e,i){if(hI(i))return L.resolve(null);let n=Mn(i);return this.indexManager.getIndexType(e,n).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=wm(i,null,"F"),n=Mn(i)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{let o=_e(...s);return this.zi.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,n).next(l=>{let u=this.Zi(i,c);return this.Xi(i,u,o,l.readTime)?this.ji(e,wm(i,null,"F")):this.es(e,u,i,l)}))})))}Hi(e,i,n,r){return hI(i)||r.isEqual(ce.min())?L.resolve(null):this.zi.getDocuments(e,n).next(s=>{let o=this.Zi(i,s);return this.Xi(i,o,n,r)?L.resolve(null):(ma()<=ge.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),vs(i)),this.es(e,o,i,aM(r,-1)).next(c=>c))})}Zi(e,i){let n=new Rt(WI(e));return i.forEach((r,s)=>{Lu(e,s)&&(n=n.add(s))}),n}Xi(e,i,n,r){if(e.limit===null)return!1;if(n.size!==i.size)return!0;let s=e.limitType==="F"?i.last():i.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ji(e,i,n){return ma()<=ge.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",vs(i)),this.zi.getDocumentsMatchingQuery(e,i,br.min(),n)}es(e,i,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next(s=>(i.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Zm=class{constructor(e,i,n,r){this.persistence=e,this.ts=i,this.serializer=r,this.ns=new Ye(Re),this.rs=new Li(s=>Vg(s),Lg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new jm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.ns))}};function eO(t,e,i,n){return new Zm(t,e,i,n)}function fE(t,e){return v(this,null,function*(){let i=ae(t);return yield i.persistence.runTransaction("Handle user change","readonly",n=>{let r;return i.mutationQueue.getAllMutationBatches(n).next(s=>(r=s,i._s(e),i.mutationQueue.getAllMutationBatches(n))).next(s=>{let o=[],c=[],l=_e();for(let u of r){o.push(u.batchId);for(let f of u.mutations)l=l.add(f.key)}for(let u of s){c.push(u.batchId);for(let f of u.mutations)l=l.add(f.key)}return i.localDocuments.getDocuments(n,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:c}))})})})}function tO(t,e){let i=ae(t);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let r=e.batch.keys(),s=i.os.newChangeBuffer({trackRemovals:!0});return function(c,l,u,f){let m=u.batch,_=m.keys(),C=L.resolve();return _.forEach(P=>{C=C.next(()=>f.getEntry(l,P)).next(F=>{let k=u.docVersions.get(P);Le(k!==null),F.version.compareTo(k)<0&&(m.applyToRemoteDocument(F,u),F.isValidDocument()&&(F.setReadTime(u.commitVersion),f.addEntry(F)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(l,m))}(i,n,e,s).next(()=>s.apply(n)).next(()=>i.mutationQueue.performConsistencyCheck(n)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let l=_e();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l}(e))).next(()=>i.localDocuments.getDocuments(n,r))})}function pE(t){let e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Qr.getLastRemoteSnapshotVersion(i))}function nO(t,e){let i=ae(t),n=e.snapshotVersion,r=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=i.os.newChangeBuffer({trackRemovals:!0});r=i.ns;let c=[];e.targetChanges.forEach((f,m)=>{let _=r.get(m);if(!_)return;c.push(i.Qr.removeMatchingKeys(s,f.removedDocuments,m).next(()=>i.Qr.addMatchingKeys(s,f.addedDocuments,m)));let C=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?C=C.withResumeToken(Ft.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(f.resumeToken,n)),r=r.insert(m,C),function(F,k,U){return F.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(_,C,f)&&c.push(i.Qr.updateTargetData(s,C))});let l=oi(),u=_e();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(i.persistence.referenceDelegate.updateLimboDocument(s,f))}),c.push(iO(s,o,e.documentUpdates).next(f=>{l=f.cs,u=f.ls})),!n.isEqual(ce.min())){let f=i.Qr.getLastRemoteSnapshotVersion(s).next(m=>i.Qr.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(f)}return L.waitFor(c).next(()=>o.apply(s)).next(()=>i.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(i.ns=r,s))}function iO(t,e,i){let n=_e(),r=_e();return i.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let o=oi();return i.forEach((c,l)=>{let u=s.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):W("LocalStore","Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:r}})}function rO(t,e){let i=ae(t);return i.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function sO(t,e){let i=ae(t);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.Qr.getTargetData(n,e).next(s=>s?(r=s,L.resolve(r)):i.Qr.allocateTargetId(n).next(o=>(r=new Sa(e,o,"TargetPurposeListen",n.currentSequenceNumber),i.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=i.ns.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.ns=i.ns.insert(n.targetId,n),i.rs.set(e,n.targetId)),n})}function eg(t,e,i){return v(this,null,function*(){let n=ae(t),r=n.ns.get(e),s=i?"readwrite":"readwrite-primary";try{i||(yield n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Oa(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.ns=n.ns.remove(e),n.rs.delete(r.target)})}function EI(t,e,i){let n=ae(t),r=ce.min(),s=_e();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,f){let m=ae(l),_=m.rs.get(f);return _!==void 0?L.resolve(m.ns.get(_)):m.Qr.getTargetData(u,f)}(n,o,Mn(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>n.ts.getDocumentsMatchingQuery(o,e,i?r:ce.min(),i?s:_e())).next(c=>(oO(n,wM(e),c),{documents:c,hs:s})))}function oO(t,e,i){let n=t.ss.get(e)||ce.min();i.forEach((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.ss.set(e,n)}var vu=class{constructor(){this.activeTargetIds=AM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var tg=class{constructor(){this.no=new vu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,i,n){this.ro[e]=i}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new vu,Promise.resolve()}handleUserChange(e,i,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ng=class{io(e){}shutdown(){}};var yu=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var nu=null;function Qp(){return nu===null?nu=function(){return 268435456+Math.round(2147483648*Math.random())}():nu++,"0x"+nu.toString(16)}var aO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ig=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var At="WebChannelConnection",rg=class extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;let n=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+i.host,this.So=`projects/${r}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Do(){return!1}Co(i,n,r,s,o){let c=Qp(),l=this.vo(i,n.toUriEncodedString());W("RestConnection",`Sending RPC '${i}' ${c}:`,l,r);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,s,o),this.Mo(i,l,u,r).then(f=>(W("RestConnection",`Received RPC '${i}' ${c}: `,f),f),f=>{throw Ts("RestConnection",`RPC '${i}' ${c} failed with error: `,f,"url: ",l,"request:",r),f})}xo(i,n,r,s,o,c){return this.Co(i,n,r,s,o)}Fo(i,n,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ls}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>i[o]=s),r&&r.headers.forEach((s,o)=>i[o]=s)}vo(i,n){let r=aO[i];return`${this.wo}/v1/${n}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,i,n,r){let s=Qp();return new Promise((o,c)=>{let l=new zp;l.setWithCredentials(!0),l.listenOnce(qp.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pa.NO_ERROR:let f=l.getResponseJson();W(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case pa.TIMEOUT:W(At,`RPC '${e}' ${s} timed out`),c(new G(O.DEADLINE_EXCEEDED,"Request time out"));break;case pa.HTTP_ERROR:let m=l.getStatus();if(W(At,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);let C=_?.error;if(C&&C.status&&C.message){let P=function(k){let U=k.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(U)>=0?U:O.UNKNOWN}(C.status);c(new G(P,C.message))}else c(new G(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new G(O.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{W(At,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);W(At,`RPC '${e}' ${s} sending request:`,r),l.send(i,"POST",u,n,15)})}Oo(e,i,n){let r=Qp(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Wp(),c=Hp(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new $p({})),this.Fo(l.initMessageHeaders,i,n),l.encodeInitMessageHeaders=!0;let f=s.join("");W(At,`Creating RPC '${e}' stream ${r}: ${f}`,l);let m=o.createWebChannel(f,l),_=!1,C=!1,P=new ig({lo:k=>{C?W(At,`Not sending because RPC '${e}' stream ${r} is closed:`,k):(_||(W(At,`Opening RPC '${e}' stream ${r} transport.`),m.open(),_=!0),W(At,`RPC '${e}' stream ${r} sending:`,k),m.send(k))},ho:()=>m.close()}),F=(k,U,Q)=>{k.listen(U,Z=>{try{Q(Z)}catch(X){setTimeout(()=>{throw X},0)}})};return F(m,_s.EventType.OPEN,()=>{C||(W(At,`RPC '${e}' stream ${r} transport opened.`),P.mo())}),F(m,_s.EventType.CLOSE,()=>{C||(C=!0,W(At,`RPC '${e}' stream ${r} transport closed`),P.po())}),F(m,_s.EventType.ERROR,k=>{C||(C=!0,Ts(At,`RPC '${e}' stream ${r} transport errored:`,k),P.po(new G(O.UNAVAILABLE,"The operation could not be completed")))}),F(m,_s.EventType.MESSAGE,k=>{var U;if(!C){let Q=k.data[0];Le(!!Q);let Z=Q,X=Z.error||((U=Z[0])===null||U===void 0?void 0:U.error);if(X){W(At,`RPC '${e}' stream ${r} received error:`,X);let Ne=X.status,le=function(b){let w=st[b];if(w!==void 0)return sE(w)}(Ne),I=X.message;le===void 0&&(le=O.INTERNAL,I="Unknown error status: "+Ne+" with message "+X.message),C=!0,P.po(new G(le,I)),m.close()}else W(At,`RPC '${e}' stream ${r} received:`,Q),P.yo(Q)}}),F(c,Gp.STAT_EVENT,k=>{k.stat===eu.PROXY?W(At,`RPC '${e}' stream ${r} detected buffering proxy`):k.stat===eu.NOPROXY&&W(At,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{P.fo()},0),P}};function Yp(){return typeof document<"u"?document:null}function Uu(t){return new Dm(t,!0)}var bu=class{constructor(e,i,n=1e3,r=1.5,s=6e4){this.oi=e,this.timerId=i,this.No=n,this.Lo=r,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let i=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,i-n);r>0&&W("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var wu=class{constructor(e,i,n,r,s,o,c,l){this.oi=e,this.Go=n,this.zo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new bu(e,i)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return v(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return v(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,i){return v(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():i&&i.code===O.RESOURCE_EXHAUSTED?(ri(i.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):i&&i.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(i)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.jo===i&&this.u_(n,r)},n=>{e(()=>{let r=new G(O.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(r)})})}u_(e,i){let n=this.a_(this.jo);this.stream=this.l_(e,i),this.stream.Po(()=>{n(()=>this.listener.Po())}),this.stream.To(()=>{n(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{n(()=>this.c_(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>v(this,null,function*(){this.state=0,this.start()}))}c_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return i=>{this.oi.enqueueAndForget(()=>this.jo===e?i():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},sg=class extends wu{constructor(e,i,n,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,o),this.serializer=s}l_(e,i){return this.connection.Oo("Listen",e,i)}onMessage(e){this.Yo.reset();let i=zM(this.serializer,e),n=function(s){if(!("targetChange"in s))return ce.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?On(o.readTime):ce.min()}(e);return this.listener.h_(i,n)}P_(e){let i={};i.database=Om(this.serializer),i.addTarget=function(s,o){let c,l=o.target;if(c=ym(l)?{documents:GM(s,l)}:{query:HM(s,l)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=oE(s,o.resumeToken);let u=xm(s,o.expectedCount);u!==null&&(c.expectedCount=u)}else if(o.snapshotVersion.compareTo(ce.min())>0){c.readTime=gu(s,o.snapshotVersion.toTimestamp());let u=xm(s,o.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,e);let n=KM(this.serializer,e);n&&(i.labels=n),this.i_(i)}I_(e){let i={};i.database=Om(this.serializer),i.removeTarget=e,this.i_(i)}},og=class extends wu{constructor(e,i,n,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,n,r,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,i){return this.connection.Oo("Write",e,i)}onMessage(e){if(Le(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let i=qM(e.writeResults,e.commitTime),n=On(e.commitTime);return this.listener.A_(n,i)}return Le(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=Om(this.serializer),this.i_(e)}d_(e){let i={streamToken:this.lastStreamToken,writes:e.map(n=>$M(this.serializer,n))};this.i_(i)}};var ag=class extends class{}{constructor(e,i,n,r){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,i,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Pm(i,n),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(O.UNKNOWN,s.toString())})}xo(e,i,n,r,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.xo(e,Pm(i,n),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(O.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},cg=class{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ri(i),this.y_=!1):W("OnlineStateTracker",i)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var lg=class{constructor(e,i,n,r,s){this.localStore=e,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{n.enqueueAndForget(()=>v(this,null,function*(){Ar(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(l){return v(this,null,function*(){let u=ae(l);u.M_.add(4),yield Na(u),u.N_.set("Unknown"),u.M_.delete(4),yield ju(u)})}(this))}))}),this.N_=new cg(n,r)}};function ju(t){return v(this,null,function*(){if(Ar(t))for(let e of t.x_)yield e(!0)})}function Na(t){return v(this,null,function*(){for(let e of t.x_)yield e(!1)})}function mE(t,e){let i=ae(t);i.F_.has(e.targetId)||(i.F_.set(e.targetId,e),qg(i)?$g(i):Us(i).Xo()&&zg(i,e))}function Bg(t,e){let i=ae(t),n=Us(i);i.F_.delete(e),n.Xo()&&gE(i,e),i.F_.size===0&&(n.Xo()?n.n_():Ar(i)&&i.N_.set("Unknown"))}function zg(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let i=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Us(t).P_(e)}function gE(t,e){t.L_.xe(e),Us(t).I_(e)}function $g(t){t.L_=new km({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Us(t).start(),t.N_.w_()}function qg(t){return Ar(t)&&!Us(t).Zo()&&t.F_.size>0}function Ar(t){return ae(t).M_.size===0}function _E(t){t.L_=void 0}function cO(t){return v(this,null,function*(){t.N_.set("Online")})}function lO(t){return v(this,null,function*(){t.F_.forEach((e,i)=>{zg(t,e)})})}function uO(t,e){return v(this,null,function*(){_E(t),qg(t)?(t.N_.D_(e),$g(t)):t.N_.set("Unknown")})}function dO(t,e,i){return v(this,null,function*(){if(t.N_.set("Online"),e instanceof pu&&e.state===2&&e.cause)try{yield function(r,s){return v(this,null,function*(){let o=s.cause;for(let c of s.targetIds)r.F_.has(c)&&(yield r.remoteSyncer.rejectListen(c,o),r.F_.delete(c),r.L_.removeTarget(c))})}(t,e)}catch(n){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),yield Iu(t,n)}else if(e instanceof Is?t.L_.Ke(e):e instanceof fu?t.L_.He(e):t.L_.We(e),!i.isEqual(ce.min()))try{let n=yield pE(t.localStore);i.compareTo(n)>=0&&(yield function(s,o){let c=s.L_.rt(o);return c.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let f=s.F_.get(u);f&&s.F_.set(u,f.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,u)=>{let f=s.F_.get(l);if(!f)return;s.F_.set(l,f.withResumeToken(Ft.EMPTY_BYTE_STRING,f.snapshotVersion)),gE(s,l);let m=new Sa(f.target,l,u,f.sequenceNumber);zg(s,m)}),s.remoteSyncer.applyRemoteEvent(c)}(t,i))}catch(n){W("RemoteStore","Failed to raise snapshot:",n),yield Iu(t,n)}})}function Iu(t,e,i){return v(this,null,function*(){if(!Oa(e))throw e;t.M_.add(1),yield Na(t),t.N_.set("Offline"),i||(i=()=>pE(t.localStore)),t.asyncQueue.enqueueRetryable(()=>v(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield i(),t.M_.delete(1),yield ju(t)}))})}function vE(t,e){return e().catch(i=>Iu(t,i,e))}function Bu(t){return v(this,null,function*(){let e=ae(t),i=Ui(e),n=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;hO(e);)try{let r=yield rO(e.localStore,n);if(r===null){e.v_.length===0&&i.n_();break}n=r.batchId,fO(e,r)}catch(r){yield Iu(e,r)}yE(e)&&bE(e)})}function hO(t){return Ar(t)&&t.v_.length<10}function fO(t,e){t.v_.push(e);let i=Ui(t);i.Xo()&&i.E_&&i.d_(e.mutations)}function yE(t){return Ar(t)&&!Ui(t).Zo()&&t.v_.length>0}function bE(t){Ui(t).start()}function pO(t){return v(this,null,function*(){Ui(t).V_()})}function mO(t){return v(this,null,function*(){let e=Ui(t);for(let i of t.v_)e.d_(i.mutations)})}function gO(t,e,i){return v(this,null,function*(){let n=t.v_.shift(),r=Cm.from(n,e,i);yield vE(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Bu(t)})}function _O(t,e){return v(this,null,function*(){e&&Ui(t).E_&&(yield function(n,r){return v(this,null,function*(){if(function(o){return OM(o)&&o!==O.ABORTED}(r.code)){let s=n.v_.shift();Ui(n).t_(),yield vE(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Bu(n)}})}(t,e)),yE(t)&&bE(t)})}function TI(t,e){return v(this,null,function*(){let i=ae(t);i.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let n=Ar(i);i.M_.add(3),yield Na(i),n&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.M_.delete(3),yield ju(i)})}function vO(t,e){return v(this,null,function*(){let i=ae(t);e?(i.M_.delete(2),yield ju(i)):e||(i.M_.add(2),yield Na(i),i.N_.set("Unknown"))})}function Us(t){return t.B_||(t.B_=function(i,n,r){let s=ae(i);return s.f_(),new sg(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:cO.bind(null,t),To:lO.bind(null,t),Ao:uO.bind(null,t),h_:dO.bind(null,t)}),t.x_.push(e=>v(this,null,function*(){e?(t.B_.t_(),qg(t)?$g(t):t.N_.set("Unknown")):(yield t.B_.stop(),_E(t))}))),t.B_}function Ui(t){return t.k_||(t.k_=function(i,n,r){let s=ae(i);return s.f_(),new og(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:pO.bind(null,t),Ao:_O.bind(null,t),R_:mO.bind(null,t),A_:gO.bind(null,t)}),t.x_.push(e=>v(this,null,function*(){e?(t.k_.t_(),yield Bu(t)):(yield t.k_.stop(),t.v_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var ug=class t{constructor(e,i,n,r,s){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,n,r,s){let o=Date.now()+n,c=new t(e,i,o,r,s);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Gg(t,e){if(ri("AsyncQueue",`${e}: ${t}`),Oa(t))return new G(O.UNAVAILABLE,`${e}: ${t}`);throw t}var Eu=class t{constructor(e){this.comparator=e?(i,n)=>e(i,n)||ie.comparator(i.key,n.key):(i,n)=>ie.comparator(i.key,n.key),this.keyedMap=ga(),this.sortedSet=new Ye(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,n)=>(e(i),!1))}add(e){let i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){let i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let i=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;i.hasNext();){let r=i.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){let n=new t;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=i,n}};var Tu=class{constructor(){this.q_=new Ye(ie.comparator)}track(e){let i=e.doc.key,n=this.q_.get(i);n?e.type!==0&&n.type===3?this.q_=this.q_.insert(i,e):e.type===3&&n.type!==1?this.q_=this.q_.insert(i,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.q_=this.q_.insert(i,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.q_=this.q_.insert(i,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.q_=this.q_.remove(i):e.type===1&&n.type===2?this.q_=this.q_.insert(i,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.q_=this.q_.insert(i,{type:2,doc:e.doc}):oe():this.q_=this.q_.insert(i,e)}Q_(){let e=[];return this.q_.inorderTraversal((i,n)=>{e.push(n)}),e}},Os=class t{constructor(e,i,n,r,s,o,c,l,u){this.query=e,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,i,n,r,s){let o=[];return i.forEach(c=>{o.push({type:0,doc:c})}),new t(e,i,Eu.emptySet(i),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let i=this.docChanges,n=e.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}};var dg=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},hg=class{constructor(){this.queries=new Li(e=>HI(e),Vu),this.onlineState="Unknown",this.z_=new Set}};function yO(t,e){return v(this,null,function*(){let i=ae(t),n=3,r=e.query,s=i.queries.get(r);s?!s.W_()&&e.G_()&&(n=2):(s=new dg,n=e.G_()?0:1);try{switch(n){case 0:s.K_=yield i.onListen(r,!0);break;case 1:s.K_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(o){let c=Gg(o,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(c)}i.queries.set(r,s),s.U_.push(e),e.j_(i.onlineState),s.K_&&e.H_(s.K_)&&Hg(i)})}function bO(t,e){return v(this,null,function*(){let i=ae(t),n=e.query,r=3,s=i.queries.get(n);if(s){let o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?r=e.G_()?0:1:!s.W_()&&e.G_()&&(r=2))}switch(r){case 0:return i.queries.delete(n),i.onUnlisten(n,!0);case 1:return i.queries.delete(n),i.onUnlisten(n,!1);case 2:return i.onLastRemoteStoreUnlisten(n);default:return}})}function wO(t,e){let i=ae(t),n=!1;for(let r of e){let s=r.query,o=i.queries.get(s);if(o){for(let c of o.U_)c.H_(r)&&(n=!0);o.K_=r}}n&&Hg(i)}function IO(t,e,i){let n=ae(t),r=n.queries.get(e);if(r)for(let s of r.U_)s.onError(i);n.queries.delete(e)}function Hg(t){t.z_.forEach(e=>{e.next()})}var fg,CI;(CI=fg||(fg={})).J_="default",CI.Cache="cache";var pg=class{constructor(e,i,n){this.query=e,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){let n=[];for(let r of e.docChanges)r.type!==3&&n.push(r);e=new Os(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),i=!0):this.ta(e,this.onlineState)&&(this.na(e),i=!0),this.X_=e,i}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),i=!0),i}ta(e,i){if(!e.fromCache||!this.G_())return!0;let n=i!=="Offline";return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let i=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}na(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==fg.Cache}};var Cu=class{constructor(e){this.key=e}},Su=class{constructor(e){this.key=e}},mg=class{constructor(e,i){this.query=e,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_e(),this.mutatedKeys=_e(),this.Ia=WI(e),this.Ta=new Eu(this.Ia)}get Ea(){return this.la}da(e,i){let n=i?i.Aa:new Tu,r=i?i.Ta:this.Ta,s=i?i.mutatedKeys:this.mutatedKeys,o=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,m)=>{let _=r.get(f),C=Lu(this.query,m)?m:null,P=!!_&&this.mutatedKeys.has(_.key),F=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations),k=!1;_&&C?_.data.isEqual(C.data)?P!==F&&(n.track({type:3,doc:C}),k=!0):this.Ra(_,C)||(n.track({type:2,doc:C}),k=!0,(l&&this.Ia(C,l)>0||u&&this.Ia(C,u)<0)&&(c=!0)):!_&&C?(n.track({type:0,doc:C}),k=!0):_&&!C&&(n.track({type:1,doc:_}),k=!0,(l||u)&&(c=!0)),k&&(C?(o=o.add(C),s=F?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{Ta:o,Aa:n,Xi:c,mutatedKeys:s}}Ra(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,n,r){let s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let o=e.Aa.Q_();o.sort((f,m)=>function(C,P){let F=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return F(C)-F(P)}(f.type,m.type)||this.Ia(f.doc,m.doc)),this.Va(n),r=r!=null&&r;let c=i&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,u=l!==this.ha;return this.ha=l,o.length!==0||u?{snapshot:new Os(this.query,e.Ta,s,o,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Tu,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(i=>this.la=this.la.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=_e(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});let i=[];return e.forEach(n=>{this.Pa.has(n)||i.push(new Su(n))}),this.Pa.forEach(n=>{e.has(n)||i.push(new Cu(n))}),i}pa(e){this.la=e.hs,this.Pa=_e();let i=this.da(e.documents);return this.applyChanges(i,!0)}ya(){return Os.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},gg=class{constructor(e,i,n){this.query=e,this.targetId=i,this.view=n}},_g=class{constructor(e){this.key=e,this.wa=!1}},vg=class{constructor(e,i,n,r,s,o){this.localStore=e,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Li(c=>HI(c),Vu),this.Da=new Map,this.Ca=new Set,this.va=new Ye(ie.comparator),this.Fa=new Map,this.Ma=new Ra,this.xa={},this.Oa=new Map,this.Na=Aa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function EO(t,e,i=!0){return v(this,null,function*(){let n=SE(t),r,s=n.ba.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.ya()):r=yield wE(n,e,i,!0),r})}function TO(t,e){return v(this,null,function*(){let i=SE(t);yield wE(i,e,!0,!1)})}function wE(t,e,i,n){return v(this,null,function*(){let r=yield sO(t.localStore,Mn(e)),s=r.targetId,o=i?t.sharedClientState.addLocalQueryTarget(s):"not-current",c;return n&&(c=yield CO(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&i&&mE(t.remoteStore,r),c})}function CO(t,e,i,n,r){return v(this,null,function*(){t.Ba=(m,_,C)=>function(F,k,U,Q){return v(this,null,function*(){let Z=k.view.da(U);Z.Xi&&(Z=yield EI(F.localStore,k.query,!1).then(({documents:I})=>k.view.da(I,Z)));let X=Q&&Q.targetChanges.get(k.targetId),Ne=Q&&Q.targetMismatches.get(k.targetId)!=null,le=k.view.applyChanges(Z,F.isPrimaryClient,X,Ne);return AI(F,k.targetId,le.fa),le.snapshot})}(t,m,_,C);let s=yield EI(t.localStore,e,!0),o=new mg(e,s.hs),c=o.da(s.documents),l=Ca.createSynthesizedTargetChangeForCurrentChange(i,n&&t.onlineState!=="Offline",r),u=o.applyChanges(c,t.isPrimaryClient,l);AI(t,i,u.fa);let f=new gg(e,i,o);return t.ba.set(e,f),t.Da.has(i)?t.Da.get(i).push(e):t.Da.set(i,[e]),u.snapshot})}function SO(t,e,i){return v(this,null,function*(){let n=ae(t),r=n.ba.get(e),s=n.Da.get(r.targetId);if(s.length>1)return n.Da.set(r.targetId,s.filter(o=>!Vu(o,e))),void n.ba.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield eg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),i&&Bg(n.remoteStore,r.targetId),yg(n,r.targetId)}).catch(Ma))):(yg(n,r.targetId),yield eg(n.localStore,r.targetId,!0))})}function AO(t,e){return v(this,null,function*(){let i=ae(t),n=i.ba.get(e),r=i.Da.get(n.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(n.targetId),Bg(i.remoteStore,n.targetId))})}function RO(t,e,i){return v(this,null,function*(){let n=NO(t);try{let r=yield function(o,c){let l=ae(o),u=mt.now(),f=c.reduce((C,P)=>C.add(P.key),_e()),m,_;return l.persistence.runTransaction("Locally write mutations","readwrite",C=>{let P=oi(),F=_e();return l.os.getEntries(C,f).next(k=>{P=k,P.forEach((U,Q)=>{Q.isValidDocument()||(F=F.add(U))})}).next(()=>l.localDocuments.getOverlayedDocuments(C,P)).next(k=>{m=k;let U=[];for(let Q of c){let Z=MM(Q,m.get(Q.key).overlayedDocument);Z!=null&&U.push(new Fn(Q.key,Z,UI(Z.value.mapValue),ii.exists(!0)))}return l.mutationQueue.addMutationBatch(C,u,U,c)}).next(k=>{_=k;let U=k.applyToLocalDocumentSet(m,F);return l.documentOverlayCache.saveOverlays(C,k.batchId,U)})}).then(()=>({batchId:_.batchId,changes:QI(m)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),function(o,c,l){let u=o.xa[o.currentUser.toKey()];u||(u=new Ye(Re)),u=u.insert(c,l),o.xa[o.currentUser.toKey()]=u}(n,r.batchId,i),yield Fa(n,r.changes),yield Bu(n.remoteStore)}catch(r){let s=Gg(r,"Failed to persist write");i.reject(s)}})}function IE(t,e){return v(this,null,function*(){let i=ae(t);try{let n=yield nO(i.localStore,e);e.targetChanges.forEach((r,s)=>{let o=i.Fa.get(s);o&&(Le(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.wa=!0:r.modifiedDocuments.size>0?Le(o.wa):r.removedDocuments.size>0&&(Le(o.wa),o.wa=!1))}),yield Fa(i,n,e)}catch(n){yield Ma(n)}})}function SI(t,e,i){let n=ae(t);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){let r=[];n.ba.forEach((s,o)=>{let c=o.view.j_(e);c.snapshot&&r.push(c.snapshot)}),function(o,c){let l=ae(o);l.onlineState=c;let u=!1;l.queries.forEach((f,m)=>{for(let _ of m.U_)_.j_(c)&&(u=!0)}),u&&Hg(l)}(n.eventManager,e),r.length&&n.Sa.h_(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}function kO(t,e,i){return v(this,null,function*(){let n=ae(t);n.sharedClientState.updateQueryState(e,"rejected",i);let r=n.Fa.get(e),s=r&&r.key;if(s){let o=new Ye(ie.comparator);o=o.insert(s,_n.newNoDocument(s,ce.min()));let c=_e().add(s),l=new hu(ce.min(),new Map,new Ye(Re),o,c);yield IE(n,l),n.va=n.va.remove(s),n.Fa.delete(e),Wg(n)}else yield eg(n.localStore,e,!1).then(()=>yg(n,e,i)).catch(Ma)})}function DO(t,e){return v(this,null,function*(){let i=ae(t),n=e.batch.batchId;try{let r=yield tO(i.localStore,e);TE(i,n,null),EE(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),yield Fa(i,r)}catch(r){yield Ma(r)}})}function xO(t,e,i){return v(this,null,function*(){let n=ae(t);try{let r=yield function(o,c){let l=ae(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,c).next(m=>(Le(m!==null),f=m.keys(),l.mutationQueue.removeMutationBatch(u,m))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(n.localStore,e);TE(n,e,i),EE(n,e),n.sharedClientState.updateMutationState(e,"rejected",i),yield Fa(n,r)}catch(r){yield Ma(r)}})}function EE(t,e){(t.Oa.get(e)||[]).forEach(i=>{i.resolve()}),t.Oa.delete(e)}function TE(t,e,i){let n=ae(t),r=n.xa[n.currentUser.toKey()];if(r){let s=r.get(e);s&&(i?s.reject(i):s.resolve(),r=r.remove(e)),n.xa[n.currentUser.toKey()]=r}}function yg(t,e,i=null){t.sharedClientState.removeLocalQueryTarget(e);for(let n of t.Da.get(e))t.ba.delete(n),i&&t.Sa.ka(n,i);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(n=>{t.Ma.containsKey(n)||CE(t,n)})}function CE(t,e){t.Ca.delete(e.path.canonicalString());let i=t.va.get(e);i!==null&&(Bg(t.remoteStore,i),t.va=t.va.remove(e),t.Fa.delete(i),Wg(t))}function AI(t,e,i){for(let n of i)n instanceof Cu?(t.Ma.addReference(n.key,e),PO(t,n)):n instanceof Su?(W("SyncEngine","Document no longer in limbo: "+n.key),t.Ma.removeReference(n.key,e),t.Ma.containsKey(n.key)||CE(t,n.key)):oe()}function PO(t,e){let i=e.key,n=i.path.canonicalString();t.va.get(i)||t.Ca.has(n)||(W("SyncEngine","New document in limbo: "+i),t.Ca.add(n),Wg(t))}function Wg(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let i=new ie(We.fromString(e)),n=t.Na.next();t.Fa.set(n,new _g(i)),t.va=t.va.insert(i,n),mE(t.remoteStore,new Sa(Mn(Ug(i.path)),n,"TargetPurposeLimboResolution",FI.oe))}}function Fa(t,e,i){return v(this,null,function*(){let n=ae(t),r=[],s=[],o=[];n.ba.isEmpty()||(n.ba.forEach((c,l)=>{o.push(n.Ba(l,e,i).then(u=>{if((u||i)&&n.isPrimaryClient){let f=u&&!u.fromCache;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){r.push(u);let f=Ym.Ki(l.targetId,u);s.push(f)}}))}),yield Promise.all(o),n.Sa.h_(r),yield function(l,u){return v(this,null,function*(){let f=ae(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>L.forEach(u,_=>L.forEach(_.qi,C=>f.persistence.referenceDelegate.addReference(m,_.targetId,C)).next(()=>L.forEach(_.Qi,C=>f.persistence.referenceDelegate.removeReference(m,_.targetId,C)))))}catch(m){if(!Oa(m))throw m;W("LocalStore","Failed to update sequence numbers: "+m)}for(let m of u){let _=m.targetId;if(!m.fromCache){let C=f.ns.get(_),P=C.snapshotVersion,F=C.withLastLimboFreeSnapshotVersion(P);f.ns=f.ns.insert(_,F)}}})}(n.localStore,s))})}function MO(t,e){return v(this,null,function*(){let i=ae(t);if(!i.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let n=yield fE(i.localStore,e);i.currentUser=e,function(s,o){s.Oa.forEach(c=>{c.forEach(l=>{l.reject(new G(O.CANCELLED,o))})}),s.Oa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),yield Fa(i,n.us)}})}function OO(t,e){let i=ae(t),n=i.Fa.get(e);if(n&&n.wa)return _e().add(n.key);{let r=_e(),s=i.Da.get(e);if(!s)return r;for(let o of s){let c=i.ba.get(o);r=r.unionWith(c.view.Ea)}return r}}function SE(t){let e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=IE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kO.bind(null,e),e.Sa.h_=wO.bind(null,e.eventManager),e.Sa.ka=IO.bind(null,e.eventManager),e}function NO(t){let e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xO.bind(null,e),e}var Au=class{constructor(){this.synchronizeTabs=!1}initialize(e){return v(this,null,function*(){this.serializer=Uu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,i){return null}createIndexBackfillerScheduler(e,i){return null}createLocalStore(e){return eO(this.persistence,new Jm,e.initialUser,this.serializer)}createPersistence(e){return new Wm(Qm.Hr,this.serializer)}createSharedClientState(e){return new tg}terminate(){return v(this,null,function*(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var bg=class{initialize(e,i){return v(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>SI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=MO.bind(null,this.syncEngine),yield vO(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new hg}()}createDatastore(e){let i=Uu(e.databaseInfo.databaseId),n=function(s){return new rg(s)}(e.databaseInfo);return function(s,o,c,l){return new ag(s,o,c,l)}(e.authCredentials,e.appCheckCredentials,n,i)}createRemoteStore(e){return function(n,r,s,o,c){return new lg(n,r,s,o,c)}(this.localStore,this.datastore,e.asyncQueue,i=>SI(this.syncEngine,i,0),function(){return yu.D()?new yu:new ng}())}createSyncEngine(e,i){return function(r,s,o,c,l,u,f){let m=new vg(r,s,o,c,l,u);return f&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return v(this,null,function*(){var e;yield function(n){return v(this,null,function*(){let r=ae(n);W("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Na(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var wg=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}};var Ig=class{constructor(e,i,n,r){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=ht.UNAUTHENTICATED,this.clientId=ou.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,s=>v(this,null,function*(){W("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>v(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){let n=Gg(i,"Failed to shutdown persistence");e.reject(n)}})),e.promise}};function Xp(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let i=t.configuration;yield e.initialize(i);let n=i.initialUser;t.setCredentialChangeListener(r=>v(this,null,function*(){n.isEqual(r)||(yield fE(e.localStore,r),n=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function RI(t,e){return v(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let i=yield VO(t);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(i,t.configuration),t.setCredentialChangeListener(n=>TI(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,r)=>TI(e.remoteStore,r)),t._onlineComponents=e})}function FO(t){return t.name==="FirebaseError"?t.code===O.FAILED_PRECONDITION||t.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function VO(t){return v(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Xp(t,t._uninitializedComponentsProvider._offline)}catch(e){let i=e;if(!FO(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),yield Xp(t,new Au)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield Xp(t,new Au);return t._offlineComponents})}function AE(t){return v(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield RI(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield RI(t,new bg))),t._onlineComponents})}function LO(t){return AE(t).then(e=>e.syncEngine)}function kI(t){return v(this,null,function*(){let e=yield AE(t),i=e.eventManager;return i.onListen=EO.bind(null,e.syncEngine),i.onUnlisten=SO.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=TO.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=AO.bind(null,e.syncEngine),i})}function RE(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var DI=new Map;function kE(t,e,i){if(!i)throw new G(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function UO(t,e,i,n){if(e===!0&&n===!0)throw new G(O.INVALID_ARGUMENT,`${t} and ${i} cannot be used together.`)}function xI(t){if(!ie.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function PI(t){if(ie.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function Ni(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=zu(t);throw new G(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return t}var Ru=class{constructor(e){var i,n;if(e.host===void 0){if(e.ssl!==void 0)throw new G(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RE((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ns=class{constructor(e,i,n,r){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ru({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ru(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Jp;switch(n.type){case"firstParty":return new nm(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new G(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let n=DI.get(i);n&&(W("ComponentProvider","Removing Datastore"),DI.delete(i),n.terminate())}(this),Promise.resolve()}};function DE(t,e,i,n={}){var r;let s=(t=Ni(t,Ns))._getSettings(),o=`${e}:${i}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let c,l;if(typeof n.mockUserToken=="string")c=n.mockUserToken,l=ht.MOCK_USER;else{c=Tl(n.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new G(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ht(u)}t._authCredentials=new Zp(new su(c,l))}}var Fs=class t{constructor(e,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},zt=class t{constructor(e,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Fi=class t extends Fs{constructor(e,i,n){super(e,i,Ug(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ie(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function xE(t,e,...i){if(t=Ve(t),kE("collection","path",e),t instanceof Ns){let n=We.fromString(e,...i);return PI(n),new Fi(t,null,n)}{if(!(t instanceof zt||t instanceof Fi))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=t._path.child(We.fromString(e,...i));return PI(n),new Fi(t.firestore,null,n)}}function Kg(t,e,...i){if(t=Ve(t),arguments.length===1&&(e=ou.newId()),kE("doc","path",e),t instanceof Ns){let n=We.fromString(e,...i);return xI(n),new zt(t,null,new ie(n))}{if(!(t instanceof zt||t instanceof Fi))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=t._path.child(We.fromString(e,...i));return xI(n),new zt(t.firestore,t instanceof Fi?t.converter:null,new ie(n))}}var Eg=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new bu(this,"async_queue_retry"),this.hu=()=>{let i=Yp();i&&W("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};let e=Yp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let i=Yp();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let i=new ni;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return v(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Oa(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let i=this.iu.then(()=>(this.uu=!0,e().catch(n=>{this.au=n,this.uu=!1;let r=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(n);throw ri("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.uu=!1,n))));return this.iu=i,i}enqueueAfterDelay(e,i,n){this.Pu(),this.lu.indexOf(e)>-1&&(i=0);let r=ug.createAndSchedule(this,e,i,n,s=>this.Eu(s));return this._u.push(r),r}Pu(){this.au&&oe()}verifyOperationInProgress(){}du(){return v(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let i of this._u)if(i.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(let i of this._u)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let i=this._u.indexOf(e);this._u.splice(i,1)}};function MI(t){return function(i,n){if(typeof i!="object"||i===null)return!1;let r=i;for(let s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}var ji=class extends Ns{constructor(e,i,n,r){super(e,i,n,r),this.type="firestore",this._queue=function(){return new Eg}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||OE(this),this._firestoreClient.terminate()}};function PE(t,e){let i=typeof t=="object"?t:ki(),n=typeof t=="string"?t:e||"(default)",r=lr(i,"firestore").getImmediate({identifier:n});if(!r._initialized){let s=El("firestore");s&&DE(r,...s)}return r}function ME(t){return t._firestoreClient||OE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function OE(t){var e,i,n;let r=t._freezeSettings(),s=function(c,l,u,f){return new am(c,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,RE(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Ig(t._authCredentials,t._appCheckCredentials,t._queue,s),!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var ka=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ft.fromBase64String(e))}catch(i){throw new G(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new t(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Vs=class{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new G(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Da=class{constructor(e){this._methodName=e}};var xa=class{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new G(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new G(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Re(this._lat,e._lat)||Re(this._long,e._long)}};var jO=/^__.*__$/,Tg=class{constructor(e,i,n){this.data=e,this.fieldMask=i,this.fieldTransforms=n}toMutation(e,i){return this.fieldMask!==null?new Fn(e,this.data,this.fieldMask,i,this.fieldTransforms):new Cr(e,this.data,i,this.fieldTransforms)}},ku=class{constructor(e,i,n){this.data=e,this.fieldMask=i,this.fieldTransforms=n}toMutation(e,i){return new Fn(e,this.data,this.fieldMask,i,this.fieldTransforms)}};function NE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}var Cg=class t{constructor(e,i,n,r,s,o){this.settings=e,this.databaseId=i,this.serializer=n,this.ignoreUndefinedProperties=r,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return xu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(NE(this.fu)&&jO.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Sg=class{constructor(e,i,n){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=n||Uu(e)}Fu(e,i,n,r=!1){return new Cg({fu:e,methodName:i,vu:n,path:Yt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Qg(t){let e=t._freezeSettings(),i=Uu(t._databaseId);return new Sg(t._databaseId,!!e.ignoreUndefinedProperties,i)}function BO(t,e,i,n,r,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,i,r);Yg("Data must be an object, but it was:",o,n);let c=FE(n,o),l,u;if(s.merge)l=new sn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let m of s.mergeFields){let _=Ag(e,m,i);if(!o.contains(_))throw new G(O.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);LE(f,_)||f.push(_)}l=new sn(f),u=o.fieldTransforms.filter(m=>l.covers(m.field))}else l=null,u=o.fieldTransforms;return new Tg(new Qt(c),l,u)}var Du=class t extends Da{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function zO(t,e,i,n){let r=t.Fu(1,e,i);Yg("Data must be an object, but it was:",r,n);let s=[],o=Qt.empty();Sr(n,(l,u)=>{let f=Xg(e,l,i);u=Ve(u);let m=r.Su(f);if(u instanceof Du)s.push(f);else{let _=Va(u,m);_!=null&&(s.push(f),o.set(f,_))}});let c=new sn(s);return new ku(o,c,r.fieldTransforms)}function $O(t,e,i,n,r,s){let o=t.Fu(1,e,i),c=[Ag(e,n,i)],l=[r];if(s.length%2!=0)throw new G(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)c.push(Ag(e,s[_])),l.push(s[_+1]);let u=[],f=Qt.empty();for(let _=c.length-1;_>=0;--_)if(!LE(u,c[_])){let C=c[_],P=l[_];P=Ve(P);let F=o.Su(C);if(P instanceof Du)u.push(C);else{let k=Va(P,F);k!=null&&(u.push(C),f.set(C,k))}}let m=new sn(u);return new ku(f,m,o.fieldTransforms)}function qO(t,e,i,n=!1){return Va(i,t.Fu(n?4:3,e))}function Va(t,e){if(VE(t=Ve(t)))return Yg("Unsupported field value:",e,t),FE(t,e);if(t instanceof Da)return function(n,r){if(!NE(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);let s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(n,r){let s=[],o=0;for(let c of n){let l=Va(c,r.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Ve(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return RM(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let s=mt.fromDate(n);return{timestampValue:gu(r.serializer,s)}}if(n instanceof mt){let s=new mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:gu(r.serializer,s)}}if(n instanceof xa)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ka)return{bytesValue:oE(r.serializer,n._byteString)};if(n instanceof zt){let s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${zu(n)}`)}(t,e)}function FE(t,e){let i={};return VI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(t,(n,r)=>{let s=Va(r,e.pu(n));s!=null&&(i[n]=s)}),{mapValue:{fields:i}}}function VE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof xa||t instanceof ka||t instanceof zt||t instanceof Da)}function Yg(t,e,i){if(!VE(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){let n=zu(i);throw n==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+n)}}function Ag(t,e,i){if((e=Ve(e))instanceof Vs)return e._internalPath;if(typeof e=="string")return Xg(t,e);throw xu("Field path arguments must be of type string or ",t,!1,void 0,i)}var GO=new RegExp("[~\\*/\\[\\]]");function Xg(t,e,i){if(e.search(GO)>=0)throw xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,i);try{return new Vs(...e.split("."))._internalPath}catch{throw xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,i)}}function xu(t,e,i,n,r){let s=n&&!n.isEmpty(),o=r!==void 0,c=`Function ${e}() called with invalid data`;i&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${n}`),o&&(l+=` in document ${r}`),l+=")"),new G(O.INVALID_ARGUMENT,c+t+l)}function LE(t,e){return t.some(i=>i.isEqual(e))}var Pu=class{constructor(e,i,n,r,s){this._firestore=e,this._userDataWriter=i,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Rg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let i=this._document.data.field(Jg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}},Rg=class extends Pu{data(){return super.data()}};function Jg(t,e){return typeof e=="string"?Xg(t,e):e instanceof Vs?e._internalPath:e._delegate._internalPath}function HO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pa=class{},kg=class extends Pa{};function UE(t,e,...i){let n=[];e instanceof Pa&&n.push(e),n=n.concat(i),function(s){let o=s.filter(l=>l instanceof Dg).length,c=s.filter(l=>l instanceof Mu).length;if(o>1||o>0&&c>0)throw new G(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(let r of n)t=r._apply(t);return t}var Mu=class t extends kg{constructor(e,i,n){super(),this._field=e,this._op=i,this._value=n,this.type="where"}static _create(e,i,n){return new t(e,i,n)}_apply(e){let i=this._parse(e);return BE(e._query,i),new Fs(e.firestore,e.converter,bm(e._query,i))}_parse(e){let i=Qg(e.firestore);return function(s,o,c,l,u,f,m){let _;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new G(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){NI(m,f);let C=[];for(let P of m)C.push(OI(l,s,P));_={arrayValue:{values:C}}}else _=OI(l,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||NI(m,f),_=qO(c,o,m,f==="in"||f==="not-in");return at.create(u,f,_)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}};function jE(t,e,i){let n=e,r=Jg("where",t);return Mu._create(r,n,i)}var Dg=class t extends Pa{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new t(e,i)}_parse(e){let i=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return i.length===1?i[0]:vn.create(i,this._getOperator())}_apply(e){let i=this._parse(e);return i.getFilters().length===0?e:(function(r,s){let o=r,c=s.getFlattenedFilters();for(let l of c)BE(o,l),o=bm(o,l)}(e._query,i),new Fs(e.firestore,e.converter,bm(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function OI(t,e,i){if(typeof(i=Ve(i))=="string"){if(i==="")throw new G(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GI(e)&&i.indexOf("/")!==-1)throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);let n=e.path.child(We.fromString(i));if(!ie.isDocumentKey(n))throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return oI(t,new ie(n))}if(i instanceof zt)return oI(t,i._key);throw new G(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zu(i)}.`)}function NI(t,e){if(!Array.isArray(t)||t.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BE(t,e){let i=function(r,s){for(let o of r)for(let c of o.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new G(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}var xg=class{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw oe()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){let n={};return Sr(e,(r,s)=>{n[r]=this.convertValue(s,i)}),n}convertGeoPoint(e){return new xa(Qe(e.latitude),Qe(e.longitude))}convertArray(e,i){return(e.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(e,i){switch(i){case"previous":let n=Ng(e);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(Ia(e));default:return null}}convertTimestamp(e){let i=si(e);return new mt(i.seconds,i.nanos)}convertDocumentKey(e,i){let n=We.fromString(e);Le(hE(n));let r=new uu(n.get(1),n.get(3)),s=new ie(n.popFirst(5));return r.isEqual(i)||ri(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),s}};function WO(t,e,i){let n;return n=t?i&&(i.merge||i.mergeFields)?t.toFirestore(e,i):t.toFirestore(e):e,n}var vr=class{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Ou=class extends Pu{constructor(e,i,n,r,s,o){super(e,i,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let i=new Es(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){let n=this._document.data.field(Jg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}},Es=class extends Ou{data(e={}){return super.data(e)}},Pg=class{constructor(e,i,n,r){this._firestore=e,this._userDataWriter=i,this._snapshot=r,this.metadata=new vr(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(n=>{e.call(i,new Es(this._firestore,this._userDataWriter,n.key,n,new vr(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new G(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{let l=new Es(r._firestore,r._userDataWriter,c.doc.key,c.doc,new vr(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new Es(r._firestore,r._userDataWriter,c.doc.key,c.doc,new vr(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,f=-1;return c.type!==0&&(u=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:KO(c.type),doc:l,oldIndex:u,newIndex:f}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}};function KO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}var Nu=class extends xg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ka(e)}convertReference(e){let i=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,i)}};function zE(t,e,i,...n){t=Ni(t,zt);let r=Ni(t.firestore,ji),s=Qg(r),o;return o=typeof(e=Ve(e))=="string"||e instanceof Vs?$O(s,"updateDoc",t._key,e,i,n):zO(s,"updateDoc",t._key,e),e_(r,[o.toMutation(t._key,ii.exists(!0))])}function $E(t){return e_(Ni(t.firestore,ji),[new Ta(t._key,ii.none())])}function qE(t,e){let i=Ni(t.firestore,ji),n=Kg(t),r=WO(t.converter,e);return e_(i,[BO(Qg(t.firestore),"addDoc",n._key,r,t.converter!==null,{}).toMutation(n._key,ii.exists(!1))]).then(()=>n)}function Zg(t,...e){var i,n,r;t=Ve(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||MI(e[o])||(s=e[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(MI(e[o])){let m=e[o];e[o]=(i=m.next)===null||i===void 0?void 0:i.bind(m),e[o+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),e[o+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}let l,u,f;if(t instanceof zt)u=Ni(t.firestore,ji),f=Ug(t._key.path),l={next:m=>{e[o]&&e[o](QO(u,t,m))},error:e[o+1],complete:e[o+2]};else{let m=Ni(t,Fs);u=Ni(m.firestore,ji),f=m._query;let _=new Nu(u);l={next:C=>{e[o]&&e[o](new Pg(u,_,m,C))},error:e[o+1],complete:e[o+2]},HO(t._query)}return function(_,C,P,F){let k=new wg(F),U=new pg(C,k,P);return _.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return yO(yield kI(_),U)})),()=>{k.$a(),_.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return bO(yield kI(_),U)}))}}(ME(u),f,c,l)}function e_(t,e){return function(n,r){let s=new ni;return n.asyncQueue.enqueueAndForget(()=>v(this,null,function*(){return RO(yield LO(n),r,s)})),s.promise}(ME(t),e)}function QO(t,e,i){let n=i.docs.get(e._key),r=new Nu(t);return new Ou(t,r,e._key,n,new vr(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(r){Ls=r})(kn),Rn(new jt("firestore",(n,{instanceIdentifier:r,options:s})=>{let o=n.getProvider("app").getImmediate(),c=new ji(new em(n.getProvider("auth-internal")),new rm(n.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(u.options.projectId,f)}(o,r),o);return s=Object.assign({useFetchStreams:i},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),ze(iI,"4.6.3",e),ze(iI,"4.6.3","esm2017")})();var $u=function(){return $u=Object.assign||function(e){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},$u.apply(this,arguments)};var ZO={includeMetadataChanges:!1};function GE(t,e){return e===void 0&&(e=ZO),new cn(function(i){var n=Zg(t,e,{next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return{unsubscribe:n}})}function HE(t,e){var i;e===void 0&&(e={});var n=t.data(e);return!t.exists()||typeof n!="object"||n===null||!e.idField?n:$u($u({},n),(i={},i[e.idField]=t.id,i))}function WE(t){return GE(t,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}function KE(t,e){return e===void 0&&(e={}),WE(t).pipe(se(function(i){return i.map(function(n){return HE(n,e)})}))}var ai=class{constructor(e){return e}},QE="firestore",t_=class{constructor(){return dr(QE)}};var n_=new te("angularfire2.firestore-instances");function eN(t,e){let i=hs(QE,t,e);return i&&new ai(i)}function tN(t){return(e,i)=>{let n=e.runOutsideAngular(()=>t(i));return new ai(n)}}var nN={provide:t_,deps:[[new it,n_]]},iN={provide:ai,useFactory:eN,deps:[[new it,n_],mn]};function YE(t,...e){return ze("angularfire",Wn.full,"fst"),Pt([iN,nN,{provide:n_,useFactory:tN(t),multi:!0,deps:[fe,Vt,xi,Kn,[new it,mr],[new it,Di],...e]}])}var qu=rt(KE,!0);var XE=rt(qE,!0);var La=rt(xE,!0);var JE=rt($E,!0);var i_=rt(Kg,!0);var ZE=rt(PE,!0);var eT=rt(UE,!0);var tT=rt(zE,!0);var nT=rt(jE,!0);var on=(()=>{let e=class e{constructor(n){this.fireStore=n,this.res=[],this.actores=[],this.countRes=0}setData(n,r){let s=La(this.fireStore,r);XE(s,n)}obtenerDatoSinId(n){let r=La(this.fireStore,n);return console.log("obtenerDatoSinId conteo: ",r),qu(r)}obtenerDato(n){let r=La(this.fireStore,n);return console.log("obtenerDato conteo: ",r),qu(r,{idField:"id"})}obtenerDatoPorCriterio(n,r,s){let o=La(this.fireStore,n),c=eT(o,nT(r,"==",s));return qu(c,{idField:"id"})}actualizarObj(n,r,s){let o=i_(this.fireStore,n,r);tT(o,{estadoAcceso:s})}deleteDato(n,r){let s=i_(this.fireStore,r,n.id);return JE(s)}};e.\u0275fac=function(r){return new(r||e)(z(ai))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rN(t,e){if(t&1&&q(0,"img",10),t&2){let i=J(2);V("src",i.pacientes[0]==null?null:i.pacientes[0].imagen1,Jt)}}function sN(t,e){if(t&1){let i=Ce();A(0,"button",8),re("click",function(){pe(i);let r=J();return me(r.loginRapido(0))}),H(1,rN,1,1,"img",9),S()}if(t&2){let i=J();M(),V("ngIf",i.pacientes[0]==null?null:i.pacientes[0].imagen1)}}function oN(t,e){if(t&1&&q(0,"img",12),t&2){let i=J(2);V("src",i.pacientes[1]==null?null:i.pacientes[1].imagen1,Jt)}}function aN(t,e){if(t&1){let i=Ce();A(0,"button",8),re("click",function(){pe(i);let r=J();return me(r.loginRapido(1))}),H(1,oN,1,1,"img",11),S()}if(t&2){let i=J();M(),V("ngIf",i.pacientes[1]==null?null:i.pacientes[1].imagen1)}}function cN(t,e){if(t&1&&q(0,"img",14),t&2){let i=J(2);V("src",i.pacientes[2]==null?null:i.pacientes[2].imagen1,Jt)}}function lN(t,e){if(t&1){let i=Ce();A(0,"button",8),re("click",function(){pe(i);let r=J();return me(r.loginRapido(2))}),H(1,cN,1,1,"img",13),S()}if(t&2){let i=J();M(),V("ngIf",i.pacientes[2]==null?null:i.pacientes[2].imagen1)}}function uN(t,e){if(t&1&&q(0,"img",16),t&2){let i=J(2);V("src",i.especialistas[0]==null?null:i.especialistas[0].imagen1,Jt)}}function dN(t,e){if(t&1){let i=Ce();A(0,"button",8),re("click",function(){pe(i);let r=J();return me(r.loginRapido(3))}),H(1,uN,1,1,"img",15),S()}if(t&2){let i=J();M(),V("ngIf",i.especialistas[0]==null?null:i.especialistas[0].imagen1)}}function hN(t,e){if(t&1&&q(0,"img",18),t&2){let i=J(2);V("src",i.especialistas[1]==null?null:i.especialistas[1].imagen1,Jt)}}function fN(t,e){if(t&1){let i=Ce();A(0,"button",8),re("click",function(){pe(i);let r=J();return me(r.loginRapido(4))}),H(1,hN,1,1,"img",17),S()}if(t&2){let i=J();M(),V("ngIf",i.especialistas[1]==null?null:i.especialistas[1].imagen1)}}function pN(t,e){if(t&1&&q(0,"img",20),t&2){let i=J(2);V("src",i.admins[0]==null?null:i.admins[0].imagen1,Jt)}}function mN(t,e){if(t&1){let i=Ce();A(0,"button",8),re("click",function(){pe(i);let r=J();return me(r.loginRapido(5))}),H(1,pN,1,1,"img",19),S()}if(t&2){let i=J();M(),V("ngIf",i.admins[0]==null?null:i.admins[0].imagen1)}}function gN(t,e){if(t&1){let i=Ce();A(0,"a",30),re("click",function(){pe(i);let r=J(2);return me(r.yaEsUsuario())}),N(1,"\xBFNo tienes una cuenta? \xA1Reg\xEDstrate aqu\xED!"),S()}}function _N(t,e){if(t&1){let i=Ce();A(0,"form",21),re("ngSubmit",function(){pe(i);let r=J();return me(r.onSubmit())}),A(1,"div",22)(2,"label",23),N(3,"Email: "),S(),q(4,"input",24),S(),A(5,"div",22)(6,"label",23),N(7,"Clave: "),S(),q(8,"input",25),S(),A(9,"div",26),H(10,gN,2,0,"a",27),S(),q(11,"div",28),A(12,"div",26),q(13,"input",29),S()()}if(t&2){let i=J();V("formGroup",i.formLogin),M(10),V("ngIf",i.mostrarLogin)}}function vN(t,e){if(t&1){let i=Ce();A(0,"div")(1,"button",31),re("click",function(){pe(i);let r=J();return me(r.onGoogleLogin())}),N(2,"Login With Google"),S()()}}function yN(t,e){if(t&1&&(A(0,"div",32)(1,"p",33),N(2),S()()),t&2){let i=J();M(2),yo(i.mensaje)}}var rT=(()=>{let e=class e{constructor(n,r,s,o){this.userService=n,this.router=r,this.formBuilder=s,this.fireStore=o,this.email="",this.clave="",this.mostrarLogin=!0,this.mostrarRegistro=!this.mostrarLogin,this.mostrarMensaje=!1,this.mensaje="",this.validationUserMessage={type:"errorType",message:"El email es incorrecto. Pruebe nuevamente"},this.validationFormUser=new Ti({}),this.lista=[],this.mostrarEspecialidad=!1,this.pacientes=[],this.especialistas=[],this.admins=[],this.formLogin=this.formBuilder.group({email:["",[Tt.required,Tt.email]],clave:["",[Tt.required]],paciente:[!1],especialista:[!1]})}ngOnInit(){this.getDatos()}getDatos(){this.fireStore.obtenerDato("usuarios").subscribe(n=>{this.lista=n.map(r=>(r.imagen1&&(r.imagen1=this.arreglarImagenes(r.imagen1)),r)),this.dataSource=this.lista,this.lista.forEach(r=>{r.tipoUsuario==="paciente"&&this.pacientes.length<3?this.pacientes.push(r):r.tipoUsuario==="especialista"&&this.especialistas.length<2?this.especialistas.push(r):r.tipoUsuario==="admin"&&this.admins.length<1&&this.admins.push(r)})})}arreglarImagenes(n){return n.replace(/'/g,'"')}loginRapido(n){let r;n<3?r=this.pacientes[n]:n<5?r=this.especialistas[n-3]:n===5&&(r=this.admins[0]),r&&this.formLogin.patchValue({email:r.email,clave:r.password})}onSubmit(){this.userService.login(this.formLogin.value).then(n=>{let r=n.user.email;localStorage.setItem("user",r),this.router.navigate(["/home"])}).catch(n=>this.setMensaje(n,2))}fetchUser(n){this.lista.forEach(r=>{r.email==n&&(this.usuario=r,console.log("data log: ",this.usuario))})}onGoogleLogin(){this.userService.loginWithGoogle().then(n=>{let r=n.user.email;localStorage.setItem("user",r),this.router.navigate(["/home"])}).catch(n=>console.log("Error -> onClick: "+n))}yaEsUsuario(){return this.mostrarLogin=!this.mostrarLogin,this.mostrarRegistro=!this.mostrarRegistro,this.router.navigate(["/registro"]),!1}setMensaje(n,r){switch(this.mostrarMensaje=!0,n.code){case"auth/invalid-credential":this.mensaje="La contrase\xF1a proporcionada no es v\xE1lida.";break;case"auth/invalid-email":this.mensaje="El correo electr\xF3nico proporcionado no es v\xE1lido.";break;case"auth/missing-password":this.mensaje="La contrase\xF1a es obligatoria.";break;case"auth/missing-email":this.mensaje="El correo electr\xF3nico es obligatorio.";break;case"auth/email-already-in-use":this.mensaje="El correo electr\xF3nico ya est\xE1 en uso.";break;case"NaN":this.mensaje="La contrase\xF1a es incorrecta.";break;default:this.mensaje="Se produjo un error desconocido.",console.log(this.mensaje+" Api Response: "+n);break}setTimeout(()=>{this.mostrarMensaje=!1,this.mensaje=""},3e3)}};e.\u0275fac=function(r){return new(r||e)(x(Bt),x(Ut),x(fl),x(on))},e.\u0275cmp=de({type:e,selectors:[["app-login"]],standalone:!0,features:[he],decls:13,vars:9,consts:[[1,"login-background"],[1,"formulario"],[1,"accesos-rapidos"],["class","btn-foto",3,"click",4,"ngIf"],["src","https://github.com/dsvlivon/imagenes/blob/main/DV_logo.png?raw=true","alt","Logo",1,"logo"],["class","login-form",3,"formGroup","ngSubmit",4,"ngIf"],[4,"ngIf"],["style","text-align: center;",4,"ngIf"],[1,"btn-foto",3,"click"],["alt","Paciente 1",3,"src",4,"ngIf"],["alt","Paciente 1",3,"src"],["alt","Paciente 2",3,"src",4,"ngIf"],["alt","Paciente 2",3,"src"],["alt","Paciente 3",3,"src",4,"ngIf"],["alt","Paciente 3",3,"src"],["alt","Especialista 1",3,"src",4,"ngIf"],["alt","Especialista 1",3,"src"],["alt","Especialista 2",3,"src",4,"ngIf"],["alt","Especialista 2",3,"src"],["alt","Admin",3,"src",4,"ngIf"],["alt","Admin",3,"src"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","email",1,"form-control"],["type","password","formControlName","clave",1,"form-control"],[2,"align-items","center","display","flex"],["href","#","style","color: white; width: 100%;","class","link",3,"click",4,"ngIf"],[2,"margin-top","20px"],["type","submit","value","Ingresar",1,"btn-76"],["href","#",1,"link",2,"color","white","width","100%",3,"click"],[1,"btn","btn-info","btn-google",3,"click"],[2,"text-align","center"],[2,"margin-top","20px","color","darkslategrey","text-shadow","0 0 10px white"]],template:function(r,s){r&1&&(A(0,"div",0)(1,"div",1)(2,"div",2),H(3,sN,2,1,"button",3)(4,aN,2,1,"button",3)(5,lN,2,1,"button",3)(6,dN,2,1,"button",3)(7,fN,2,1,"button",3)(8,mN,2,1,"button",3),S(),q(9,"img",4),H(10,_N,14,2,"form",5)(11,vN,3,0,"div",6)(12,yN,3,1,"div",7),S()()),r&2&&(M(3),V("ngIf",s.pacientes[0]),M(),V("ngIf",s.pacientes[1]),M(),V("ngIf",s.pacientes[2]),M(),V("ngIf",s.especialistas[0]),M(),V("ngIf",s.especialistas[1]),M(),V("ngIf",s.admins[0]),M(2),V("ngIf",s.mostrarLogin),M(),V("ngIf",s.mostrarLogin),M(),V("ngIf",s.mostrarMensaje))},dependencies:[Ht,Tn,is,dl,ts,ol,al,Xo,Jo,ns,_l],styles:[".login-background[_ngcontent-%COMP%]{background-image:url(https://github.com/dsvlivon/imagenes/blob/main/parciales/fondo-background-azul.jpg?raw=true);background-size:cover;background-position:center;background-attachment:fixed;background-repeat:no-repeat;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}.formulario[_ngcontent-%COMP%]{background-color:#87cefa;color:#fff;border-radius:8%;height:auto;box-shadow:0 0 50px 5px #87cefa;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.login-form[_ngcontent-%COMP%]{width:300px;margin-bottom:10px}.form-label[_ngcontent-%COMP%]{margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.btn-google[_ngcontent-%COMP%]{padding:10px 20px;background-color:#dc3545;color:#fff;border:none;border-radius:4px;cursor:pointer}.btn-76[_ngcontent-%COMP%], .btn-76[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .btn-76[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, .btn-76[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before, .btn-76[_ngcontent-%COMP%]:after, .btn-76[_ngcontent-%COMP%]:before{border:0 solid;box-sizing:border-box}.btn-76[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;-webkit-appearance:button;background-color:#000;background-image:none;color:#fff;cursor:pointer;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-size:100%;line-height:1.5;margin:0;-webkit-mask-image:-webkit-radial-gradient(#000,#fff);padding:0}.btn-76[_ngcontent-%COMP%]:disabled{cursor:default}.btn-76[_ngcontent-%COMP%]:-moz-focusring{outline:auto}.btn-76[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;vertical-align:middle}.btn-76[_ngcontent-%COMP%]   [hidden][_ngcontent-%COMP%]{display:none}.btn-76[_ngcontent-%COMP%]{--neon: #0ea5e9;box-sizing:border-box;display:block;font-weight:900;-webkit-mask-image:none;outline:4px solid #fff;outline-offset:-4px;overflow:hidden;padding:1.2rem 3rem;position:relative;text-transform:uppercase;transition:.2s linear .1s;width:100%;margin-left:3%}.btn-76[_ngcontent-%COMP%]:hover{background:var(--neon);box-shadow:0 0 5px var(--neon),0 0 25px var(--neon),0 0 50px var(--neon),0 0 100px var(--neon);color:#fff;outline-color:transparent;transition:.2s linear .6s}.btn-76[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;inset:0;position:absolute}.btn-76[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{border-top:4px solid var(--neon);opacity:0;transform:translate(calc(-100% + var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .top[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear}.btn-76[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{border-right:4px solid var(--neon);opacity:0;transform:translateY(calc(-100% + var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .right[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear .2s}.btn-76[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{border-bottom:4px solid var(--neon);opacity:0;transform:translate(calc(100% - var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .bottom[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear .4s}.btn-76[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{border-left:4px solid var(--neon);opacity:0;transform:translateY(calc(100% - var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .left[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear .6s}.accesos-rapidos[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.btn-foto[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100px;height:100px;margin:10px;border:2px solid #ccc;border-radius:5px;overflow:hidden;background-color:#f0f0f0;cursor:pointer}.btn-foto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;object-fit:cover;margin-bottom:10px}.btn-foto[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.btn-foto[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}"]});let t=e;return t})();function Hu(t){return t&&typeof t.connect=="function"&&!(t instanceof ho)}var js=function(t){return t[t.REPLACED=0]="REPLACED",t[t.INSERTED=1]="INSERTED",t[t.MOVED=2]="MOVED",t[t.REMOVED=3]="REMOVED",t}(js||{}),ja=new te("_ViewRepeater"),Bs=class{applyChanges(e,i,n,r,s){e.forEachOperation((o,c,l)=>{let u,f;if(o.previousIndex==null){let m=n(o,c,l);u=i.createEmbeddedView(m.templateRef,m.context,m.index),f=js.INSERTED}else l==null?(i.remove(c),f=js.REMOVED):(u=i.get(c),i.move(u,l),f=js.MOVED);s&&s({context:u?.context,operation:f,record:o})})}detach(){}};var Gu=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,i,n=!0,r){this._multiple=e,this._emitChanges=n,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new nt,i&&i.length&&(e?i.forEach(s=>this._markSelected(s)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(n=>this._markSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...e){this._verifyValueAssignment(e),e.forEach(n=>this._unmarkSelected(n));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...e){this._verifyValueAssignment(e);let i=this.selected,n=new Set(e);e.forEach(s=>this._markSelected(s)),i.filter(s=>!n.has(this._getConcreteValue(s,n))).forEach(s=>this._unmarkSelected(s));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let i=this._hasQueuedChanges();return e&&this._emitChangeEvent(),i}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,i){if(this.compareWith){i=i??this._selection;for(let n of i)if(this.compareWith(e,n))return n;return e}else return e}};var bN=20,oT=(()=>{let e=class e{constructor(n,r,s){this._platform=n,this._change=new nt,this._changeListener=o=>{this._change.next(o)},this._document=s,r.runOutsideAngular(()=>{if(n.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+s,right:n.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),s=n.documentElement,o=s.getBoundingClientRect(),c=-o.top||n.body.scrollTop||r.scrollY||s.scrollTop||0,l=-o.left||n.body.scrollLeft||r.scrollX||s.scrollLeft||0;return{top:c,left:l}}change(n=bN){return n>0?this._change.pipe(Nv(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(z(Ct),z(fe),z(Te,8))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({});let t=e;return t})(),aT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[as,sT,as,sT]});let t=e;return t})();var EN=[[["caption"]],[["colgroup"],["col"]],"*"],TN=["caption","colgroup, col","*"];function CN(t,e){t&1&&et(0,2)}function SN(t,e){t&1&&(A(0,"thead",0),Mt(1,1),S(),A(2,"tbody",0),Mt(3,2)(4,3),S(),A(5,"tfoot",0),Mt(6,4),S())}function AN(t,e){t&1&&Mt(0,1)(1,2)(2,3)(3,4)}var yn=new te("CDK_TABLE");var Ju=(()=>{let e=class e{constructor(n){this.template=n}};e.\u0275fac=function(r){return new(r||e)(x(wn))},e.\u0275dir=Y({type:e,selectors:[["","cdkCellDef",""]],standalone:!0});let t=e;return t})(),Zu=(()=>{let e=class e{constructor(n){this.template=n}};e.\u0275fac=function(r){return new(r||e)(x(wn))},e.\u0275dir=Y({type:e,selectors:[["","cdkHeaderCellDef",""]],standalone:!0});let t=e;return t})(),uT=(()=>{let e=class e{constructor(n){this.template=n}};e.\u0275fac=function(r){return new(r||e)(x(wn))},e.\u0275dir=Y({type:e,selectors:[["","cdkFooterCellDef",""]],standalone:!0});let t=e;return t})(),zs=(()=>{let e=class e{get name(){return this._name}set name(n){this._setNameInput(n)}get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(n){n!==this._stickyEnd&&(this._stickyEnd=n,this._hasStickyChanged=!0)}constructor(n){this._table=n,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){let n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(n){n&&(this._name=n,this.cssClassFriendlyName=n.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}};e.\u0275fac=function(r){return new(r||e)(x(yn,8))},e.\u0275dir=Y({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(r,s,o){if(r&1&&(Ot(o,Ju,5),Ot(o,Zu,5),Ot(o,uT,5)),r&2){let c;Ge(c=He())&&(s.cell=c.first),Ge(c=He())&&(s.headerCell=c.first),Ge(c=He())&&(s.footerCell=c.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",Ae],stickyEnd:[2,"stickyEnd","stickyEnd",Ae]},standalone:!0,features:[Se([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),lt]});let t=e;return t})(),Ku=class{constructor(e,i){i.nativeElement.classList.add(...e._columnCssClassName)}},dT=(()=>{let e=class e extends Ku{constructor(n,r){super(n,r)}};e.\u0275fac=function(r){return new(r||e)(x(zs),x(we))},e.\u0275dir=Y({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[Ie]});let t=e;return t})();var hT=(()=>{let e=class e extends Ku{constructor(n,r){super(n,r);let s=n._table?._getCellRole();s&&r.nativeElement.setAttribute("role",s)}};e.\u0275fac=function(r){return new(r||e)(x(zs),x(we))},e.\u0275dir=Y({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[Ie]});let t=e;return t})(),Qu=class{constructor(){this.tasks=[],this.endTasks=[]}},Yu=new te("_COALESCED_STYLE_SCHEDULER"),s_=(()=>{let e=class e{constructor(n){this._currentSchedule=null,this._ngZone=$(fe)}schedule(n){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(n)}scheduleEnd(n){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(n)}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Qu,this._ngZone.runOutsideAngular(()=>queueMicrotask(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){let n=this._currentSchedule;this._currentSchedule=new Qu;for(let r of n.tasks)r();for(let r of n.endTasks)r()}this._currentSchedule=null})))}};e.\u0275fac=function(r){return new(r||e)(z(fe))},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})();var o_=(()=>{let e=class e{constructor(n,r){this.template=n,this._differs=r}ngOnChanges(n){if(!this._columnsDiffer){let r=n.columns&&n.columns.currentValue||[];this._columnsDiffer=this._differs.find(r).create(),this._columnsDiffer.diff(r)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(n){return this instanceof Ba?n.headerCell.template:this instanceof a_?n.footerCell.template:n.cell.template}};e.\u0275fac=function(r){return new(r||e)(x(wn),x(Yi))},e.\u0275dir=Y({type:e,features:[ct]});let t=e;return t})(),Ba=(()=>{let e=class e extends o_{get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}constructor(n,r,s){super(n,r),this._table=s,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(n){super.ngOnChanges(n)}hasStickyChanged(){let n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}};e.\u0275fac=function(r){return new(r||e)(x(wn),x(Yi),x(yn,8))},e.\u0275dir=Y({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",Ae]},standalone:!0,features:[lt,Ie,ct]});let t=e;return t})(),a_=(()=>{let e=class e extends o_{get sticky(){return this._sticky}set sticky(n){n!==this._sticky&&(this._sticky=n,this._hasStickyChanged=!0)}constructor(n,r,s){super(n,r),this._table=s,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(n){super.ngOnChanges(n)}hasStickyChanged(){let n=this._hasStickyChanged;return this.resetStickyChanged(),n}resetStickyChanged(){this._hasStickyChanged=!1}};e.\u0275fac=function(r){return new(r||e)(x(wn),x(Yi),x(yn,8))},e.\u0275dir=Y({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",Ae]},standalone:!0,features:[lt,Ie,ct]});let t=e;return t})(),ed=(()=>{let e=class e extends o_{constructor(n,r,s){super(n,r),this._table=s}};e.\u0275fac=function(r){return new(r||e)(x(wn),x(Yi),x(yn,8))},e.\u0275dir=Y({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},standalone:!0,features:[Ie]});let t=e;return t})(),Rr=(()=>{let e=class e{constructor(n){this._viewContainer=n,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}};e.mostRecentCellOutlet=null,e.\u0275fac=function(r){return new(r||e)(x(zn))},e.\u0275dir=Y({type:e,selectors:[["","cdkCellOutlet",""]],standalone:!0});let t=e;return t})(),c_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[he],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&Mt(0,0)},dependencies:[Rr],encapsulation:2});let t=e;return t})();var l_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[he],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&Mt(0,0)},dependencies:[Rr],encapsulation:2});let t=e;return t})(),fT=(()=>{let e=class e{constructor(n){this.templateRef=n,this._contentClassName="cdk-no-data-row"}};e.\u0275fac=function(r){return new(r||e)(x(wn))},e.\u0275dir=Y({type:e,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0});let t=e;return t})(),cT=["top","bottom","left","right"],r_=class{constructor(e,i,n,r,s=!0,o=!0,c){this._isNativeHtmlTable=e,this._stickCellCss=i,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=c,this._cachedCellWidths=[],this._borderCellCss={top:`${i}-border-elem-top`,bottom:`${i}-border-elem-bottom`,left:`${i}-border-elem-left`,right:`${i}-border-elem-right`}}clearStickyPositioning(e,i){let n=[];for(let r of e)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let s=0;s<r.children.length;s++)n.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(let r of n)this._removeStickyStyle(r,i)})}updateStickyColumns(e,i,n,r=!0){if(!e.length||!this._isBrowser||!(i.some(s=>s)||n.some(s=>s))){this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}));return}this._coalescedStyleScheduler.schedule(()=>{let s=e[0],o=s.children.length,c=this._getCellWidths(s,r),l=this._getStickyStartColumnPositions(c,i),u=this._getStickyEndColumnPositions(c,n),f=i.lastIndexOf(!0),m=n.indexOf(!0),_=this.direction==="rtl",C=_?"right":"left",P=_?"left":"right";for(let F of e)for(let k=0;k<o;k++){let U=F.children[k];i[k]&&this._addStickyStyle(U,C,l[k],k===f),n[k]&&this._addStickyStyle(U,P,u[k],k===m)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:f===-1?[]:c.slice(0,f+1).map((F,k)=>i[k]?F:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:m===-1?[]:c.slice(m).map((F,k)=>n[k+m]?F:null).reverse()}))})}stickRows(e,i,n){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{let r=n==="bottom"?e.slice().reverse():e,s=n==="bottom"?i.slice().reverse():i,o=[],c=[],l=[];for(let f=0,m=0;f<r.length;f++){if(!s[f])continue;o[f]=m;let _=r[f];l[f]=this._isNativeHtmlTable?Array.from(_.children):[_];let C=_.getBoundingClientRect().height;m+=C,c[f]=C}let u=s.lastIndexOf(!0);for(let f=0;f<r.length;f++){if(!s[f])continue;let m=o[f],_=f===u;for(let C of l[f])this._addStickyStyle(C,n,m,_)}n==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:c,offsets:o,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:c,offsets:o,elements:l})})}updateStickyFooterContainer(e,i){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{let n=e.querySelector("tfoot");n&&(i.some(r=>!r)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1))})}_removeStickyStyle(e,i){for(let r of i)e.style[r]="",e.classList.remove(this._borderCellCss[r]);cT.some(r=>i.indexOf(r)===-1&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,i,n,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[i]),e.style[i]=`${n}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){let i={top:100,bottom:10,left:1,right:1},n=0;for(let r of cT)e.style[r]&&(n+=i[r]);return n?`${n}`:""}_getCellWidths(e,i=!0){if(!i&&this._cachedCellWidths.length)return this._cachedCellWidths;let n=[],r=e.children;for(let s=0;s<r.length;s++){let o=r[s];n.push(o.getBoundingClientRect().width)}return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(e,i){let n=[],r=0;for(let s=0;s<e.length;s++)i[s]&&(n[s]=r,r+=e[s]);return n}_getStickyEndColumnPositions(e,i){let n=[],r=0;for(let s=e.length;s>0;s--)i[s]&&(n[s]=r,r+=e[s]);return n}};var Xu=new te("CDK_SPL");var u_=(()=>{let e=class e{constructor(n,r){this.viewContainer=n,this.elementRef=r;let s=$(yn);s._rowOutlet=this,s._outletAssigned()}};e.\u0275fac=function(r){return new(r||e)(x(zn),x(we))},e.\u0275dir=Y({type:e,selectors:[["","rowOutlet",""]],standalone:!0});let t=e;return t})(),d_=(()=>{let e=class e{constructor(n,r){this.viewContainer=n,this.elementRef=r;let s=$(yn);s._headerRowOutlet=this,s._outletAssigned()}};e.\u0275fac=function(r){return new(r||e)(x(zn),x(we))},e.\u0275dir=Y({type:e,selectors:[["","headerRowOutlet",""]],standalone:!0});let t=e;return t})(),h_=(()=>{let e=class e{constructor(n,r){this.viewContainer=n,this.elementRef=r;let s=$(yn);s._footerRowOutlet=this,s._outletAssigned()}};e.\u0275fac=function(r){return new(r||e)(x(zn),x(we))},e.\u0275dir=Y({type:e,selectors:[["","footerRowOutlet",""]],standalone:!0});let t=e;return t})(),f_=(()=>{let e=class e{constructor(n,r){this.viewContainer=n,this.elementRef=r;let s=$(yn);s._noDataRowOutlet=this,s._outletAssigned()}};e.\u0275fac=function(r){return new(r||e)(x(zn),x(we))},e.\u0275dir=Y({type:e,selectors:[["","noDataRowOutlet",""]],standalone:!0});let t=e;return t})();var p_=(()=>{let e=class e{_getCellRole(){if(this._cellRoleInternal===void 0){let n=this._elementRef.nativeElement.getAttribute("role"),r=n==="grid"||n==="treegrid"?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&r==="cell"?null:r}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(n){this._trackByFn=n}get dataSource(){return this._dataSource}set dataSource(n){this._dataSource!==n&&this._switchDataSource(n)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(n){this._multiTemplateDataRows=n,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(n){this._fixedLayout=n,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(n,r,s,o,c,l,u,f,m,_,C,P){this._differs=n,this._changeDetectorRef=r,this._elementRef=s,this._dir=c,this._platform=u,this._viewRepeater=f,this._coalescedStyleScheduler=m,this._viewportRuler=_,this._stickyPositioningListener=C,this._onDestroy=new nt,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Fe,this.viewChange=new wt({start:0,end:Number.MAX_VALUE}),this._injector=$(Vt),o||s.nativeElement.setAttribute("role","table"),this._document=l,this._isServer=!u.isBrowser,this._isNativeHtmlTable=s.nativeElement.nodeName==="TABLE"}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((n,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r),this._viewportRuler.change().pipe(dn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(n=>{n?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),Hu(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let n=this._dataDiffer.diff(this._renderRows);if(!n){this._updateNoDataRow(),this.contentChanged.next();return}let r=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(n,r,(s,o,c)=>this._getEmbeddedViewArgs(s.item,c),s=>s.item.data,s=>{s.operation===js.INSERTED&&s.context&&this._renderCellTemplateForItem(s.record.item.rowDef,s.context)}),this._updateRowIndexContext(),n.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);o.context.$implicit=s.item.data}),this._updateNoDataRow(),vc(()=>{this.updateStickyColumnStyles()},{injector:this._injector}),this.contentChanged.next()}addColumnDef(n){this._customColumnDefs.add(n)}removeColumnDef(n){this._customColumnDefs.delete(n)}addRowDef(n){this._customRowDefs.add(n)}removeRowDef(n){this._customRowDefs.delete(n)}addHeaderRowDef(n){this._customHeaderRowDefs.add(n),this._headerRowDefChanged=!0}removeHeaderRowDef(n){this._customHeaderRowDefs.delete(n),this._headerRowDefChanged=!0}addFooterRowDef(n){this._customFooterRowDefs.add(n),this._footerRowDefChanged=!0}removeFooterRowDef(n){this._customFooterRowDefs.delete(n),this._footerRowDefChanged=!0}setNoDataRow(n){this._customNoDataRow=n}updateStickyHeaderRowStyles(){let n=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let s=lT(this._headerRowOutlet,"thead");s&&(s.style.display=n.length?"":"none")}let r=this._headerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(n,["top"]),this._stickyStyler.stickRows(n,r,"top"),this._headerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyFooterRowStyles(){let n=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let s=lT(this._footerRowOutlet,"tfoot");s&&(s.style.display=n.length?"":"none")}let r=this._footerRowDefs.map(s=>s.sticky);this._stickyStyler.clearStickyPositioning(n,["bottom"]),this._stickyStyler.stickRows(n,r,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,r),this._footerRowDefs.forEach(s=>s.resetStickyChanged())}updateStickyColumnStyles(){let n=this._getRenderedRows(this._headerRowOutlet),r=this._getRenderedRows(this._rowOutlet),s=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...n,...r,...s],["left","right"]),this._stickyColumnStylesNeedReset=!1),n.forEach((o,c)=>{this._addStickyColumnStyles([o],this._headerRowDefs[c])}),this._rowDefs.forEach(o=>{let c=[];for(let l=0;l<r.length;l++)this._renderRows[l].rowDef===o&&c.push(r[l]);this._addStickyColumnStyles(c,o)}),s.forEach((o,c)=>{this._addStickyColumnStyles([o],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let r=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||r,this._forceRecalculateCellWidths=r,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let n=[],r=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let s=0;s<this._data.length;s++){let o=this._data[s],c=this._getRenderRowsForData(o,s,r.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let l=0;l<c.length;l++){let u=c[l],f=this._cachedRenderRowsMap.get(u.data);f.has(u.rowDef)?f.get(u.rowDef).push(u):f.set(u.rowDef,[u]),n.push(u)}}return n}_getRenderRowsForData(n,r,s){return this._getRowDefs(n,r).map(c=>{let l=s&&s.has(c)?s.get(c):[];if(l.length){let u=l.shift();return u.dataIndex=r,u}else return{data:n,rowDef:c,dataIndex:r}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Wu(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(r=>{this._columnDefsByName.has(r.name),this._columnDefsByName.set(r.name,r)})}_cacheRowDefs(){this._headerRowDefs=Wu(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Wu(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Wu(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let n=this._rowDefs.filter(r=>!r.when);!this.multiTemplateDataRows&&n.length>1,this._defaultRowDef=n[0]}_renderUpdatedColumns(){let n=(c,l)=>c||!!l.getColumnsDiff(),r=this._rowDefs.reduce(n,!1);r&&this._forceRenderDataRows();let s=this._headerRowDefs.reduce(n,!1);s&&this._forceRenderHeaderRows();let o=this._footerRowDefs.reduce(n,!1);return o&&this._forceRenderFooterRows(),r||s||o}_switchDataSource(n){this._data=[],Hu(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),n||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=n}_observeRenderChanges(){if(!this.dataSource)return;let n;Hu(this.dataSource)?n=this.dataSource.connect(this):Or(this.dataSource)?n=this.dataSource:Array.isArray(this.dataSource)&&(n=ee(this.dataSource)),this._renderChangeSubscription=n.pipe(dn(this._onDestroy)).subscribe(r=>{this._data=r||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((n,r)=>this._renderRow(this._headerRowOutlet,n,r)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((n,r)=>this._renderRow(this._footerRowOutlet,n,r)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(n,r){let s=Array.from(r.columns||[]).map(l=>{let u=this._columnDefsByName.get(l);return u}),o=s.map(l=>l.sticky),c=s.map(l=>l.stickyEnd);this._stickyStyler.updateStickyColumns(n,o,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(n){let r=[];for(let s=0;s<n.viewContainer.length;s++){let o=n.viewContainer.get(s);r.push(o.rootNodes[0])}return r}_getRowDefs(n,r){if(this._rowDefs.length==1)return[this._rowDefs[0]];let s=[];if(this.multiTemplateDataRows)s=this._rowDefs.filter(o=>!o.when||o.when(r,n));else{let o=this._rowDefs.find(c=>c.when&&c.when(r,n))||this._defaultRowDef;o&&s.push(o)}return s.length,s}_getEmbeddedViewArgs(n,r){let s=n.rowDef,o={$implicit:n.data};return{templateRef:s.template,context:o,index:r}}_renderRow(n,r,s,o={}){let c=n.viewContainer.createEmbeddedView(r.template,o,s);return this._renderCellTemplateForItem(r,o),c}_renderCellTemplateForItem(n,r){for(let s of this._getCellTemplates(n))Rr.mostRecentCellOutlet&&Rr.mostRecentCellOutlet._viewContainer.createEmbeddedView(s,r);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let n=this._rowOutlet.viewContainer;for(let r=0,s=n.length;r<s;r++){let c=n.get(r).context;c.count=s,c.first=r===0,c.last=r===s-1,c.even=r%2===0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[r].dataIndex,c.renderIndex=r):c.index=this._renderRows[r].dataIndex}}_getCellTemplates(n){return!n||!n.columns?[]:Array.from(n.columns,r=>{let s=this._columnDefsByName.get(r);return n.extractCellTemplate(s)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let n=(r,s)=>r||s.hasStickyChanged();this._headerRowDefs.reduce(n,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(n,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(n,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let n=this._dir?this._dir.value:"ltr";this._stickyStyler=new r_(this._isNativeHtmlTable,this.stickyCssClass,n,this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:ee()).pipe(dn(this._onDestroy)).subscribe(r=>{this._stickyStyler.direction=r,this.updateStickyColumnStyles()})}_getOwnDefs(n){return n.filter(r=>!r._table||r._table===this)}_updateNoDataRow(){let n=this._customNoDataRow||this._noDataRow;if(!n)return;let r=this._rowOutlet.viewContainer.length===0;if(r===this._isShowingNoDataRow)return;let s=this._noDataRowOutlet.viewContainer;if(r){let o=s.createEmbeddedView(n.templateRef),c=o.rootNodes[0];o.rootNodes.length===1&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(n._contentClassName))}else s.clear();this._isShowingNoDataRow=r,this._changeDetectorRef.markForCheck()}};e.\u0275fac=function(r){return new(r||e)(x(Yi),x(Lt),x(we),Bn("role"),x(gl,8),x(Te),x(Ct),x(ja),x(Yu),x(oT),x(Xu,12),x(fe,8))},e.\u0275cmp=de({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(r,s,o){if(r&1&&(Ot(o,fT,5),Ot(o,zs,5),Ot(o,ed,5),Ot(o,Ba,5),Ot(o,a_,5)),r&2){let c;Ge(c=He())&&(s._noDataRow=c.first),Ge(c=He())&&(s._contentColumnDefs=c),Ge(c=He())&&(s._contentRowDefs=c),Ge(c=He())&&(s._contentHeaderRowDefs=c),Ge(c=He())&&(s._contentFooterRowDefs=c)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(r,s){r&2&&qe("cdk-table-fixed-layout",s.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",Ae],fixedLayout:[2,"fixedLayout","fixedLayout",Ae]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Se([{provide:yn,useExisting:e},{provide:ja,useClass:Bs},{provide:Yu,useClass:s_},{provide:Xu,useValue:null}]),lt,he],ngContentSelectors:TN,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,s){r&1&&(Et(EN),et(0),et(1,1),H(2,CN,1,0)(3,SN,7,0)(4,AN,4,0)),r&2&&(M(2),In(s._isServer?2:-1),M(),In(s._isNativeHtmlTable?3:4))},dependencies:[d_,u_,f_,h_],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2});let t=e;return t})();function Wu(t,e){return t.concat(Array.from(e))}function lT(t,e){let i=e.toUpperCase(),n=t.viewContainer.element.nativeElement;for(;n;){let r=n.nodeType===1?n.nodeName:null;if(r===i)return n;if(r==="TABLE")break;n=n.parentNode}return null}var pT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[aT]});let t=e;return t})();var RN=[[["caption"]],[["colgroup"],["col"]],"*"],kN=["caption","colgroup, col","*"];function DN(t,e){t&1&&et(0,2)}function xN(t,e){t&1&&(A(0,"thead",0),Mt(1,1),S(),A(2,"tbody",2),Mt(3,3)(4,4),S(),A(5,"tfoot",0),Mt(6,5),S())}function PN(t,e){t&1&&Mt(0,1)(1,3)(2,4)(3,5)}var mT=(()=>{let e=class e extends p_{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275cmp=de({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(r,s){r&2&&qe("mdc-table-fixed-layout",s.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Se([{provide:p_,useExisting:e},{provide:yn,useExisting:e},{provide:Yu,useClass:s_},{provide:ja,useClass:Bs},{provide:Xu,useValue:null}]),Ie,he],ngContentSelectors:kN,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(r,s){r&1&&(Et(RN),et(0),et(1,1),H(2,DN,1,0)(3,xN,7,0)(4,PN,4,0)),r&2&&(M(2),In(s._isServer?2:-1),M(),In(s._isNativeHtmlTable?3:4))},dependencies:[d_,u_,f_,h_],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2});let t=e;return t})(),gT=(()=>{let e=class e extends Ju{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["","matCellDef",""]],standalone:!0,features:[Se([{provide:Ju,useExisting:e}]),Ie]});let t=e;return t})(),_T=(()=>{let e=class e extends Zu{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Se([{provide:Zu,useExisting:e}]),Ie]});let t=e;return t})();var vT=(()=>{let e=class e extends zs{get name(){return this._name}set name(n){this._setNameInput(n)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},standalone:!0,features:[Se([{provide:zs,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),Ie]});let t=e;return t})(),yT=(()=>{let e=class e extends dT{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[Ie]});let t=e;return t})();var bT=(()=>{let e=class e extends hT{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[Ie]});let t=e;return t})();var wT=(()=>{let e=class e extends Ba{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",Ae]},standalone:!0,features:[Se([{provide:Ba,useExisting:e}]),lt,Ie]});let t=e;return t})();var IT=(()=>{let e=class e extends ed{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275dir=Y({type:e,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},standalone:!0,features:[Se([{provide:ed,useExisting:e}]),Ie]});let t=e;return t})(),ET=(()=>{let e=class e extends c_{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275cmp=de({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Se([{provide:c_,useExisting:e}]),Ie,he],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&Mt(0,0)},dependencies:[Rr],encapsulation:2});let t=e;return t})();var TT=(()=>{let e=class e extends l_{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=$e(e)))(s||e)}})(),e.\u0275cmp=de({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Se([{provide:l_,useExisting:e}]),Ie,he],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(r,s){r&1&&Mt(0,0)},dependencies:[Rr],encapsulation:2});let t=e;return t})();var CT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[Be,pT,Be]});let t=e;return t})();var ST=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[Cf,Be,Cf,Be]});let t=e;return t})();function ON(t,e){if(t&1&&(A(0,"div",7)(1,"div",8),q(2,"img",9),S(),A(3,"div",10)(4,"p"),N(5),S(),A(6,"p"),N(7),S(),A(8,"p"),N(9),S(),A(10,"p"),N(11),S(),A(12,"p"),N(13),S(),A(14,"p"),N(15),S()()()),t&2){let i=J(2);M(2),_o("alt",i.obj.nombre),V("src",i.obj.imagen1,Jt),M(3),Me("Nombre: ",i.obj.nombre,""),M(2),Me("Apellido: ",i.obj.apellido,""),M(2),Me("Email: ",i.obj.email,""),M(2),Me("Especialidad: ",i.obj.especialidad,""),M(2),Me("Obra Social: ",i.obj.obraSocial,""),M(2),Me("Mail: ",i.obj.email,"")}}function NN(t,e){if(t&1){let i=Ce();A(0,"div")(1,"button",11),re("click",function(){pe(i);let r=J(2);return me(r.habilitar())}),N(2,"Habilitar"),S()()}}function FN(t,e){if(t&1){let i=Ce();A(0,"div")(1,"button",11),re("click",function(){pe(i);let r=J(2);return me(r.Deshabilitar())}),N(2,"Desabilitar"),S()()}}function VN(t,e){if(t&1){let i=Ce();A(0,"div",1)(1,"div",2)(2,"span",3),re("click",function(){pe(i);let r=J();return me(r.cerrarModal())}),N(3,"\xD7"),S(),A(4,"h2"),N(5,"Detalles del Especialista"),S(),A(6,"h3")(7,"strong"),N(8,"Estado:"),S(),N(9),S(),H(10,ON,16,8,"div",4),q(11,"div",5),H(12,NN,3,0,"div",6)(13,FN,3,0,"div",6),q(14,"div",5),S()()}if(t&2){let i=J();M(9),Me(" ",i.obj.estadoAcceso,""),M(),V("ngIf",i.obj),M(2),V("ngIf",i.mostrarHabilitar),M(),V("ngIf",i.mostrarDeshabilitar)}}var AT=(()=>{let e=class e{constructor(n){this.fireStore=n,this.mostrarDetalle=!0,this.mostrarHabilitar=!1,this.mostrarDeshabilitar=!1,console.log("detalle!")}ngOnChanges(){this.obj.tipoUsuario=="especialista"?this.obj.estadoAcceso=="pendiente"?(this.mostrarHabilitar=!0,this.mostrarDeshabilitar=!1):(this.mostrarHabilitar=!1,this.mostrarDeshabilitar=!0):(this.mostrarHabilitar=!1,this.mostrarDeshabilitar=!1),this.mostrarDetalle=!!this.obj}cerrarModal(){this.mostrarDetalle=!1}habilitar(){this.obj&&this.obj.id&&(this.fireStore.actualizarObj("usuarios",this.obj.id,"aprobado"),console.log("Usuario habilitado!"),this.cerrarModal())}Deshabilitar(){this.obj&&this.obj.id&&(this.fireStore.actualizarObj("usuarios",this.obj.id,"pendiente"),console.log("Usuario deshabilitado!"),this.cerrarModal())}};e.\u0275fac=function(r){return new(r||e)(x(on))},e.\u0275cmp=de({type:e,selectors:[["app-detalle"]],inputs:{obj:"obj"},standalone:!0,features:[ct,he],decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],["class","detalle-container",4,"ngIf"],[2,"margin-top","20px"],[4,"ngIf"],[1,"detalle-container"],[1,"img-container"],[1,"obj-pic",3,"src","alt"],[1,"info-container"],[1,"btn-76",3,"click"]],template:function(r,s){r&1&&H(0,VN,15,4,"div",0),r&2&&V("ngIf",s.mostrarDetalle)},dependencies:[Ht,Tn,ns,is],styles:[".modal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.modal-content[_ngcontent-%COMP%]{background-color:#fefefe;margin:auto;padding:20px;border:1px solid #888;width:80%;max-width:600px;position:relative}.close[_ngcontent-%COMP%]{position:absolute;top:10px;right:25px;color:#000;font-size:35px;font-weight:700;cursor:pointer}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:red;text-decoration:none;cursor:pointer}.detalle-container[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#9ad6ee;border-radius:1%;padding:5%}.img-container[_ngcontent-%COMP%]{flex:1;padding-right:20px}.info-container[_ngcontent-%COMP%]{flex:2}.info-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.btn-76[_ngcontent-%COMP%], .btn-76[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .btn-76[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, .btn-76[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before, .btn-76[_ngcontent-%COMP%]:after, .btn-76[_ngcontent-%COMP%]:before{border:0 solid;box-sizing:border-box}.btn-76[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;-webkit-appearance:button;background-color:#000;background-image:none;color:#fff;cursor:pointer;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-size:100%;line-height:1.5;margin:0;-webkit-mask-image:-webkit-radial-gradient(#000,#fff);padding:0}.btn-76[_ngcontent-%COMP%]:disabled{cursor:default}.btn-76[_ngcontent-%COMP%]:-moz-focusring{outline:auto}.btn-76[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;vertical-align:middle}.btn-76[_ngcontent-%COMP%]   [hidden][_ngcontent-%COMP%]{display:none}.btn-76[_ngcontent-%COMP%]{--neon: #0ea5e9;box-sizing:border-box;display:block;font-weight:900;-webkit-mask-image:none;outline:4px solid #fff;outline-offset:-4px;overflow:hidden;padding:1.2rem 3rem;position:relative;text-transform:uppercase;transition:.2s linear .1s;width:40%;margin-left:30%}.btn-76[_ngcontent-%COMP%]:hover{background:var(--neon);box-shadow:0 0 5px var(--neon),0 0 25px var(--neon),0 0 50px var(--neon),0 0 100px var(--neon);color:#fff;outline-color:transparent;transition:.2s linear .6s}.btn-76[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;inset:0;position:absolute}.btn-76[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{border-top:4px solid var(--neon);opacity:0;transform:translate(calc(-100% + var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .top[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear}.btn-76[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{border-right:4px solid var(--neon);opacity:0;transform:translateY(calc(-100% + var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .right[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear .2s}.btn-76[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{border-bottom:4px solid var(--neon);opacity:0;transform:translate(calc(100% - var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .bottom[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear .4s}.btn-76[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{border-left:4px solid var(--neon);opacity:0;transform:translateY(calc(100% - var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .left[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear .6s}.obj-pic[_ngcontent-%COMP%]{width:auto;height:100px;padding:5px;align-items:center;justify-content:center;text-align:center}"]});let t=e;return t})();var RT=(()=>{let e=class e{constructor(n){this.el=n,this.appEstadoAcceso=""}ngOnChanges(){this.updateBackgroundColor()}updateBackgroundColor(){this.el.nativeElement.style.fontFamily="Arial, sans-serif",this.el.nativeElement.style.display="flex",this.el.nativeElement.style.justifyContent="center",this.el.nativeElement.style.alignItems="center",this.el.nativeElement.style.height="70px",this.el.nativeElement.style.marginTop="20px",this.appEstadoAcceso==="aprobado"?this.el.nativeElement.style.backgroundColor="green":this.appEstadoAcceso==="pendiente"?this.el.nativeElement.style.backgroundColor="orange":this.el.nativeElement.style.backgroundColor=""}};e.\u0275fac=function(r){return new(r||e)(x(we))},e.\u0275dir=Y({type:e,selectors:[["","appEstadoAcceso",""]],inputs:{appEstadoAcceso:"appEstadoAcceso"},standalone:!0,features:[ct]});let t=e;return t})();function LN(t,e){t&1&&(A(0,"th",19),N(1," Foto "),S())}function UN(t,e){if(t&1&&(A(0,"td",20),q(1,"img",21),S()),t&2){let i=e.$implicit;M(),_o("alt",i.nombre),V("src",i.imagen1,Jt)}}function jN(t,e){t&1&&(A(0,"th",19),N(1," Tipo de Usuario "),S())}function BN(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.tipoUsuario," ")}}function zN(t,e){t&1&&(A(0,"th",19),N(1," Apellido "),S())}function $N(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.apellido," ")}}function qN(t,e){t&1&&(A(0,"th",19),N(1," Nombre "),S())}function GN(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.nombre," ")}}function HN(t,e){t&1&&(A(0,"th",19),N(1," Dni "),S())}function WN(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.dni," ")}}function KN(t,e){t&1&&(A(0,"th",19),N(1," Edad "),S())}function QN(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.edad," ")}}function YN(t,e){t&1&&(A(0,"th",19),N(1," email "),S())}function XN(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.email," ")}}function JN(t,e){t&1&&(A(0,"th",19),N(1," Estado Acceso "),S())}function ZN(t,e){if(t&1&&(A(0,"td",22),N(1),S()),t&2){let i=e.$implicit;V("appEstadoAcceso",i.estadoAcceso),M(),Me(" ",i.estadoAcceso," ")}}function eF(t,e){t&1&&(A(0,"th",19),N(1," Especialidad "),S())}function tF(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.especialidad," ")}}function nF(t,e){t&1&&q(0,"tr",23)}function iF(t,e){if(t&1){let i=Ce();A(0,"tr",24),re("click",function(){let r=pe(i).$implicit,s=J();return me(s.emitirDetalles(r))}),S()}}function rF(t,e){t&1&&(A(0,"th",19),N(1," Foto "),S())}function sF(t,e){if(t&1&&(A(0,"td",20),q(1,"img",21),S()),t&2){let i=e.$implicit;M(),_o("alt",i.nombre),V("src",i.imagen1,Jt)}}function oF(t,e){t&1&&(A(0,"th",19),N(1," Tipo de Usuario "),S())}function aF(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.tipoUsuario," ")}}function cF(t,e){t&1&&(A(0,"th",19),N(1," Apellido "),S())}function lF(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.apellido," ")}}function uF(t,e){t&1&&(A(0,"th",19),N(1," Nombre "),S())}function dF(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.nombre," ")}}function hF(t,e){t&1&&(A(0,"th",19),N(1," Dni "),S())}function fF(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.dni," ")}}function pF(t,e){t&1&&(A(0,"th",19),N(1," Edad "),S())}function mF(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.edad," ")}}function gF(t,e){t&1&&(A(0,"th",19),N(1," email "),S())}function _F(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.email," ")}}function vF(t,e){t&1&&(A(0,"th",19),N(1," Estado Acceso "),S())}function yF(t,e){if(t&1&&(A(0,"td",22),N(1),S()),t&2){let i=e.$implicit;V("appEstadoAcceso",i.estadoAcceso),M(),Me(" ",i.estadoAcceso," ")}}function bF(t,e){t&1&&(A(0,"th",19),N(1," Obra Social "),S())}function wF(t,e){if(t&1&&(A(0,"td",20),N(1),S()),t&2){let i=e.$implicit;M(),Me(" ",i.obraSocial," ")}}function IF(t,e){t&1&&q(0,"tr",23)}function EF(t,e){if(t&1){let i=Ce();A(0,"tr",24),re("click",function(){let r=pe(i).$implicit,s=J();return me(s.emitirDetalles(r))}),S()}}function TF(t,e){if(t&1&&q(0,"app-detalle",25),t&2){let i=J();V("obj",i.selectedUsuario)}}var td=(()=>{let e=class e{constructor(n){this.fireStore=n,this.peliculaSeleccionada=new Fe,this.displayedColumnasPacientes=["Estado Acceso","Tipo de Usuario","Foto","Nombre","Apellido","Dni","Edad","Email","Obra Social"],this.displayedColumnasEspecialista=["Estado Acceso","Tipo de Usuario","Foto","Nombre","Apellido","Dni","Edad","Email","Especialidad"],this.lista=[],this.lista2=[],this.dataSource=[],this.selectedUsuario=null,this.mostrarDetalle=!1}ngOnInit(){this.getDatos()}getDatos(){this.fireStore.obtenerDato("usuarios").subscribe(n=>{this.lista=n.map(r=>(r.imagen1&&(r.imagen1=this.arreglarImagenes(r.imagen1)),r)).filter(r=>r.tipoUsuario==="especialista"||r.tipoUsuario==="admin"),this.dataSource=this.lista,this.lista2=n.map(r=>(r.imagen1&&(r.imagen1=this.arreglarImagenes(r.imagen1)),r)).filter(r=>r.tipoUsuario==="paciente")})}arreglarImagenes(n){return n.replace(/'/g,'"')}emitirDetalles(n){this.selectedUsuario=n,this.mostrarDetalle=!0}};e.\u0275fac=function(r){return new(r||e)(x(on))},e.\u0275cmp=de({type:e,selectors:[["app-habilitar-usuarios"]],outputs:{peliculaSeleccionada:"peliculaSeleccionada"},standalone:!0,features:[he],decls:62,vars:7,consts:[["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Foto"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Tipo de Usuario"],["matColumnDef","Apellido"],["matColumnDef","Nombre"],["matColumnDef","Dni"],["matColumnDef","Edad"],["matColumnDef","Email"],["matColumnDef","Estado Acceso"],["mat-cell","",3,"appEstadoAcceso",4,"matCellDef"],["matColumnDef","Especialidad"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[2,"margin-top","20px"],["mat-table","",1,"mat-elevation-z8",2,"background-color","darkslategrey",3,"dataSource"],["matColumnDef","Obra Social"],[3,"obj",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],[1,"peli-pic",3,"src","alt"],["mat-cell","",3,"appEstadoAcceso"],["mat-header-row",""],["mat-row","",3,"click"],[3,"obj"]],template:function(r,s){r&1&&(A(0,"table",0),Je(1,1),H(2,LN,2,0,"th",2)(3,UN,2,2,"td",3),Ze(),Je(4,4),H(5,jN,2,0,"th",2)(6,BN,2,1,"td",3),Ze(),Je(7,5),H(8,zN,2,0,"th",2)(9,$N,2,1,"td",3),Ze(),Je(10,6),H(11,qN,2,0,"th",2)(12,GN,2,1,"td",3),Ze(),Je(13,7),H(14,HN,2,0,"th",2)(15,WN,2,1,"td",3),Ze(),Je(16,8),H(17,KN,2,0,"th",2)(18,QN,2,1,"td",3),Ze(),Je(19,9),H(20,YN,2,0,"th",2)(21,XN,2,1,"td",3),Ze(),Je(22,10),H(23,JN,2,0,"th",2)(24,ZN,2,2,"td",11),Ze(),Je(25,12),H(26,eF,2,0,"th",2)(27,tF,2,1,"td",3),Ze(),H(28,nF,1,0,"tr",13)(29,iF,1,0,"tr",14),S(),q(30,"div",15),A(31,"table",16),Je(32,1),H(33,rF,2,0,"th",2)(34,sF,2,2,"td",3),Ze(),Je(35,4),H(36,oF,2,0,"th",2)(37,aF,2,1,"td",3),Ze(),Je(38,5),H(39,cF,2,0,"th",2)(40,lF,2,1,"td",3),Ze(),Je(41,6),H(42,uF,2,0,"th",2)(43,dF,2,1,"td",3),Ze(),Je(44,7),H(45,hF,2,0,"th",2)(46,fF,2,1,"td",3),Ze(),Je(47,8),H(48,pF,2,0,"th",2)(49,mF,2,1,"td",3),Ze(),Je(50,9),H(51,gF,2,0,"th",2)(52,_F,2,1,"td",3),Ze(),Je(53,10),H(54,vF,2,0,"th",2)(55,yF,2,2,"td",11),Ze(),Je(56,17),H(57,bF,2,0,"th",2)(58,wF,2,1,"td",3),Ze(),H(59,IF,1,0,"tr",13)(60,EF,1,0,"tr",14),S(),H(61,TF,1,1,"app-detalle",18)),r&2&&(V("dataSource",s.dataSource),M(28),V("matHeaderRowDef",s.displayedColumnasEspecialista),M(),V("matRowDefColumns",s.displayedColumnasEspecialista),M(2),V("dataSource",s.lista2),M(28),V("matHeaderRowDef",s.displayedColumnasPacientes),M(),V("matRowDefColumns",s.displayedColumnasPacientes),M(),V("ngIf",s.mostrarDetalle))},dependencies:[ST,bl,Ht,Tn,CT,mT,_T,wT,vT,gT,IT,yT,bT,ET,TT,AT,RT],styles:["mat-grid-tile[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:10px;text-align:center}.peli-pic[_ngcontent-%COMP%]{width:auto;height:100px;padding:5px;align-items:center;justify-content:center;text-align:center}.peli-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;text-align:center}th[_ngcontent-%COMP%]{background-color:#6595bd}"]});let t=e;return t})();var CF=["button"],SF=["*"];function AF(t,e){if(t&1&&q(0,"mat-pseudo-checkbox",3),t&2){let i=J();V("disabled",i.disabled)}}function RF(t,e){if(t&1&&q(0,"mat-pseudo-checkbox",3),t&2){let i=J();V("disabled",i.disabled)}}var kT=new te("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS",{providedIn:"root",factory:kF});function kF(){return{hideSingleSelectionIndicator:!1,hideMultipleSelectionIndicator:!1}}var DT=new te("MatButtonToggleGroup"),DF={provide:Sn,useExisting:xt(()=>m_),multi:!0},xT=0,nd=class{constructor(e,i){this.source=e,this.value=i}},m_=(()=>{let e=class e{get name(){return this._name}set name(n){this._name=n,this._markButtonsForCheck()}get value(){let n=this._selectionModel?this._selectionModel.selected:[];return this.multiple?n.map(r=>r.value):n[0]?n[0].value:void 0}set value(n){this._setSelectionByValue(n),this.valueChange.emit(this.value)}get selected(){let n=this._selectionModel?this._selectionModel.selected:[];return this.multiple?n:n[0]||null}get multiple(){return this._multiple}set multiple(n){this._multiple=n,this._markButtonsForCheck()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._markButtonsForCheck()}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(n){this._hideSingleSelectionIndicator=n,this._markButtonsForCheck()}get hideMultipleSelectionIndicator(){return this._hideMultipleSelectionIndicator}set hideMultipleSelectionIndicator(n){this._hideMultipleSelectionIndicator=n,this._markButtonsForCheck()}constructor(n,r,s){this._changeDetector=n,this._dir=s,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=()=>{},this._onTouched=()=>{},this._name=`mat-button-toggle-group-${xT++}`,this.valueChange=new Fe,this.change=new Fe,this.appearance=r&&r.appearance?r.appearance:"standard",this.hideSingleSelectionIndicator=r?.hideSingleSelectionIndicator??!1,this.hideMultipleSelectionIndicator=r?.hideMultipleSelectionIndicator??!1}ngOnInit(){this._selectionModel=new Gu(this.multiple,void 0,!1)}ngAfterContentInit(){this._selectionModel.select(...this._buttonToggles.filter(n=>n.checked)),this.multiple||this._initializeTabIndex()}writeValue(n){this.value=n,this._changeDetector.markForCheck()}registerOnChange(n){this._controlValueAccessorChangeFn=n}registerOnTouched(n){this._onTouched=n}setDisabledState(n){this.disabled=n}_keydown(n){if(this.multiple||this.disabled)return;let s=n.target.id,o=this._buttonToggles.toArray().findIndex(l=>l.buttonId===s),c;switch(n.keyCode){case 32:case 13:c=this._buttonToggles.get(o);break;case 38:c=this._buttonToggles.get(this._getNextIndex(o,-1));break;case 37:c=this._buttonToggles.get(this._getNextIndex(o,this.dir==="ltr"?-1:1));break;case 40:c=this._buttonToggles.get(this._getNextIndex(o,1));break;case 39:c=this._buttonToggles.get(this._getNextIndex(o,this.dir==="ltr"?1:-1));break;default:return}n.preventDefault(),c?._onButtonClick(),c?.focus()}_emitChangeEvent(n){let r=new nd(n,this.value);this._rawValue=r.value,this._controlValueAccessorChangeFn(r.value),this.change.emit(r)}_syncButtonToggle(n,r,s=!1,o=!1){!this.multiple&&this.selected&&!n.checked&&(this.selected.checked=!1),this._selectionModel?r?this._selectionModel.select(n):this._selectionModel.deselect(n):o=!0,o?Promise.resolve().then(()=>this._updateModelValue(n,s)):this._updateModelValue(n,s)}_isSelected(n){return this._selectionModel&&this._selectionModel.isSelected(n)}_isPrechecked(n){return typeof this._rawValue>"u"?!1:this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(r=>n.value!=null&&r===n.value):n.value===this._rawValue}_initializeTabIndex(){this._buttonToggles.forEach(n=>{n.tabIndex=-1}),this.selected?this.selected.tabIndex=0:this._buttonToggles.length>0&&(this._buttonToggles.get(0).tabIndex=0),this._markButtonsForCheck()}_getNextIndex(n,r){let s=n+r;return s===this._buttonToggles.length&&(s=0),s===-1&&(s=this._buttonToggles.length-1),s}_setSelectionByValue(n){this._rawValue=n,this._buttonToggles&&(this.multiple&&n?(Array.isArray(n),this._clearSelection(),n.forEach(r=>this._selectValue(r))):(this._clearSelection(),this._selectValue(n)))}_clearSelection(){this._selectionModel.clear(),this._buttonToggles.forEach(n=>{n.checked=!1,this.multiple||(n.tabIndex=-1)})}_selectValue(n){let r=this._buttonToggles.find(s=>s.value!=null&&s.value===n);r&&(r.checked=!0,this._selectionModel.select(r),this.multiple||(r.tabIndex=0))}_updateModelValue(n,r){r&&this._emitChangeEvent(n),this.valueChange.emit(this.value)}_markButtonsForCheck(){this._buttonToggles?.forEach(n=>n._markForCheck())}};e.\u0275fac=function(r){return new(r||e)(x(Lt),x(kT,8),x(gl,8))},e.\u0275dir=Y({type:e,selectors:[["mat-button-toggle-group"]],contentQueries:function(r,s,o){if(r&1&&Ot(o,id,5),r&2){let c;Ge(c=He())&&(s._buttonToggles=c)}},hostAttrs:[1,"mat-button-toggle-group"],hostVars:6,hostBindings:function(r,s){r&1&&re("keydown",function(c){return s._keydown(c)}),r&2&&(dt("role",s.multiple?"group":"radiogroup")("aria-disabled",s.disabled),qe("mat-button-toggle-vertical",s.vertical)("mat-button-toggle-group-appearance-standard",s.appearance==="standard"))},inputs:{appearance:"appearance",name:"name",vertical:[2,"vertical","vertical",Ae],value:"value",multiple:[2,"multiple","multiple",Ae],disabled:[2,"disabled","disabled",Ae],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Ae],hideMultipleSelectionIndicator:[2,"hideMultipleSelectionIndicator","hideMultipleSelectionIndicator",Ae]},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],standalone:!0,features:[Se([DF,{provide:DT,useExisting:e}]),lt]});let t=e;return t})(),id=(()=>{let e=class e{get buttonId(){return`${this.id}-button`}get tabIndex(){return this._tabIndex}set tabIndex(n){this._tabIndex=n,this._markForCheck()}get appearance(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance}set appearance(n){this._appearance=n}get checked(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked}set checked(n){n!==this._checked&&(this._checked=n,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled}set disabled(n){this._disabled=n}constructor(n,r,s,o,c,l){this._changeDetectorRef=r,this._elementRef=s,this._focusMonitor=o,this._checked=!1,this.ariaLabelledby=null,this._disabled=!1,this.change=new Fe;let u=Number(c);this.tabIndex=u||u===0?u:null,this.buttonToggleGroup=n,this.appearance=l&&l.appearance?l.appearance:"standard"}ngOnInit(){let n=this.buttonToggleGroup;this.id=this.id||`mat-button-toggle-${xT++}`,n&&(n._isPrechecked(this)?this.checked=!0:n._isSelected(this)!==this._checked&&n._syncButtonToggle(this,this._checked))}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){let n=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),n&&n._isSelected(this)&&n._syncButtonToggle(this,!1,!1,!0)}focus(n){this._buttonElement.nativeElement.focus(n)}_onButtonClick(){let n=this.isSingleSelector()?!0:!this._checked;if(n!==this._checked&&(this._checked=n,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.isSingleSelector()){let r=this.buttonToggleGroup._buttonToggles.find(s=>s.tabIndex===0);r&&(r.tabIndex=-1),this.tabIndex=0}this.change.emit(new nd(this,this.value))}_markForCheck(){this._changeDetectorRef.markForCheck()}_getButtonName(){return this.isSingleSelector()?this.buttonToggleGroup.name:this.name||null}isSingleSelector(){return this.buttonToggleGroup&&!this.buttonToggleGroup.multiple}};e.\u0275fac=function(r){return new(r||e)(x(DT,8),x(Lt),x(we),x(ab),Bn("tabindex"),x(kT,8))},e.\u0275cmp=de({type:e,selectors:[["mat-button-toggle"]],viewQuery:function(r,s){if(r&1&&En(CF,5),r&2){let o;Ge(o=He())&&(s._buttonElement=o.first)}},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(r,s){r&1&&re("focus",function(){return s.focus()}),r&2&&(dt("aria-label",null)("aria-labelledby",null)("id",s.id)("name",null),qe("mat-button-toggle-standalone",!s.buttonToggleGroup)("mat-button-toggle-checked",s.checked)("mat-button-toggle-disabled",s.disabled)("mat-button-toggle-appearance-standard",s.appearance==="standard"))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],id:"id",name:"name",value:"value",tabIndex:"tabIndex",disableRipple:[2,"disableRipple","disableRipple",Ae],appearance:"appearance",checked:[2,"checked","checked",Ae],disabled:[2,"disabled","disabled",Ae]},outputs:{change:"change"},exportAs:["matButtonToggle"],standalone:!0,features:[lt,he],ngContentSelectors:SF,decls:8,vars:13,consts:[["button",""],["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"click","id","disabled"],[1,"mat-button-toggle-label-content"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,s){if(r&1){let o=Ce();Et(),A(0,"button",1,0),re("click",function(){return pe(o),me(s._onButtonClick())}),A(2,"span",2),H(3,AF,1,1,"mat-pseudo-checkbox",3)(4,RF,1,1,"mat-pseudo-checkbox",3),et(5),S()(),q(6,"span",4)(7,"span",5)}if(r&2){let o=vo(1);V("id",s.buttonId)("disabled",s.disabled||null),dt("role",s.isSingleSelector()?"radio":"button")("tabindex",s.disabled?-1:s.tabIndex)("aria-pressed",s.isSingleSelector()?null:s.checked)("aria-checked",s.isSingleSelector()?s.checked:null)("name",s._getButtonName())("aria-label",s.ariaLabel)("aria-labelledby",s.ariaLabelledby),M(3),In(s.buttonToggleGroup&&s.checked&&!s.buttonToggleGroup.multiple&&!s.buttonToggleGroup.hideSingleSelectionIndicator?3:-1),M(),In(s.buttonToggleGroup&&s.checked&&s.buttonToggleGroup.multiple&&!s.buttonToggleGroup.hideMultipleSelectionIndicator?4:-1),M(3),V("matRippleTrigger",o)("matRippleDisabled",s.disableRipple||s.disabled)}},dependencies:[ta,_b],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0);transform:translateZ(0);border-radius:var(--mat-legacy-button-toggle-shape)}.mat-button-toggle-standalone:not([class*=mat-elevation-z]),.mat-button-toggle-group:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:var(--mat-standard-button-toggle-shape);border:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard .mat-pseudo-checkbox,.mat-button-toggle-group-appearance-standard .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-standard-button-toggle-selected-state-text-color )}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard:not([class*=mat-elevation-z]),.mat-button-toggle-group-appearance-standard:not([class*=mat-elevation-z]){box-shadow:none}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative;color:var(--mat-legacy-button-toggle-text-color);font-family:var(--mat-legacy-button-toggle-label-text-font);font-size:var(--mat-legacy-button-toggle-label-text-size);line-height:var(--mat-legacy-button-toggle-label-text-line-height);font-weight:var(--mat-legacy-button-toggle-label-text-weight);letter-spacing:var(--mat-legacy-button-toggle-label-text-tracking);--mat-minimal-pseudo-checkbox-selected-checkmark-color: var( --mat-legacy-button-toggle-selected-state-text-color )}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:var(--mat-legacy-button-toggle-focus-state-layer-opacity)}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle .mat-pseudo-checkbox{margin-right:12px}[dir=rtl] .mat-button-toggle .mat-pseudo-checkbox{margin-right:0;margin-left:12px}.mat-button-toggle-checked{color:var(--mat-legacy-button-toggle-selected-state-text-color);background-color:var(--mat-legacy-button-toggle-selected-state-background-color)}.mat-button-toggle-disabled{color:var(--mat-legacy-button-toggle-disabled-state-text-color);background-color:var(--mat-legacy-button-toggle-disabled-state-background-color);--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-legacy-button-toggle-disabled-state-text-color )}.mat-button-toggle-disabled.mat-button-toggle-checked{background-color:var(--mat-legacy-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard{color:var(--mat-standard-button-toggle-text-color);background-color:var(--mat-standard-button-toggle-background-color);font-family:var(--mat-standard-button-toggle-label-text-font);font-size:var(--mat-standard-button-toggle-label-text-size);line-height:var(--mat-standard-button-toggle-label-text-line-height);font-weight:var(--mat-standard-button-toggle-label-text-weight);letter-spacing:var(--mat-standard-button-toggle-label-text-tracking)}.mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:solid 1px var(--mat-standard-button-toggle-divider-color)}[dir=rtl] .mat-button-toggle-group-appearance-standard .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-group-appearance-standard.mat-button-toggle-vertical .mat-button-toggle-appearance-standard+.mat-button-toggle-appearance-standard{border-left:none;border-right:none;border-top:solid 1px var(--mat-standard-button-toggle-divider-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-selected-state-text-color);background-color:var(--mat-standard-button-toggle-selected-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled{color:var(--mat-standard-button-toggle-disabled-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-state-background-color)}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color: var( --mat-standard-button-toggle-disabled-selected-state-text-color )}.mat-button-toggle-appearance-standard.mat-button-toggle-disabled.mat-button-toggle-checked{color:var(--mat-standard-button-toggle-disabled-selected-state-text-color);background-color:var(--mat-standard-button-toggle-disabled-selected-state-background-color)}.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{background-color:var(--mat-standard-button-toggle-state-layer-color)}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-hover-state-layer-opacity)}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:var(--mat-standard-button-toggle-focus-state-layer-opacity)}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;user-select:none;display:inline-block;padding:0 16px;line-height:var(--mat-legacy-button-toggle-height);position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px;line-height:var(--mat-standard-button-toggle-height)}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;pointer-events:none;opacity:0;background-color:var(--mat-legacy-button-toggle-state-layer-color)}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 500px;opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked:hover .mat-button-toggle-focus-overlay{opacity:.6}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard{--mat-focus-indicator-border-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:last-of-type .mat-button-toggle-button::before{border-top-right-radius:var(--mat-standard-button-toggle-shape);border-bottom-right-radius:var(--mat-standard-button-toggle-shape)}.mat-button-toggle-group-appearance-standard .mat-button-toggle:first-of-type .mat-button-toggle-button::before{border-top-left-radius:var(--mat-standard-button-toggle-shape);border-bottom-left-radius:var(--mat-standard-button-toggle-shape)}"],encapsulation:2,changeDetection:0});let t=e;return t})(),PT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ye({type:e}),e.\u0275inj=ve({imports:[Be,gb,id,Be]});let t=e;return t})();var UT="firebasestorage.googleapis.com",jT="storageBucket",PF=2*60*1e3,MF=10*60*1e3;var Xe=class t extends Nt{constructor(e,i,n=0){super(g_(e),`Firebase Storage: ${i} (${g_(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return g_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},tt=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(tt||{});function g_(t){return"storage/"+t}function I_(){let t="An unknown error occurred, please check the error payload for server response.";return new Xe(tt.UNKNOWN,t)}function OF(t){return new Xe(tt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function NF(t){return new Xe(tt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FF(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xe(tt.UNAUTHENTICATED,t)}function VF(){return new Xe(tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function LF(t){return new Xe(tt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function UF(){return new Xe(tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jF(){return new Xe(tt.CANCELED,"User canceled the upload/download.")}function BF(t){return new Xe(tt.INVALID_URL,"Invalid URL '"+t+"'.")}function zF(t){return new Xe(tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $F(){return new Xe(tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jT+"' property when initializing the app?")}function qF(){return new Xe(tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function GF(){return new Xe(tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function HF(t){return new Xe(tt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function __(t){return new Xe(tt.INVALID_ARGUMENT,t)}function BT(){return new Xe(tt.APP_DELETED,"The Firebase app was deleted.")}function WF(t){return new Xe(tt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $a(t,e){return new Xe(tt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function za(t){throw new Xe(tt.INTERNAL_ERROR,"Internal error: "+t)}var bn=class t{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let n;try{n=t.makeFromUrl(e,i)}catch{return new t(e,"")}if(n.path==="")return n;throw zF(e)}static makeFromUrl(e,i){let n=null,r="([A-Za-z0-9.\\-_]+)";function s(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}let o="(/(.*))?$",c=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(X){X.path_=decodeURIComponent(X.path)}let f="v[A-Za-z0-9_]+",m=i.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",C=new RegExp(`^https?://${m}/${f}/b/${r}/o${_}`,"i"),P={bucket:1,path:3},F=i===UT?"(?:storage.googleapis.com|storage.cloud.google.com)":i,k="([^?#]*)",U=new RegExp(`^https?://${F}/${r}/${k}`,"i"),Z=[{regex:c,indices:l,postModify:s},{regex:C,indices:P,postModify:u},{regex:U,indices:{bucket:1,path:2},postModify:u}];for(let X=0;X<Z.length;X++){let Ne=Z[X],le=Ne.regex.exec(e);if(le){let I=le[Ne.indices.bucket],g=le[Ne.indices.path];g||(g=""),n=new t(I,g),Ne.postModify(n);break}}if(n==null)throw BF(e);return n}},v_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function KF(t,e,i){let n=1,r=null,s=null,o=!1,c=0;function l(){return c===2}let u=!1;function f(...k){u||(u=!0,e.apply(null,k))}function m(k){r=setTimeout(()=>{r=null,t(C,l())},k)}function _(){s&&clearTimeout(s)}function C(k,...U){if(u){_();return}if(k){_(),f.call(null,k,...U);return}if(l()||o){_(),f.call(null,k,...U);return}n<64&&(n*=2);let Z;c===1?(c=2,Z=0):Z=(n+Math.random())*1e3,m(Z)}let P=!1;function F(k){P||(P=!0,_(),!u&&(r!==null?(k||(c=2),clearTimeout(r),m(0)):k||(c=1)))}return m(0),s=setTimeout(()=>{o=!0,F(!0)},i),F}function QF(t){t(!1)}function YF(t){return t!==void 0}function XF(t){return typeof t=="object"&&!Array.isArray(t)}function E_(t){return typeof t=="string"||t instanceof String}function MT(t){return T_()&&t instanceof Blob}function T_(){return typeof Blob<"u"}function OT(t,e,i,n){if(n<e)throw __(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>i)throw __(`Invalid value for '${t}'. Expected ${i} or less.`)}function C_(t,e,i){let n=e;return i==null&&(n=`https://${e}`),`${i}://${n}/v0${t}`}function zT(t){let e=encodeURIComponent,i="?";for(let n in t)if(t.hasOwnProperty(n)){let r=e(n)+"="+e(t[n]);i=i+r+"&"}return i=i.slice(0,-1),i}var qs=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(qs||{});function JF(t,e){let i=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return i||r||s}var y_=class{constructor(e,i,n,r,s,o,c,l,u,f,m,_=!0){this.url_=e,this.method_=i,this.headers_=n,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=m,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,P)=>{this.resolve_=C,this.reject_=P,this.start_()})}start_(){let e=(n,r)=>{if(r){n(!1,new $s(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=c=>{let l=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let c=s.getErrorCode()===qs.NO_ERROR,l=s.getStatus();if(!c||JF(l,this.additionalRetryCodes_)&&this.retry){let f=s.getErrorCode()===qs.ABORT;n(!1,new $s(!1,null,f));return}let u=this.successCodes_.indexOf(l)!==-1;n(!0,new $s(u,s))})},i=(n,r)=>{let s=this.resolve_,o=this.reject_,c=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(c,c.getResponse());YF(l)?s(l):s()}catch(l){o(l)}else if(c!==null){let l=I_();l.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,l)):o(l)}else if(r.canceled){let l=this.appDelete_?BT():jF();o(l)}else{let l=UF();o(l)}};this.canceled_?i(!1,new $s(!1,null,!0)):this.backoffId_=KF(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&QF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},$s=class{constructor(e,i,n){this.wasSuccessCode=e,this.connection=i,this.canceled=!!n}};function ZF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function iV(t,e,i,n,r,s,o=!0){let c=zT(t.urlParams),l=t.url+c,u=Object.assign({},t.headers);return tV(u,e),ZF(u,i),eV(u,s),nV(u,n),new y_(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,o)}function rV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sV(...t){let e=rV();if(e!==void 0){let i=new e;for(let n=0;n<t.length;n++)i.append(t[n]);return i.getBlob()}else{if(T_())return new Blob(t);throw new Xe(tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oV(t,e,i){return t.webkitSlice?t.webkitSlice(e,i):t.mozSlice?t.mozSlice(e,i):t.slice?t.slice(e,i):null}function aV(t){if(typeof atob>"u")throw HF("base-64");return atob(t)}var Vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},qa=class{constructor(e,i){this.data=e,this.contentType=i||null}};function cV(t,e){switch(t){case Vn.RAW:return new qa($T(e));case Vn.BASE64:case Vn.BASE64URL:return new qa(qT(t,e));case Vn.DATA_URL:return new qa(uV(e),dV(e))}throw I_()}function $T(t){let e=[];for(let i=0;i<t.length;i++){let n=t.charCodeAt(i);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(i<t.length-1&&(t.charCodeAt(i+1)&64512)===56320))e.push(239,191,189);else{let s=n,o=t.charCodeAt(++i);n=65536|(s&1023)<<10|o&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function lV(t){let e;try{e=decodeURIComponent(t)}catch{throw $a(Vn.DATA_URL,"Malformed data URL.")}return $T(e)}function qT(t,e){switch(t){case Vn.BASE64:{let r=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(r||s)throw $a(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Vn.BASE64URL:{let r=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(r||s)throw $a(t,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=aV(e)}catch(r){throw r.message.includes("polyfill")?r:$a(t,"Invalid character found")}let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}var sd=class{constructor(e){this.base64=!1,this.contentType=null;let i=e.match(/^data:([^,]+)?,/);if(i===null)throw $a(Vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=i[1]||null;n!=null&&(this.base64=hV(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}};function uV(t){let e=new sd(t);return e.base64?qT(Vn.BASE64,e.rest):lV(e.rest)}function dV(t){return new sd(t).contentType}function hV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var od=class t{constructor(e,i){let n=0,r="";MT(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(i?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(i?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,i){if(MT(this.data_)){let n=this.data_,r=oV(n,e,i);return r===null?null:new t(r)}else{let n=new Uint8Array(this.data_.buffer,e,i-e);return new t(n,!0)}}static getBlob(...e){if(T_()){let i=e.map(n=>n instanceof t?n.data_:n);return new t(sV.apply(null,i))}else{let i=e.map(o=>E_(o)?cV(Vn.RAW,o).data:o.data_),n=0;i.forEach(o=>{n+=o.byteLength});let r=new Uint8Array(n),s=0;return i.forEach(o=>{for(let c=0;c<o.length;c++)r[s++]=o[c]}),new t(r,!0)}}uploadData(){return this.data_}};function GT(t){let e;try{e=JSON.parse(t)}catch{return null}return XF(e)?e:null}function fV(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function pV(t,e){let i=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?i:t+"/"+i}function HT(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function mV(t,e){return e}var gt=class{constructor(e,i,n,r){this.server=e,this.local=i||e,this.writable=!!n,this.xform=r||mV}},rd=null;function gV(t){return!E_(t)||t.length<2?t:HT(t)}function WT(){if(rd)return rd;let t=[];t.push(new gt("bucket")),t.push(new gt("generation")),t.push(new gt("metageneration")),t.push(new gt("name","fullPath",!0));function e(s,o){return gV(o)}let i=new gt("name");i.xform=e,t.push(i);function n(s,o){return o!==void 0?Number(o):o}let r=new gt("size");return r.xform=n,t.push(r),t.push(new gt("timeCreated")),t.push(new gt("updated")),t.push(new gt("md5Hash",null,!0)),t.push(new gt("cacheControl",null,!0)),t.push(new gt("contentDisposition",null,!0)),t.push(new gt("contentEncoding",null,!0)),t.push(new gt("contentLanguage",null,!0)),t.push(new gt("contentType",null,!0)),t.push(new gt("metadata","customMetadata",!0)),rd=t,rd}function _V(t,e){function i(){let n=t.bucket,r=t.fullPath,s=new bn(n,r);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:i})}function vV(t,e,i){let n={};n.type="file";let r=i.length;for(let s=0;s<r;s++){let o=i[s];n[o.local]=o.xform(n,e[o.server])}return _V(n,t),n}function KT(t,e,i){let n=GT(e);return n===null?null:vV(t,n,i)}function yV(t,e,i,n){let r=GT(e);if(r===null||!E_(r.downloadTokens))return null;let s=r.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let f=t.bucket,m=t.fullPath,_="/b/"+o(f)+"/o/"+o(m),C=C_(_,i,n),P=zT({alt:"media",token:u});return C+P})[0]}function bV(t,e){let i={},n=e.length;for(let r=0;r<n;r++){let s=e[r];s.writable&&(i[s.server]=t[s.local])}return JSON.stringify(i)}var ad=class{constructor(e,i,n,r){this.url=e,this.method=i,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function QT(t){if(!t)throw I_()}function wV(t,e){function i(n,r){let s=KT(t,r,e);return QT(s!==null),s}return i}function IV(t,e){function i(n,r){let s=KT(t,r,e);return QT(s!==null),yV(s,r,t.host,t._protocol)}return i}function YT(t){function e(i,n){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=VF():r=FF():i.getStatus()===402?r=NF(t.bucket):i.getStatus()===403?r=LF(t.path):r=n,r.status=i.getStatus(),r.serverResponse=n.serverResponse,r}return e}function EV(t){let e=YT(t);function i(n,r){let s=e(n,r);return n.getStatus()===404&&(s=OF(t.path)),s.serverResponse=r.serverResponse,s}return i}function TV(t,e,i){let n=e.fullServerUrl(),r=C_(n,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,c=new ad(r,s,IV(t,i),o);return c.errorHandler=EV(e),c}function CV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function SV(t,e,i){let n=Object.assign({},i);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=CV(null,e)),n}function AV(t,e,i,n,r){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let Z="";for(let X=0;X<2;X++)Z=Z+Math.random().toString().slice(2);return Z}let l=c();o["Content-Type"]="multipart/related; boundary="+l;let u=SV(e,n,r),f=bV(u,i),m="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,_=`\r
--`+l+"--",C=od.getBlob(m,n,_);if(C===null)throw qF();let P={name:u.fullPath},F=C_(s,t.host,t._protocol),k="POST",U=t.maxUploadRetryTime,Q=new ad(F,k,wV(t,i),U);return Q.urlParams=P,Q.headers=o,Q.body=C.uploadData(),Q.errorHandler=YT(e),Q}var eG=256*1024;var NT=null,b_=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=qs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=qs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=qs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,i,n,r){if(this.sent_)throw za("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,e,!0),r!==void 0)for(let s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw za("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw za("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw za("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw za("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},w_=class extends b_{initXhr(){this.xhr_.responseType="text"}};function XT(){return NT?NT():new w_}var Gs=class t{constructor(e,i){this._service=e,i instanceof bn?this._location=i:this._location=bn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new t(e,i)}get root(){let e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HT(this._location.path)}get storage(){return this._service}get parent(){let e=fV(this._location.path);if(e===null)return null;let i=new bn(this._location.bucket,e);return new t(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw WF(e)}};function RV(t,e,i){t._throwIfRoot("uploadBytes");let n=AV(t.storage,t._location,WT(),new od(e,!0),i);return t.storage.makeRequestWithTokens(n,XT).then(r=>({metadata:r,ref:t}))}function kV(t){t._throwIfRoot("getDownloadURL");let e=TV(t.storage,t._location,WT());return t.storage.makeRequestWithTokens(e,XT).then(i=>{if(i===null)throw GF();return i})}function DV(t,e){let i=pV(t._location.path,e),n=new bn(t._location.bucket,i);return new Gs(t.storage,n)}function xV(t){return/^[A-Za-z]+:\/\//.test(t)}function PV(t,e){return new Gs(t,e)}function JT(t,e){if(t instanceof Ga){let i=t;if(i._bucket==null)throw $F();let n=new Gs(i,i._bucket);return e!=null?JT(n,e):n}else return e!==void 0?DV(t,e):t}function MV(t,e){if(e&&xV(e)){if(t instanceof Ga)return PV(t,e);throw __("To use ref(service, url), the first argument must be a Storage instance.")}else return JT(t,e)}function FT(t,e){let i=e?.[jT];return i==null?null:bn.makeFromBucketSpec(i,t)}function OV(t,e,i,n={}){t.host=`${e}:${i}`,t._protocol="http";let{mockUserToken:r}=n;r&&(t._overrideAuthToken=typeof r=="string"?r:Tl(r,t.app.options.projectId))}var Ga=class{constructor(e,i,n,r,s){this.app=e,this._authProvider=i,this._appCheckProvider=n,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=UT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PF,this._maxUploadRetryTime=MF,this._requests=new Set,r!=null?this._bucket=bn.makeFromBucketSpec(r,this._host):this._bucket=FT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=bn.makeFromBucketSpec(this._url,e):this._bucket=FT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return v(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let i=yield e.getToken();if(i!==null)return i.accessToken}return null})}_getAppCheckToken(){return v(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gs(this,e)}_makeRequest(e,i,n,r,s=!0){if(this._deleted)return new v_(BT());{let o=iV(e,this._appId,n,r,i,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,i){return v(this,null,function*(){let[n,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,n,r).getPromise()})}},VT="@firebase/storage",LT="0.12.5";var ZT="storage";function S_(t,e,i){return t=Ve(t),RV(t,e,i)}function cd(t){return t=Ve(t),kV(t)}function ld(t,e){return t=Ve(t),MV(t,e)}function Ha(t=ki(),e){t=Ve(t);let n=lr(t,ZT).getImmediate({identifier:e}),r=El("storage");return r&&eC(n,...r),n}function eC(t,e,i,n={}){OV(t,e,i,n)}function NV(t,{instanceIdentifier:e}){let i=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Ga(i,n,r,e,kn)}function FV(){Rn(new jt(ZT,NV,"PUBLIC").setMultipleInstances(!0)),ze(VT,LT,""),ze(VT,LT,"esm2017")}FV();var tC=(()=>{let e=class e{constructor(n){this.fireStore=n}subirImagenAsync(n,r,s){return v(this,null,function*(){let o=`/${n}/${r}`;try{let c=Ha(),l=ld(c,o);return yield S_(l,s),yield cd(l)}catch(c){throw console.error("Error al subir la imagen:",c),c}})}getImagenAsync(n,r){return v(this,null,function*(){let s=`/${n}/${r}`;try{let o=Ha(),c=ld(o,s);return yield cd(c)}catch(o){throw console.error("Error al obtener la URL de la imagen:",o),o}})}};e.\u0275fac=function(r){return new(r||e)(z(ai))},e.\u0275prov=K({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var LV=()=>({standalone:!0});function UV(t,e){if(t&1){let i=Ce();A(0,"div",23)(1,"mat-button-toggle-group",24),re("change",function(r){pe(i);let s=J();return me(s.selectorTipoDeUsuario(r))}),A(2,"mat-button-toggle",25),N(3,"Paciente"),S(),A(4,"mat-button-toggle",26),N(5,"Especialista"),S()()()}t&2&&(M(),V("value","paciente"))}function jV(t,e){if(t&1){let i=Ce();A(0,"div",23)(1,"mat-button-toggle-group",24),re("change",function(r){pe(i);let s=J();return me(s.selectorTipoDeUsuario(r))}),A(2,"mat-button-toggle",25),N(3,"Paciente"),S(),A(4,"mat-button-toggle",26),N(5,"Especialista"),S(),A(6,"mat-button-toggle",27),N(7,"Admin"),S()()()}t&2&&(M(),V("value","paciente"))}function BV(t,e){t&1&&(A(0,"div"),N(1,"La edad es requerida."),S())}function zV(t,e){t&1&&(A(0,"div"),N(1,"La edad m\xEDnima es 18."),S())}function $V(t,e){t&1&&(A(0,"div"),N(1,"La edad m\xE1xima es 100."),S())}function qV(t,e){if(t&1&&(A(0,"div",28),H(1,BV,2,0,"div",18)(2,zV,2,0,"div",18)(3,$V,2,0,"div",18),S()),t&2){let i=J();M(),V("ngIf",i.Edad==null||i.Edad.errors==null?null:i.Edad.errors.required),M(),V("ngIf",i.Edad==null||i.Edad.errors==null?null:i.Edad.errors.min),M(),V("ngIf",i.Edad==null||i.Edad.errors==null?null:i.Edad.errors.max)}}function GV(t,e){t&1&&(A(0,"div"),N(1,"El DNI es requerido."),S())}function HV(t,e){t&1&&(A(0,"div"),N(1,"El DNI debe ser un n\xFAmero de 7 a 8 d\xEDgitos."),S())}function WV(t,e){if(t&1&&(A(0,"div",28),H(1,GV,2,0,"div",18)(2,HV,2,0,"div",18),S()),t&2){let i=J();M(),V("ngIf",i.Dni==null||i.Dni.errors==null?null:i.Dni.errors.required),M(),V("ngIf",i.Dni==null||i.Dni.errors==null?null:i.Dni.errors.pattern)}}function KV(t,e){t&1&&(A(0,"div"),N(1,"El email es requerido."),S())}function QV(t,e){t&1&&(A(0,"div"),N(1,"El formato del email no es v\xE1lido."),S())}function YV(t,e){if(t&1&&(A(0,"div",28),H(1,KV,2,0,"div",18)(2,QV,2,0,"div",18),S()),t&2){let i=J();M(),V("ngIf",i.Email==null||i.Email.errors==null?null:i.Email.errors.required),M(),V("ngIf",i.Email==null||i.Email.errors==null?null:i.Email.errors.email)}}function XV(t,e){t&1&&(A(0,"div",6)(1,"label",7),N(2,"Obra Social: "),S(),q(3,"input",29),S())}function JV(t,e){if(t&1){let i=Ce();A(0,"div",6)(1,"label",7),N(2,"Foto 2: "),S(),A(3,"input",15),re("change",function(r){pe(i);let s=J();return me(s.onFileChange(r,"imagen2"))}),S(),q(4,"div",5)(5,"input",30),S()}}function ZV(t,e){if(t&1&&(A(0,"option",35),N(1),S()),t&2){let i=e.$implicit;V("value",i.especialidad),M(),yo(i.especialidad)}}function eL(t,e){if(t&1){let i=Ce();A(0,"div"),N(1," Especialidad: "),A(2,"select",31),ny("ngModelChange",function(r){pe(i);let s=J();return ty(s.opcionSeleccionada,r)||(s.opcionSeleccionada=r),me(r)}),re("ngModelChange",function(){pe(i);let r=J();return me(r.seleccionarOpcion())}),A(3,"option",32),N(4,"Selecciona una opci\xF3n"),S(),H(5,ZV,2,2,"option",33),A(6,"option",34),N(7,"Nuevo"),S()()()}if(t&2){let i=J();M(2),ey("ngModel",i.opcionSeleccionada),V("ngModelOptions",iy(3,LV)),M(3),V("ngForOf",i.lista)}}function tL(t,e){if(t&1&&(A(0,"div",36)(1,"p",37),N(2),S()()),t&2){let i=J();M(2),yo(i.mensaje)}}function nL(t,e){if(t&1){let i=Ce();A(0,"div")(1,"form",38),re("ngSubmit",function(){pe(i);let r=J();return me(r.onGuardarEspecialidad())}),A(2,"div",6)(3,"label",7),N(4,"NUEVA ESPECIALIDAD: "),S(),q(5,"input",39),S(),A(6,"div",19),q(7,"input",40),S()()()}if(t&2){let i=J();M(),V("formGroup",i.formEspecialidad)}}var A_=function(t){return t.admin="admin",t.Otros="otros",t}(A_||{}),ud=(()=>{let e=class e{constructor(n,r,s,o,c){this.userService=n,this.router=r,this.formBuilder=s,this.fireStore=o,this.cloudStorage=c,this.email="",this.clave="",this.checked=!1,this.checked2=!1,this.mensaje="",this.validationUserMessage={type:"errorType",message:"El email es incorrecto. Pruebe nuevamente"},this.validationFormUser=new Ti({}),this.rol=A_.Otros,this.tiposRol=Object.values(A_),this.lista=[],this.especialidades=Object.values(this.lista),this.opcionSeleccionada="",this.tipoUsuario="paciente",this.estadoAcceso="aprobado",this.mostrarNuevaEspecialidad=!1,this.mostrarMensaje=!1,this.esAdmin=!1,this.mostrarEspecialidad=!1,this.mostrarObraSocial=!0,this.mostrarFoto2=!0,this.imageUrl="",this.formRegistro=this.formBuilder.group({nombre:new en,apellido:new en,dni:["",[Tt.required,Tt.pattern(/^[0-9]{7,8}$/)]],edad:["",[Tt.required,Tt.min(18),Tt.max(100)]],obraSocial:new en,email:["",[Tt.required,Tt.email]],clave:["",[Tt.required]],imagen1:new en,imagen2:new en,especialidad:new en}),this.formEspecialidad=this.formBuilder.group({especialidad:["",Tt.required]})}get Email(){return this.formRegistro.get("email")}get Edad(){return this.formRegistro.get("edad")}get Dni(){return this.formRegistro.get("dni")}ngOnInit(){this.getDatos()}getDatos(){this.fireStore.obtenerDato("especialidades").subscribe(n=>{this.lista=n,console.log("especialidades: ",this.lista)}),this.email=localStorage.getItem("user"),console.log("user",this.email),this.fireStore.obtenerDatoPorCriterio("usuarios","email",this.email).subscribe(n=>{this.usuario=n[0],this.usuario&&this.usuario.tipoUsuario==="admin"&&(this.esAdmin=!0,console.log("esAdminx:",this.esAdmin))})}yaEsUsuario(){return this.router.navigate(["/login"]),!1}onRegistrar(){this.formRegistro.valid&&(this.tipoUsuario=="paciente"?this.userService.registrarConVerificacion(this.formRegistro.value).then(n=>{let r=n.user.email||"null";localStorage.setItem("user",r)}).catch(n=>this.setMensaje(n,1)):this.userService.registrar(this.formRegistro.value).then(n=>{let r=n.user.email||"null";localStorage.setItem("user",r)}).catch(n=>this.setMensaje(n,1)),setTimeout(()=>{let n={nombre:this.formRegistro.value.nombre||"",apellido:this.formRegistro.value.apellido||"",edad:this.formRegistro.value.edad||"",dni:this.formRegistro.value.dni||"",email:this.formRegistro.value.email||"",password:this.formRegistro.value.clave||"",imagen1:this.formRegistro.value.imagen1||"",imagen2:this.formRegistro.value.imagen2||"",obraSocial:this.formRegistro.value.obraSocial||"",estadoAcceso:this.estadoAcceso,tipoUsuario:this.tipoUsuario,especialidad:this.opcionSeleccionada||""};this.fireStore.setData(n,"usuarios"),console.log("Guardar usuario:",n),this.esAdmin?alert("Usuario creado!"):this.router.navigate(["/login"])},1500))}onGuardarEspecialidad(){this.fireStore.setData(this.formEspecialidad.value,"especialidades"),this.opcionSeleccionada=this.formEspecialidad.value.especialidad,console.log("Guardar especialidad:",this.formEspecialidad.value.especialidad),this.formEspecialidad.reset(),this.mostrarNuevaEspecialidad=!1}setMensaje(n,r){switch(this.mostrarMensaje=!0,n.code){case"auth/invalid-credential":this.mensaje="La contrase\xF1a proporcionada no es v\xE1lida.";break;case"auth/invalid-email":this.mensaje="El correo electr\xF3nico proporcionado no es v\xE1lido.";break;case"auth/missing-password":this.mensaje="La contrase\xF1a es obligatoria.";break;case"auth/missing-email":this.mensaje="El correo electr\xF3nico es obligatorio.";break;case"auth/email-already-in-use":this.mensaje="El correo electr\xF3nico ya est\xE1 en uso.";break;case"NaN":this.mensaje="La contrase\xF1a es incorrecta.";break;default:this.mensaje="Se produjo un error desconocido.",console.log(this.mensaje+" Api Response: "+n);break}setTimeout(()=>{this.mostrarMensaje=!1,this.mensaje=""},3e3)}selectorTipoDeUsuario(n){console.log("tipoUsuario: ",n.value),n.value=="especialista"?(this.estadoAcceso="pendiente",this.mostrarEspecialidad=!0,this.mostrarFoto2=!1,this.mostrarObraSocial=!1):n.value=="admin"?(this.estadoAcceso="aprobado",this.mostrarEspecialidad=!1,this.mostrarFoto2=!1,this.mostrarObraSocial=!1):(this.estadoAcceso="aprobado",this.mostrarEspecialidad=!1,this.mostrarFoto2=!0,this.mostrarObraSocial=!0),this.tipoUsuario=n.value}seleccionarOpcion(){this.opcionSeleccionada=="Nuevo"?this.mostrarNuevaEspecialidad=!0:this.mostrarNuevaEspecialidad=!1}onFileChange(n,r){return v(this,null,function*(){let s=this.generarCodigoAleatorio();console.log("codigo: ",s);let o=n.target.files[0];if(o)try{this.imageUrl=yield this.cloudStorage.subirImagenAsync("perfiles",s,o),console.log("url subido: ",this.imageUrl),this.formRegistro.patchValue({[r]:this.imageUrl})}catch(c){console.error("Error al subir la imagen:",c)}})}getImagen(n,r){return v(this,null,function*(){try{this.imageUrl=yield this.cloudStorage.getImagenAsync(n,r),console.log("URL de la imagen:",this.imageUrl)}catch(s){console.error("Error al obtener la imagen:",s)}})}generarCodigoAleatorio(){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="";for(let s=0;s<10;s++){let o=Math.floor(Math.random()*n.length);r+=n.charAt(o)}return r}};e.\u0275fac=function(r){return new(r||e)(x(Bt),x(Ut),x(fl),x(on),x(tC))},e.\u0275cmp=de({type:e,selectors:[["app-registro"]],standalone:!0,features:[he],decls:54,vars:11,consts:[[1,"login-background"],[1,"formulario"],["src","https://github.com/dsvlivon/imagenes/blob/main/DV_logo.png?raw=true","alt","Logo",1,"logo"],[1,"login-form",3,"ngSubmit","formGroup"],["class","mb-3","style","align-items: center; display: flex; width: 80%; margin-left: 25%;",4,"ngIf"],[2,"margin-top","20px"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","nombre",1,"form-control"],["type","text","formControlName","apellido",1,"form-control"],["type","number","formControlName","edad","min","18","max","100",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","dni","pattern","^[0-9]{7,8}$",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["class","mb-3",4,"ngIf"],["type","file",3,"change"],["type","text","formControlName","imagen1",1,"form-control"],["type","password","formControlName","clave",1,"form-control"],[4,"ngIf"],[2,"align-items","center","display","flex"],["href","#",1,"link",2,"color","white","width","100%",3,"click"],["type","submit","value","Registrar",1,"btn-76"],["style","text-align: center;",4,"ngIf"],[1,"mb-3",2,"align-items","center","display","flex","width","80%","margin-left","25%"],["name","fontStyle","aria-label","Font Style",3,"change","value"],["value","paciente"],["value","especialista"],["value","admin"],[1,"text-danger"],["type","text","formControlName","obraSocial",1,"form-control"],["type","text","formControlName","imagen2",1,"form-control"],[3,"ngModelChange","ngModel","ngModelOptions"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","Nuevo"],[3,"value"],[2,"text-align","center"],[2,"margin-top","20px","color","darkslategrey","text-shadow","0 0 10px white"],[1,"nuevo-form",3,"ngSubmit","formGroup"],["type","text","formControlName","especialidad",1,"form-control2"],["type","submit","value","Guardar",1,"btn-76",2,"margin-right","5%"]],template:function(r,s){r&1&&(A(0,"div",0)(1,"div",1),q(2,"img",2),A(3,"form",3),re("ngSubmit",function(){return s.onRegistrar()}),H(4,UV,6,1,"div",4)(5,jV,8,1,"div",4),q(6,"div",5),A(7,"div",6)(8,"label",7),N(9,"Nombre: "),S(),q(10,"input",8),S(),A(11,"div",6)(12,"label",7),N(13,"Apellido: "),S(),q(14,"input",9),S(),A(15,"div",6)(16,"label",7),N(17,"Edad: "),S(),q(18,"input",10),H(19,qV,4,3,"div",11),S(),A(20,"div",6)(21,"label",7),N(22,"DNI: "),S(),q(23,"input",12),H(24,WV,3,2,"div",11),S(),A(25,"div",6)(26,"label",7),N(27,"Email: "),S(),q(28,"input",13),H(29,YV,3,2,"div",11),S(),H(30,XV,4,0,"div",14),A(31,"div",6),q(32,"div",5),A(33,"label",7),N(34,"Foto 1: "),S(),A(35,"input",15),re("change",function(c){return s.onFileChange(c,"imagen1")}),S(),q(36,"div",5)(37,"input",16),S(),H(38,JV,6,0,"div",14),A(39,"div",6)(40,"label",7),N(41,"Clave: "),S(),q(42,"input",17),S(),q(43,"div",5),H(44,eL,8,4,"div",18),q(45,"div",5),A(46,"div",19)(47,"a",20),re("click",function(){return s.yaEsUsuario()}),N(48,"\xBFYa tienes una cuenta? \xA1Inicia sesi\xF3n aqu\xED!"),S()(),q(49,"div",5),A(50,"div",19),q(51,"input",21),S()(),H(52,tL,3,1,"div",22)(53,nL,8,1,"div",18),S()()),r&2&&(M(3),V("formGroup",s.formRegistro),M(),V("ngIf",!s.esAdmin),M(),V("ngIf",s.esAdmin),M(14),V("ngIf",(s.Edad==null?null:s.Edad.invalid)&&((s.Edad==null?null:s.Edad.dirty)||(s.Edad==null?null:s.Edad.touched))),M(5),V("ngIf",(s.Dni==null?null:s.Dni.invalid)&&((s.Dni==null?null:s.Dni.dirty)||(s.Dni==null?null:s.Dni.touched))),M(5),V("ngIf",(s.Email==null?null:s.Email.invalid)&&((s.Email==null?null:s.Email.dirty)||(s.Email==null?null:s.Email.touched))),M(),V("ngIf",s.mostrarObraSocial),M(8),V("ngIf",s.mostrarFoto2),M(6),V("ngIf",s.mostrarEspecialidad),M(8),V("ngIf",s.mostrarMensaje),M(),V("ngIf",s.mostrarNuevaEspecialidad))},dependencies:[Ht,uy,Tn,is,dl,W0,Q0,ts,df,hl,ol,al,mf,pf,ff,Xo,Jo,ns,uf,_l,PT,m_,id],styles:[".login-background[_ngcontent-%COMP%]{background-image:url(https://github.com/dsvlivon/imagenes/blob/main/parciales/fondo-background-azul.jpg?raw=true);background-size:cover;background-position:center;background-attachment:fixed;background-repeat:no-repeat;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}.formulario[_ngcontent-%COMP%]{background-color:#87cefa;color:#fff;border-radius:8%;width:550px;height:auto;box-shadow:0 0 50px 5px #87cefa;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px}.login-form[_ngcontent-%COMP%]{width:80%;margin-bottom:20px}.nuevo-form[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;background-color:#fff;align-items:center;display:flex;justify-items:center}.form-label[_ngcontent-%COMP%]{margin-bottom:5px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px}.form-control2[_ngcontent-%COMP%]{margin-left:10%;width:80%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px}.btn-submit[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}.btn-google[_ngcontent-%COMP%]{padding:10px 20px;background-color:#dc3545;color:#fff;border:none;border-radius:4px;cursor:pointer}.btn-76[_ngcontent-%COMP%], .btn-76[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .btn-76[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, .btn-76[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before, .btn-76[_ngcontent-%COMP%]:after, .btn-76[_ngcontent-%COMP%]:before{border:0 solid;box-sizing:border-box}.btn-76[_ngcontent-%COMP%]{-webkit-tap-highlight-color:transparent;-webkit-appearance:button;background-color:#000;background-image:none;color:#fff;cursor:pointer;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-size:100%;line-height:1.5;margin:0;-webkit-mask-image:-webkit-radial-gradient(#000,#fff);padding:0}.btn-76[_ngcontent-%COMP%]:disabled{cursor:default}.btn-76[_ngcontent-%COMP%]:-moz-focusring{outline:auto}.btn-76[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;vertical-align:middle}.btn-76[_ngcontent-%COMP%]   [hidden][_ngcontent-%COMP%]{display:none}.btn-76[_ngcontent-%COMP%]{--neon: #0ea5e9;box-sizing:border-box;display:block;font-weight:900;-webkit-mask-image:none;outline:4px solid #fff;outline-offset:-4px;overflow:hidden;padding:1.2rem 3rem;position:relative;text-transform:uppercase;transition:.2s linear .1s;width:100%;margin-left:3%}.btn-76[_ngcontent-%COMP%]:hover{background:var(--neon);box-shadow:0 0 5px var(--neon),0 0 25px var(--neon),0 0 50px var(--neon),0 0 100px var(--neon);color:#fff;outline-color:transparent;transition:.2s linear .6s}.btn-76[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;inset:0;position:absolute}.btn-76[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{border-top:4px solid var(--neon);opacity:0;transform:translate(calc(-100% + var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .top[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear}.btn-76[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{border-right:4px solid var(--neon);opacity:0;transform:translateY(calc(-100% + var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .right[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear .2s}.btn-76[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{border-bottom:4px solid var(--neon);opacity:0;transform:translate(calc(100% - var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .bottom[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear .4s}.btn-76[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{border-left:4px solid var(--neon);opacity:0;transform:translateY(calc(100% - var(--progress, 0%)));transition:none}.btn-76[_ngcontent-%COMP%]:hover   .left[_ngcontent-%COMP%]{--progress: 100%;opacity:1;transition:transform .2s linear .6s}"]});let t=e;return t})();function iL(t,e){if(t&1){let i=Ce();A(0,"a",14),re("click",function(){pe(i);let r=J();return me(r.goRegistro())}),A(1,"mat-icon"),N(2,"add_circle_outline"),S()()}}function rL(t,e){if(t&1){let i=Ce();A(0,"a",15),re("click",function(){pe(i);let r=J();return me(r.goUsuarios())}),A(1,"mat-icon"),N(2,"supervisor_account"),S()()}}function sL(t,e){if(t&1){let i=Ce();A(0,"a",16),re("click",function(){pe(i);let r=J();return me(r.goHome())}),A(1,"mat-icon"),N(2,"home"),S()()}}function oL(t,e){t&1&&(A(0,"div"),q(1,"app-habilitar-usuarios"),S())}function aL(t,e){t&1&&(A(0,"div"),q(1,"app-registro"),S())}function cL(t,e){t&1&&(A(0,"div",17),N(1," No puede realizar otras acciones hasta que su perfil sea habilitado por un Administrador. "),S())}var nC=(()=>{let e=class e{constructor(n,r,s){this.fireStore=n,this.authService=r,this.router=s,this.mostrarConfirmacion=!0,this.mostrarHabilitar=!1,this.mostrarRegistro=!1,this.esAdmin=!1,this.authSrv=$(Bt)}ngOnInit(){this.email=localStorage.getItem("user"),console.log("user",this.email),this.fireStore.obtenerDatoPorCriterio("usuarios","email",this.email).subscribe(n=>{this.usuario=n[0],this.usuario&&(this.usuario.estadoAcceso==="aprobado"&&(this.mostrarConfirmacion=!1),this.usuario.tipoUsuario==="admin"&&(this.esAdmin=!0))})}goLogOut(){this.mostrarSpinner=!0,console.log("spinner: ",this.mostrarSpinner),setTimeout(()=>{this.authService.logout(),this.mostrarSpinner=!1,console.log("spinner: ",this.mostrarSpinner),this.router.navigateByUrl("bienvenido",{replaceUrl:!0})},1500)}goHome(){this.router.navigate(["/home"])}goVolver(){this.router.navigateByUrl("/home",{replaceUrl:!0})}goUsuarios(){this.mostrarHabilitar=!this.mostrarHabilitar,this.mostrarRegistro=!this.mostrarHabilitar}goRegistro(){this.mostrarRegistro=!this.mostrarRegistro,this.mostrarHabilitar=!this.mostrarRegistro}};e.\u0275fac=function(r){return new(r||e)(x(on),x(Bt),x(Ut))},e.\u0275cmp=de({type:e,selectors:[["app-home"]],inputs:{mostrarSpinner:"mostrarSpinner"},standalone:!0,features:[he],decls:23,vars:8,consts:[[1,"navbar"],[1,"izq"],[3,"click"],["src","https://github.com/dsvlivon/imagenes/blob/main/DV_logo.png?raw=true","alt","Logo",1,"logo","scale-up-center"],[2,"align-items","right","; margin-left","40%","margin-top","1%","display","flex","flex-direction","flex-end","font-style","italic","color","darkblue","font-size","medium"],[1,"der"],[1,"nav-links"],["title","Alta de Usaurios",3,"click",4,"ngIf"],["title","Usuaruis",3,"click",4,"ngIf"],["title","Home",3,"click",4,"ngIf"],["title","Salir",3,"click"],[4,"ngIf"],[1,"home-background"],["class","confirmation-message",4,"ngIf"],["title","Alta de Usaurios",3,"click"],["title","Usuaruis",3,"click"],["title","Home",3,"click"],[1,"confirmation-message"]],template:function(r,s){r&1&&(A(0,"mat-toolbar",0)(1,"div",1)(2,"a",2),re("click",function(){return s.goHome()}),q(3,"img",3),S()(),A(4,"div",4)(5,"p"),N(6),S()(),A(7,"div",5)(8,"ul",6)(9,"li"),H(10,iL,3,0,"a",7),S(),A(11,"li"),H(12,rL,3,0,"a",8),S(),A(13,"li"),H(14,sL,3,0,"a",9),S(),A(15,"li")(16,"a",10),re("click",function(){return s.goLogOut()}),A(17,"mat-icon"),N(18,"open_in_new"),S()()()()()(),H(19,oL,2,0,"div",11)(20,aL,2,0,"div",11),A(21,"div",12),H(22,cL,2,0,"div",13),S()),r&2&&(M(6),Zv("Hola ",s.usuario.nombre," ",s.usuario.apellido,""),M(4),V("ngIf",s.esAdmin),M(2),V("ngIf",s.esAdmin),M(2),V("ngIf",!s.mostrarConfirmacion),M(5),V("ngIf",s.mostrarHabilitar),M(),V("ngIf",s.mostrarRegistro),M(2),V("ngIf",s.mostrarConfirmacion))},dependencies:[Ht,Tn,Eb,Ib,bl,kb,Db,td,ud],styles:[".home-background[_ngcontent-%COMP%]{background-image:url(https://github.com/dsvlivon/imagenes/blob/main/parciales/fondo-background-azul.jpg?raw=true);background-size:cover;background-position:center;background-attachment:fixed;background-repeat:no-repeat;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;position:relative}.confirmation-message[_ngcontent-%COMP%]{background-color:#000c;color:#fff;padding:20px;border-radius:5px;text-align:center;max-width:400px}body[_ngcontent-%COMP%]{margin:0;font-family:Arial,sans-serif}.navbar[_ngcontent-%COMP%]{background-color:#0ff;color:#fff;padding:10px 0;height:80px;display:flex}.der[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:100%;margin:0 auto;padding:20px}.izq[_ngcontent-%COMP%]{display:flex;justify-content:flex-start}.logo[_ngcontent-%COMP%]{justify-content:flex-start;font-size:24px;height:85px;width:auto}.nav-links[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:inline}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#08000e;text-decoration:none;padding:10px 20px;transition:background-color .3s ease}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#f0f;color:#f5f5f5}.content[_ngcontent-%COMP%]{padding:20px}.mostrarSpinnner[_ngcontent-%COMP%]{color:red;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:9999}.scale-up-center[_ngcontent-%COMP%]{-webkit-animation:_ngcontent-%COMP%_scale-up-center .4s cubic-bezier(.39,.575,.565,1) both;animation:_ngcontent-%COMP%_scale-up-center .4s cubic-bezier(.39,.575,.565,1) both}@-webkit-keyframes _ngcontent-%COMP%_scale-up-center{0%{-webkit-transform:scale(.5);transform:scale(.5)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes _ngcontent-%COMP%_scale-up-center{0%{-webkit-transform:scale(.5);transform:scale(.5)}to{-webkit-transform:scale(1);transform:scale(1)}}"]});let t=e;return t})();var iC=(()=>{let e=class e{constructor(n){this.router=n}goLogin(){this.router.navigate(["/login"])}goRegistro(){this.router.navigate(["/registro"])}};e.\u0275fac=function(r){return new(r||e)(x(Ut))},e.\u0275cmp=de({type:e,selectors:[["app-bienvenido"]],standalone:!0,features:[he],decls:12,vars:0,consts:[[1,"welcome-container"],["src","https://github.com/dsvlivon/imagenes/blob/main/DV_logo.png?raw=true","alt","Logo",1,"logo"],[1,"button-container"],[1,"btn","login-btn",3,"click"],[1,"btn","register-btn",3,"click"]],template:function(r,s){r&1&&(A(0,"body")(1,"div",0)(2,"h1"),N(3,"Clinica"),S(),q(4,"img",1),A(5,"h1"),N(6,"Bienvenido"),S(),A(7,"div",2)(8,"button",3),re("click",function(){return s.goLogin()}),N(9,"Iniciar Sesi\xF3n"),S(),A(10,"button",4),re("click",function(){return s.goRegistro()}),N(11,"Registrarse"),S()()()())},styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;font-family:Arial,sans-serif}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:center;align-items:center;background-color:#f0f0f0}.welcome-container[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:40px;border-radius:10px;box-shadow:0 4px 8px #0000001a}.welcome-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:20px}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px}.btn[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.login-btn[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.login-btn[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-btn[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.register-btn[_ngcontent-%COMP%]:hover{background-color:#218838}"]});let t=e;return t})();var rC=(t,e)=>{let i=$(Bt),n=$(on),r=$(Ut),s=localStorage.getItem("user");return s?n.obtenerDatoPorCriterio("usuarios","email",s).pipe(se(o=>{let c=o[0];return c&&c.estadoAcceso==="aprobado"&&c.tipoUsuario==="admin"?!0:(r.navigate(["/home"]),!1)})):(r.navigate(["/login"]),!1)};var sC=(t,e)=>{let i=$(Bt),n=$(Ut);return i.getCurrentUser()?!0:(n.navigate(["/login"]),!1)};var oC=[{path:"bienvenido",component:iC},{path:"",pathMatch:"full",redirectTo:"bienvenido"},{path:"",redirectTo:"/bienvenido",pathMatch:"full"},{path:"login",component:rT},{path:"home",component:nC,canActivate:[sC]},{path:"registro",component:ud},{path:"habilitar-usuarios",component:td,canActivate:[rC]}];var lL="@",uL=(()=>{let e=class e{constructor(n,r,s,o,c){this.doc=n,this.delegate=r,this.zone=s,this.animationType=o,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=$(Yv,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-MRRK3GUO.js").then(r=>r)).catch(r=>{throw new Pe(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(n,r){let s=this.delegate.createRenderer(n,r);if(s.\u0275type===0)return s;typeof s.throwOnSyntheticProps=="boolean"&&(s.throwOnSyntheticProps=!1);let o=new R_(s);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let l=c.createRenderer(n,r);o.use(l),this.scheduler?.notify(9)}).catch(c=>{o.use(s)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){Kd()},e.\u0275prov=K({token:e,factory:e.\u0275fac});let t=e;return t})(),R_=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,n,r){this.delegate.insertBefore(e,i,n,r)}removeChild(e,i,n){this.delegate.removeChild(e,i,n)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,n,r){this.delegate.setAttribute(e,i,n,r)}removeAttribute(e,i,n){this.delegate.removeAttribute(e,i,n)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,n,r){this.delegate.setStyle(e,i,n,r)}removeStyle(e,i,n){this.delegate.removeStyle(e,i,n)}setProperty(e,i,n){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(e,i,n)),this.delegate.setProperty(e,i,n)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,n){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(e,i,n)),this.delegate.listen(e,i,n)}shouldReplay(e){return this.replay!==null&&e.startsWith(lL)}};function aC(t="animations"){return Qd("NgAsyncAnimations"),Pt([{provide:_c,useFactory:(e,i,n)=>new uL(e,i,n,t),deps:[Te,Pc,fe]},{provide:Ki,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Wa=class{constructor(e){return e}},cC="storage",k_=class{constructor(){return dr(cC)}};var D_=new te("angularfire2.storage-instances");function dL(t,e){let i=hs(cC,t,e);return i&&new Wa(i)}function hL(t){return(e,i)=>{let n=e.runOutsideAngular(()=>t(i));return new Wa(n)}}var fL={provide:k_,deps:[[new it,D_]]},pL={provide:Wa,useFactory:dL,deps:[[new it,D_],mn]};function lC(t,...e){return ze("angularfire",Wn.full,"gcs"),Pt([pL,fL,{provide:D_,useFactory:hL(t),multi:!0,deps:[fe,Vt,xi,Kn,[new it,mr],[new it,Di],...e]}])}var uC=rt(Ha,!0);var dC={providers:[sy({eventCoalescing:!0}),f0(oC),aC(),Ey(),nw(()=>iw({projectId:"labo4tp2",appId:"1:1084582494770:web:95f3c06c36c6bd89b4b22b",storageBucket:"labo4tp2.appspot.com",apiKey:"AIzaSyD4YgPP0BgT9__nHk9ThqnZH5FSz1L3aZY",authDomain:"labo4tp2.firebaseapp.com",messagingSenderId:"1084582494770"})),Xw(()=>Jw()),YE(()=>ZE()),lC(()=>uC())]};var hC=(()=>{let e=class e{constructor(){this.title="labo4tp2"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["app-root"]],standalone:!0,features:[he],decls:2,vars:0,consts:[[1,"main"]],template:function(r,s){r&1&&q(0,"main",0)(1,"router-outlet")},dependencies:[Hh]});let t=e;return t})();Dy(hC,dC).catch(t=>console.error(t));
